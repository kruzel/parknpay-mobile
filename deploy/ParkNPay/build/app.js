
// lib/layout/contextual/source/ContextualLayout.js
enyo.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var t=this.getViewWidth(),i=this.getViewHeight(),o=this.container.vertFlushMargin,s=i-this.container.vertFlushMargin,e=this.container.horizFlushMargin,n=t-this.container.horizFlushMargin;if(o>this.offset.top+this.offset.height||this.offset.top>s){if(this.applyVerticalFlushPositioning(e,n))return;if(this.applyHorizontalFlushPositioning(e,n))return;if(this.applyVerticalPositioning())return}else if((e>this.offset.left+this.offset.width||this.offset.left>n)&&this.applyHorizontalPositioning())return;var h=this.getBoundingRect(this.container.node);if(h.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(h.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var t=this.getBoundingRect(this.container.node),i=this.getViewHeight();return this.container.floating?i/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-t.height,bottom:"auto"}),this.container.addClass("above")):t.top+t.height>i&&i-t.bottom<t.top-t.height?this.container.addClass("above"):this.container.addClass("below"),t=this.getBoundingRect(this.container.node),t.top+t.height>i||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();if(this.container.floating){var o=this.offset.left+this.offset.width/2-t.width/2;o+t.width>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.width}),this.container.addClass("left")):0>o?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:o})}else{var s=this.offset.left+this.offset.width/2-t.left-t.width/2;t.right+s>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.right}),this.container.addRemoveClass("left",!0)):0>t.left+s?this.container.addRemoveClass("right",!0):this.applyPosition({left:s})}return!0},applyVerticalFlushPositioning:function(t,i){if(!this.initVerticalPositioning())return!1;var o=this.getBoundingRect(this.container.node),s=this.getViewWidth();return t>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-o.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>i?(this.offset.left+this.offset.width/2>s-this.container.horizBuffer?this.applyPosition({left:s-this.container.horizBuffer-o.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-o.right}),this.container.addClass("left"),this.container.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();return this.container.floating?i/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-t.width}),this.container.addRemoveClass("right",!0)):this.offset.left-t.width>0?(this.applyPosition({left:this.offset.left-t.left-t.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.container.node),0>t.left||t.left+t.width>i?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewHeight(),o=this.offset.top+this.offset.height/2;return this.container.floating?o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:this.offset.top+this.offset.height/2-t.height/2,bottom:"auto"}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top-this.offset.height,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-t.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:(this.offset.height-t.height)/2}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,i){if(!this.initHorizontalPositioning())return!1;var o=this.getBoundingRect(this.container.node),s=this.getViewHeight();return this.container.floating?s/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-o.height}),this.container.addRemoveClass("low",!0)):o.top+o.height>s&&s-o.bottom<o.top-o.height?(this.applyPosition({top:o.top-o.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),t>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>i?(this.container.addClass("right"),this.container.addClass("corner"),!0):!1},getBoundingRect:function(t){var i=t.getBoundingClientRect();return i.width&&i.height?i:{left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(t){var i="";for(var o in t)i+=o+":"+t[o]+(isNaN(t[o])?"; ":"px; ");this.container.addStyles(i)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}});

// lib/layout/fittable/source/FittableLayout.js
enyo.kind({name:"enyo.FittableLayout",kind:"Layout",calcFitIndex:function(){var t,i,o=this.container.children;for(i=0;o.length>i;i++)if(t=o[i],t.fit&&t.showing)return i},getFitControl:function(){var t=this.container.children,i=t[this.fitIndex];return i&&i.fit&&i.showing||(this.fitIndex=this.calcFitIndex(),i=t[this.fitIndex]),i},isRTL:function(){return"rtl"==enyo.dom.getComputedStyle(this.container.hasNode()).direction},getFirstChild:function(){var t=this.getShowingChildren();return this.isRTL()?t[t.length-1]:t[0]},getLastChild:function(){var t=this.getShowingChildren();return this.isRTL()?t[0]:t[t.length-1]},getShowingChildren:function(){for(var t=[],i=0,o=this.container.children,e=o.length;e>i;i++)o[i].showing&&t.push(o[i]);return t},_reflow:function(t,i,o,e){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var s,n,h,a,r,f=this.getFitControl(),l=this.container.hasNode(),d=0,g=0,c=0;if(f&&l){if(s=enyo.dom.calcPaddingExtents(l),n=f.getBounds(),d=l[i]-(s[o]+s[e]),this.isRTL()){a=this.getFirstChild(),c=d-(n[o]+n[t]);var p=enyo.dom.getComputedBoxValue(a.hasNode(),"margin",o)||0;if(a==f)g=p;else{var u=a.getBounds(),y=u[o];g=n[o]+p-y}}else{h=this.getLastChild(),g=n[o]-(s[o]||0);var w=enyo.dom.getComputedBoxValue(h.hasNode(),"margin",e)||0;if(h==f)c=w;else{var v=h.getBounds(),m=n[o]+n[t],C=v[o]+v[t]+w;c=C-m}}r=d-(g+c),f.applyStyle(t,r+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"});

// lib/layout/fittable/source/FittableRows.js
enyo.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1});

// lib/layout/fittable/source/FittableColumns.js
enyo.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1});

// lib/layout/fittable/source/FittableHeaderLayout.js
enyo.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:function(t,i,e,o){var n=e-o,s=this.getFitControl();0>n?(s.applyStyle("padding-left",Math.abs(n)+"px"),s.applyStyle("padding-right",null)):n>0?(s.applyStyle("padding-left",null),s.applyStyle("padding-right",Math.abs(n)+"px")):(s.applyStyle("padding-left",null),s.applyStyle("padding-right",null)),this.inherited(arguments)}});

// lib/layout/list/source/FlyweightRepeater.js
enyo.kind({name:"enyo.FlyweightRepeater",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:function(){this.inherited(arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()},noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(t){this.doSetupItem({index:t,selected:this.isSelected(t)})},generateChildHtml:function(){var t="";this.index=null;for(var i=0,e=0;this.count>i;i++)e=this.rowOffset+(this.bottomUp?this.count-i-1:i),this.setupItem(e),this.$.client.setAttribute("data-enyo-index",e),"h"==this.orient&&this.$.client.setStyle("display:inline-block;"),t+=this.inherited(arguments),this.$.client.teardownRender();return t},previewDomEvent:function(t){var i=this.index=this.rowForEvent(t);t.rowIndex=t.index=i,t.flyweight=this},decorateEvent:function(t,i){var e=i&&null!=i.index?i.index:this.index;i&&null!=e&&(i.index=e,i.flyweight=this),this.inherited(arguments)},tap:function(t,i){this.noSelect||-1===i.index||(this.toggleSelected?this.$.selection.toggle(i.index):this.$.selection.select(i.index))},selectDeselect:function(t,i){this.renderRow(i.key)},getSelection:function(){return this.$.selection},isSelected:function(t){return this.getSelection().isSelected(t)},renderRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);i&&(enyo.dom.setInnerHtml(i,this.$.client.generateChildHtml()),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:t}))}},fetchRowNode:function(t){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+t+'"]'):void 0},rowForEvent:function(t){if(!this.hasNode())return-1;for(var i=t.target;i&&i!==this.node;){var e=i.getAttribute&&i.getAttribute("data-enyo-index");if(null!==e)return Number(e);i=i.parentNode}return-1},prepareRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);enyo.FlyweightRepeater.claimNode(this.$.client,i)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(t,i,e){this.rowOffset>t||t>=this.count+this.rowOffset||i&&(this.prepareRow(t),enyo.call(e||null,i),this.lockRow())},statics:{claimNode:function(t,i){var e;i&&(e=i.id!==t.id?i.querySelector("#"+t.id):i),t.generated=Boolean(e||!t.tag),t.node=e,t.node&&t.rendered();for(var o,n=0,s=t.children;o=s[n];n++)this.claimNode(o,i)}}});

// lib/layout/list/source/List.js
enyo.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",noDefer:!0,published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,draggingRowNode:null,placeholderRowIndex:-1,dragToScrollThreshold:.1,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:function(t){t&&t.reorderable&&(this.touch=!0),this.inherited(arguments)},create:function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",this.inherited(arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.pageBound=this.orientV?"top":"left",this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)},initComponents:function(){this.createReorderTools(),this.inherited(arguments),this.createSwipeableComponents()},createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:function(){this.controlParentName="strategy",this.inherited(arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()},createSwipeableComponents:function(){for(var t=0;this.swipeableComponents.length>t;t++)this.$.swipeableComponents.createComponent(this.swipeableComponents[t],{owner:this.owner})},rendered:function(){this.inherited(arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()},resizeHandler:function(){this.inherited(arguments),this.refresh()},bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(t,e){this.$.strategy.dispatchEvent("on"+e.type,e,t)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},holdpulse:function(t,e){return this.getReorderable()&&!this.isReordering()?e.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(t,e)?(this.startReordering(e),!1):void 0:void 0},dragstart:function(t,e){return this.isReordering()?!0:this.isSwipeable()?this.swipeDragStart(t,e):void 0},drag:function(t,e){return this.shouldDoReorderDrag(e)?(e.preventDefault(),this.reorderDrag(e),!0):this.isSwipeable()?(e.preventDefault(),this.swipeDrag(t,e),!0):void 0},dragfinish:function(t,e){this.isReordering()?this.finishReordering(t,e):this.isSwipeable()&&this.swipeDragFinish(t,e)},up:function(t,e){this.isReordering()&&this.finishReordering(t,e)},generatePage:function(t,e){this.page=t;var i=this.rowsPerPage*this.page;this.$.generator.setRowOffset(i);var o=Math.min(this.count-i,this.rowsPerPage);this.$.generator.setCount(o);var n=this.$.generator.generateChildHtml();e.setContent(n),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var s=e.getBounds(),r=this.orientV?s.height:s.width;if(!this.rowSize&&r>0&&(this.rowSize=Math.floor(r/o),this.updateMetrics()),!this.fixedSize){var h=this.getPageSize(t);h!=r&&r>0&&(this.pageSizes[t]=r,this.portSize+=r-h)}},pageForRow:function(t){return Math.floor(t/this.rowsPerPage)},preserveDraggingRowNode:function(t){this.draggingRowNode&&this.pageForRow(this.draggingRowIndex)===t&&(this.$.holdingarea.hasNode().appendChild(this.draggingRowNode),this.draggingRowNode=null,this.removedInitialPage=!0)},update:function(t){var e=!1,i=this.positionToPageInfo(t),o=i.pos+this.scrollerSize/2,n=Math.floor(o/Math.max(i.size,this.scrollerSize)+.5)+i.no,s=0===n%2?n:n-1;this.p0!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p0),this.generatePage(s,this.$.page0),this.positionPage(s,this.$.page0),this.p0=s,e=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),s=0===n%2?Math.max(1,n-1):n,this.p1!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p1),this.generatePage(s,this.$.page1),this.positionPage(s,this.$.page1),this.p1=s,e=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),e&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(t){for(var e,i,o={},n=t.hasNode().querySelectorAll("div[data-enyo-index]"),s=0;n.length>s;s++)e=n[s].getAttribute("data-enyo-index"),null!==e&&(i=enyo.dom.getBounds(n[s]),o[parseInt(e,10)]={height:i.height,width:i.width});return o},updateRowBounds:function(t){this.p0RowBounds[t]?this.updateRowBoundsAtIndex(t,this.p0RowBounds,this.$.page0):this.p1RowBounds[t]&&this.updateRowBoundsAtIndex(t,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(t,e,i){var o=i.hasNode().querySelector('div[data-enyo-index="'+t+'"]'),n=enyo.dom.getBounds(o);e[t].height=n.height,e[t].width=n.width},updateForPosition:function(t){this.update(this.calcPos(t))},calcPos:function(t){return this.bottomUp?this.portSize-this.scrollerSize-t:t},adjustBottomPage:function(){var t=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(t.pageNo,t)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var t=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",t+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t);e.applyStyle(this.pageBound,i+"px")},pageToPosition:function(t){for(var e=0,i=t;i>0;)i--,e+=this.getPageSize(i);return e},positionToPageInfo:function(t){for(var e=-1,i=this.calcPos(t),o=this.defaultPageSize;i>=0;)e++,o=this.getPageSize(e),i-=o;return e=Math.max(e,0),{no:e,size:o,pos:i+o,startRow:e*this.rowsPerPage,endRow:Math.min((e+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(t){return t==Math.max(0,Math.min(this.pageCount-1,t))},getPageSize:function(t){var e=this.pageSizes[t];if(!e){var i=this.rowsPerPage*t,o=Math.min(this.count-i,this.rowsPerPage);e=this.defaultPageSize*(o/this.rowsPerPage)}return Math.max(1,e)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:function(t,e){var i=this.inherited(arguments),o=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===o?i:(this.lastPos=o,this.update(o),this.pinnedReorderMode&&this.reorderScroll(t,e),i)},setScrollTop:function(t){this.update(t),this.inherited(arguments),this.twiddle()},getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(t){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(t))},scrollToBottom:function(){this.update(this.getScrollBounds().maxTop),this.inherited(arguments)},scrollToRow:function(t){var e=this.pageForRow(t),i=this.pageToPosition(e);if(this.updateForPosition(i),i=this.pageToPosition(e),this.setScrollPosition(i),e==this.p0||e==this.p1){var o=this.$.generator.fetchRowNode(t);if(o){var n=this.orientV?o.offsetTop:o.offsetLeft;this.bottomUp&&(n=this.getPageSize(e)-(this.orientV?o.offsetHeight:o.offsetWidth)-n);var s=this.getScrollPosition()+n;this.setScrollPosition(s)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===enyo.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(t,e){return this.getSelection().select(t,e)},deselect:function(t){return this.getSelection().deselect(t)},isSelected:function(t){return this.$.generator.isSelected(t)},renderRow:function(t){this.$.generator.renderRow(t)},rowRendered:function(t,e){this.updateRowBounds(e.rowIndex)},prepareRow:function(t){this.$.generator.prepareRow(t)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(t,e,i){this.$.generator.performOnRow(t,e,i)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var t=this.getStrategy();enyo.call(t,"twiddle")},pageForPageNumber:function(t,e){return 0===t%2?e&&t!==this.p0?null:this.$.page0:e&&t!==this.p1?null:this.$.page1},shouldStartReordering:function(t,e){return!this.getReorderable()||null==e.rowIndex||0>e.rowIndex||this.pinnedReorderMode||t!==this.$.strategy||null==e.index||0>e.index?!1:!0},startReordering:function(t){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents(t),this.styleReorderContainer(t),this.draggingRowIndex=this.placeholderRowIndex=t.rowIndex,this.draggingRowNode=t.target,this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(t.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(t.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.reorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.reorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(t){this.setItemPosition(this.$.reorderContainer,t.rowIndex),this.setItemBounds(this.$.reorderContainer,t.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(t)},appendNodeToReorderContainer:function(t){this.$.reorderContainer.createComponent({allowHtml:!0,content:t.innerHTML}).render()},centerReorderContainerOnPointer:function(t){var e=enyo.dom.calcNodePosition(this.hasNode()),i=t.pageX-e.left-parseInt(this.$.reorderContainer.domStyles.width,10)/2,o=t.pageY-e.top+this.getScrollTop()-parseInt(this.$.reorderContainer.domStyles.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(i-=this.getScrollLeft(),o-=this.getScrollTop()),this.positionReorderContainer(i,o)},positionReorderContainer:function(t,e){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+t+"px;top:"+e+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode?!1:!0},reorderDrag:function(t){this.positionReorderNode(t),this.checkForAutoScroll(t),this.updatePlaceholderPosition(t.pageY)},updatePlaceholderPosition:function(t){var e=this.getRowIndexFromCoordinate(t);-1!==e&&(e>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,e+1)):this.movePlaceholderToIndex(e))},positionReorderNode:function(t){var e=this.$.reorderContainer.getBounds(),i=e.left+t.ddx,o=e.top+t.ddy;o="ScrollStrategy"==this.getStrategyKind()?o+(this.getScrollTop()-this.prevScrollTop):o,this.$.reorderContainer.addStyles("top: "+o+"px ; left: "+i+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(t){var e,i=enyo.dom.calcNodePosition(this.hasNode()),o=this.getBounds();this.autoscrollPageY=t.pageY,t.pageY-i.top<o.height*this.dragToScrollThreshold?(e=100*(1-(t.pageY-i.top)/(o.height*this.dragToScrollThreshold)),this.scrollDistance=-1*e):t.pageY-i.top>o.height*(1-this.dragToScrollThreshold)?(e=100*((t.pageY-i.top-o.height*(1-this.dragToScrollThreshold))/(o.height-o.height*(1-this.dragToScrollThreshold))),this.scrollDistance=1*e):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(t){var e,i;if(!(0>t)){t>=this.count?(e=null,i=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(e=this.$.generator.fetchRowNode(t),i=e.parentNode);var o=this.pageForRow(t);o>=this.pageCount&&(o=this.currentPageNumber),i.insertBefore(this.placeholderNode,e),this.currentPageNumber!==o&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(o),this.updatePagePositions(o)),this.placeholderRowIndex=t,this.currentPageNumber=o,this.itemMoved=!0}},finishReordering:function(t,e){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(e),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,e),100),e.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var t=this.getRelativeOffset(this.placeholderNode,this.hasNode()),e="ScrollStrategy"==this.getStrategyKind()?t.top:t.top-this.getScrollTop(),i=t.left-this.getScrollLeft();this.positionReorderContainer(i,e)},completeFinishReordering:function(t){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(t),this.draggingRowIndex=this.placeholderRowIndex=-1,this.refresh(),void 0):(this.beginPinnedReorder(t),void 0)},beginPinnedReorder:function(t){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(enyo.mixin(t,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=t.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.pinnedReorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(t){this.doReorder(this.makeReorderEvent(t)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(t){return t.reorderFrom=this.draggingRowIndex,t.reorderTo=this.placeholderRowIndex,t},positionReorderedNode:function(){if(!this.removedInitialPage){var t=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(t&&(t.parentNode.insertBefore(this.hiddenNode,t),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var e,i,o=this.pageForPageNumber(this.currentPageNumber),n=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(e=o.hasNode().firstChild,n.hasNode().appendChild(e)):(e=o.hasNode().lastChild,i=n.hasNode().firstChild,n.hasNode().insertBefore(e,i)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),this.correctPageSizes(),void 0;var t,e,i,o,n=Math.min(this.draggingRowIndex,this.placeholderRowIndex),s=Math.max(this.draggingRowIndex,this.placeholderRowIndex),r=this.draggingRowIndex-this.placeholderRowIndex>0?1:-1;if(1===r){for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index","reordered"),e=s-1,i=s;e>=n;e--)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o+1,t.setAttribute("data-enyo-index",i));t=this.hasNode().querySelector('[data-enyo-index="reordered"]'),t.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index",this.placeholderRowIndex),e=n+1,i=n;s>=e;e++)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o-1,t.setAttribute("data-enyo-index",i))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(t){var e=this.$.generator.fetchRowNode(t);if(e){var i=this.getRelativeOffset(e,this.hasNode()),o=enyo.dom.getBounds(e);return{h:o.height,w:o.width,left:i.left,top:i.top}}},getRelativeOffset:function(t,e){var i={top:0,left:0};if(t!==e&&t.parentNode)do i.top+=t.offsetTop||0,i.left+=t.offsetLeft||0,t=t.offsetParent;while(t&&t!==e);return i},replaceNodeWithPlaceholder:function(t){var e=this.$.generator.fetchRowNode(t);if(!e)return enyo.log("No node - "+t),void 0;this.placeholderNode=this.createPlaceholderNode(e),this.hiddenNode=this.hideNode(e);var i=this.pageForPageNumber(this.currentPageNumber);i.hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(t){var e=this.$.placeholder.hasNode().cloneNode(!0),i=enyo.dom.getBounds(t);return e.style.height=i.height+"px",e.style.width=i.width+"px",e},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeDraggingRowNode:function(){this.draggingRowNode=null;var t=this.$.holdingarea.hasNode();t.innerHTML=""},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},updatePageSize:function(t){if(!(0>t)){var e=this.pageForPageNumber(t,!0);if(e){var i=this.pageSizes[t],o=Math.max(1,e.getBounds().height);this.pageSizes[t]=o,this.portSize+=o-i}}},updatePagePositions:function(t){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(t,this.pageForPageNumber(t))},correctPageSizes:function(){var t=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),t!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+t])},hideNode:function(t){return t.style.display="none",t},showNode:function(t){return t.style.display="block",t},dropPinnedRow:function(t){this.moveReorderedContainerToDroppedPosition(t),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,t),100)},cancelPinnedMode:function(t){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(t)},getRowIndexFromCoordinate:function(t){var e=this.getScrollTop()+t-enyo.dom.calcNodePosition(this.hasNode()).top;if(0>e)return-1;var i=this.positionToPageInfo(e),o=i.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!o)return this.count;for(var n=i.pos,s=this.placeholderNode?enyo.dom.getBounds(this.placeholderNode).height:0,r=0,h=i.startRow;i.endRow>=h;++h){if(h===this.placeholderRowIndex&&(r+=s,r>=n))return-1;if(h!==this.draggingRowIndex&&(r+=o[h].height,r>=n))return h}return h},getIndexPosition:function(t){return enyo.dom.calcNodePosition(this.$.generator.fetchRowNode(t))},setItemPosition:function(t,e){var i=this.getNodeStyle(e),o="ScrollStrategy"==this.getStrategyKind()?i.top:i.top-this.getScrollTop(),n="top:"+o+"px; left:"+i.left+"px;";t.addStyles(n)},setItemBounds:function(t,e){var i=this.getNodeStyle(e),o="width:"+i.w+"px; height:"+i.h+"px;";t.addStyles(o)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var t=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');t&&(this.hiddenNode=this.hideNode(t))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(t,e){return null==e.index||e.vertical?!0:(this.completeSwipeTimeout&&this.completeSwipe(e),this.swipeComplete=!1,this.swipeIndex!=e.index&&(this.clearSwipeables(),this.swipeIndex=e.index),this.swipeDirection=e.xDirection,this.persistentItemVisible||this.startSwipe(e),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(t,e){return this.persistentItemVisible?(this.dragPersistentItem(e),this.preventDragPropagation):this.isSwiping()?(this.dragSwipeableComponents(this.calcNewDragPosition(e.ddx)),this.draggedXDistance=e.dx,this.draggedYDistance=e.dy,!0):!1},swipeDragFinish:function(t,e){if(this.persistentItemVisible)this.dragFinishPersistentItem(e);else{if(!this.isSwiping())return!1;var i=this.calcPercentageDragged(this.draggedXDistance);i>this.percentageDraggedThreshold&&e.xDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(e)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(t,e){var i=this.$.generator.fetchRowNode(t);if(i){var o=this.getRelativeOffset(i,this.hasNode()),n=enyo.dom.getBounds(i),s=1==e?-1*n.width:n.width;this.$.swipeableComponents.addStyles("top: "+o.top+"px; left: "+s+"px; height: "+n.height+"px; width: "+n.width+"px;")}},calcNewDragPosition:function(t){var e=this.$.swipeableComponents.getBounds(),i=e.left,o=this.$.swipeableComponents.getBounds(),n=1==this.swipeDirection?0:-1*o.width,s=1==this.swipeDirection?i+t>n?n:i+t:n>i+t?n:i+t;return s},dragSwipeableComponents:function(t){this.$.swipeableComponents.applyStyle("left",t+"px")},startSwipe:function(t){t.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,t.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(t.xDirection),this.doSetupSwipeItem(t)},dragPersistentItem:function(t){var e=0,i="right"==this.persistentItemOrigin?Math.max(e,e+t.dx):Math.min(e,e+t.dx);this.$.swipeableComponents.applyStyle("left",i+"px")},dragFinishPersistentItem:function(t){var e=this.calcPercentageDragged(t.dx)>.2,i=t.dx>0?"right":0>t.dx?"left":null;this.persistentItemOrigin==i?e?this.slideAwayItem():this.bounceItem(t):this.bounceItem(t)},setPersistentItemOrigin:function(t){this.persistentItemOrigin=1==t?"left":"right"},calcPercentageDragged:function(t){return Math.abs(t/this.$.swipeableComponents.getBounds().width)},swipe:function(t){this.swipeComplete=!0,this.animateSwipe(0,t)},backOutSwipe:function(){var t=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?-1*t.width:t.width;this.animateSwipe(e,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var t=this.$.swipeableComponents.getBounds();t.left!=t.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var t=this.$.swipeableComponents,e=t.getBounds().width,i="left"==this.persistentItemOrigin?-1*e:e;this.animateSwipe(i,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.persistentItemVisible=!0:(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(t,e){var i=enyo.now(),o=this.$.swipeableComponents,n=parseInt(o.domStyles.left,10),s=t-n;this.stopAnimateSwipe();var r=this.bindSafely(function(){var t=enyo.now()-i,h=t/e,a=n+s*Math.min(h,1);o.applyStyle("left",a+"px"),this.job=enyo.requestAnimationFrame(r),t/e>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=enyo.requestAnimationFrame(r)},stopAnimateSwipe:function(){this.job&&(this.job=enyo.cancelRequestAnimationFrame(this.job))}});

// lib/layout/list/source/PulldownList.js
enyo.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:function(){var t={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,t),this.inherited(arguments),this.setPulling()},initComponents:function(){this.createChrome(this.pulldownTools),this.accel=enyo.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),this.inherited(arguments)},resetStrategyKind:function(){return enyo.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(t,e){this.pully=e.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:function(){var t=this.inherited(arguments);this.completingPull&&this.pully.setShowing(!1);var e=this.getStrategy().$.scrollMath||this.getStrategy(),i=-1*this.getScrollTop();return e.isInOverScroll()&&i>0&&(enyo.dom.transformValue(this.$.pulldown,this.translation,"0,"+i+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),i>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>i&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),t},scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(this.pullHeight),t.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),enyo.kind({name:"enyo.Puller",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:function(){this.inherited(arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()},textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}});

// lib/layout/list/source/AroundList.js
enyo.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,initComponents:function(){this.inherited(arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t),o=this.bottomUp?this.belowHeight:this.aboveHeight;i+=o,e.applyStyle(this.pageBound,i+"px")},scrollToContentStart:function(){var t=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(t)}});

// lib/layout/list/source/GridFlyweightRepeater.js
enyo.kind({name:"enyo.GridFlyWeightRepeater",kind:"enyo.FlyweightRepeater",events:{onSizeupItem:""},itemsPerRow:0,_itemsFromPreviousPage:0,generateChildHtml:function(){return this.itemFluidWidth||this.itemFixedSize?this._generateChildHtmlEqualSizedItems():this._generateChildHtmlVariableSizedItems()},_generateChildHtmlEqualSizedItems:function(){var t=this.owner.hasNode().clientWidth,e=this.$.client,i="",o=0,n=this.itemWidth,s=this.itemHeight;if(this.itemFluidWidth){o=100/this.itemsPerRow;var r=0;this.itemSpacing>=0&&(r=(this.itemsPerRow+1)*this.itemSpacing,o=100/this.itemsPerRow-100*r/(this.itemsPerRow*t)),n=o/100*t,s=n*(this.itemHeight/this.itemWidth)}for(var h=this.rowOffset;this.rowOffset+this.count>h;h++)e.setAttribute("data-enyo-index",h),this.doSetupItem({index:h,selected:this.isSelected(h)}),this.itemFluidWidth?e.addStyles("width:"+o+"%;height:"+s+"px;"):e.addStyles("width:"+this.itemWidth+"px;height:"+this.itemHeight+"px;"),this.itemSpacing>=0&&(e.addStyles("margin-top:"+this.itemSpacing+"px; margin-left:"+this.itemSpacing+"px;"),h%this.itemsPerRow==this.itemsPerRow-1?e.addStyles("margin-right:"+this.itemSpacing+"px;"):e.addStyles("margin-right: 0px;"),h>=this.count-this.itemsPerRow&&e.addStyles("margin-bottom:"+this.itemSpacing+"px;")),i+=e.generateHtml(),e.teardownRender();return i},_generateChildHtmlVariableSizedItems:function(){this.index=null;var t,e,i=null,o=this.$.client,n=this.owner.hasNode().clientWidth,s=0,r=0,h=0,a=0,l=0,d=0,g=0,p=0,c=0,u=this.itemMinWidth/this.itemMinHeight,f=[{index:0,items:[]}],m=this.owner.$._dummy_.hasNode();0===this.owner.page&&(this._itemsFromPreviousPage=0);var w=this.count+this._itemsFromPreviousPage;for(t=0,e=t+this.rowOffset-this._itemsFromPreviousPage;w>t;t++,e++){p=0,c=0,this.doSizeupItem({index:e,selected:this.isSelected(e)}),p=this.itemWidth,c=this.itemHeight,(!p||0>=p)&&(this.doSetupItem({index:e,selected:this.isSelected(e)}),m.innerHTML=o.generateChildHtml(),p=m.clientWidth,c=m.clientHeight),(!p||0>=p)&&(p=this.itemMinWidth,c=this.itemMinHeight),(!c||0>=c)&&(c=this.itemMinHeight),u=p/c,s=Math.min(p,n),this.itemMinWidth&&this.itemMinWidth>0&&(s=Math.max(p,this.itemMinWidth));var S=t==w-1;if(h=s/u,r+=s,a+=h,i={index:e,pageIndex:t,width:s,height:h},f[g].items.push(i),this.normalizeRows&&(l=r/f[g].items.length,d=a/f[g].items.length,r>=n||S)){f[g].avgHeight=d,f[g].index=g;var P=f[g].items.length,y=(n-r)/P;if(this._itemsFromPreviousPage=0,S&&y+l>1.5*l){this._itemsFromPreviousPage=P,f[g]={avgHeight:0,index:g,items:[]};break}this._normalizeRow(f[g]),S||(g++,f[g]={avgHeight:0,index:0,items:[]}),r=a=d=l=s=h=p=c=0}}m.innerHTML="";var R,C="",v="";for(t=0;f.length>t;t++)if(R=f[t],R.items&&0!==R.items.length)for(var x=0;R.items.length>x;x++)i=R.items[x],this.doSetupItem({index:i.index,selected:this.isSelected(i.index)}),o.setAttribute("data-enyo-index",i.index),o.addStyles("width:"+i.width+"px;height:"+i.height+"px;"),this.itemSpacing>=0&&o.addStyles("margin-top:"+this.itemSpacing+"px;margin-left:"+this.itemSpacing+"px;"),v=o.generateHtml(),o.teardownRender(),C+=v;return C},_normalizeRow:function(t){if(this.normalizeRows&&t.items&&0!==t.items.length){var e,i,o=this.owner.hasNode().clientWidth,n=0,s=0,r="",h=0,a=0,l=0,d=0;for(i=0;t.items.length>i;i++)e=t.items[i],h=e.width,a=e.height,s=Math.floor(t.avgHeight/a*h),r+=" "+s,e.width=s,e.height=t.avgHeight,n+=s,this.itemSpacing>=0&&(n+=this.itemSpacing,i==t.items.length-1&&(n+=this.itemSpacing));for(d=o-n,l=o/(o-d),n=0,s=0,r="",i=0;t.items.length>i;i++){e=t.items[i],h=e.width,a=e.height,s=Math.floor(h*l),r+=" "+s;var g=Math.floor(a*l);e.width=s,e.height=g,n+=s,this.itemSpacing>=0&&(n+=this.itemSpacing,i==t.items.length-1&&(n+=this.itemSpacing))}d=o-n,e=t.items[t.items.length-1],h=e.width,a=e.height,e.width=h+d,e.height=a}}});

// lib/layout/list/source/GridList.js
enyo.kind({name:"enyo.GridList",kind:"enyo.List",classes:"enyo-gridlist",noDefer:!0,published:{itemFluidWidth:!1,itemFixedSize:!1,itemMinWidth:160,itemMinHeight:160,itemWidth:160,itemHeight:160,itemSpacing:0,normalizeRows:!1},horizontal:"hidden",events:{onSizeupItem:""},show:function(t){this._calculateItemsPerRow(),this.setCount(t),this.reset()},create:function(){this._setComponents(),this.inherited(arguments),this.itemFluidWidthChanged(),this.itemFixedSizeChanged(),this.itemMinWidthChanged(),this.itemMinHeightChanged(),this.itemWidthChanged(),this.itemHeightChanged(),this.itemSpacingChanged(),this.normalizeRowsChanged(),this.$.generator.setClientClasses("enyo-gridlist-row")},itemFluidWidthChanged:function(){this.$.generator.itemFluidWidth=this.itemFluidWidth,this.setNormalizeRows(!this.itemFluidWidth&&!this.itemFixedSize)},itemFixedSizeChanged:function(){this.$.generator.itemFixedSize=this.itemFixedSize,this.setNormalizeRows(!this.itemFluidWidth&&!this.itemFixedSize)},itemWidthChanged:function(){this.$.generator.itemWidth=this.itemWidth},itemHeightChanged:function(){this.$.generator.itemHeight=this.itemHeight},itemMinWidthChanged:function(){var t=this.hasNode();t&&(this.itemMinWidth||(this.itemMinWidth=160),this.itemMinWidth=Math.min(this.itemMinWidth,t.clientWidth)),this.$.generator.itemMinWidth=this.itemMinWidth},itemMinHeightChanged:function(){var t=this.hasNode();t&&(this.itemMinHeight||(this.itemMinHeight=160),this.itemMinHeight=Math.min(this.itemMinHeight,t.clientHeight)),this.$.generator.itemMinHeight=this.itemMinHeight},itemSpacingChanged:function(){0>this.itemSpacing&&(this.itemSpacing=0),this.itemSpacing=this.itemSpacing,this.$.generator.itemSpacing=this.itemSpacing},normalizeRowsChanged:function(){this.$.generator.normalizeRows=this.normalizeRows},bottomUpChanged:function(){this.bottomUp=!1,this.pageBound="top"},reflow:function(){this._calculateItemsPerRow(),this.inherited(arguments)},_calculateItemsPerRow:function(){var t=this.hasNode();if(t){this.itemsPerRow=Math.floor((t.clientWidth-this.itemSpacing)/(this.itemMinWidth+this.itemSpacing));var e=Math.round((t.clientHeight-this.itemSpacing)/(this.itemMinHeight+this.itemSpacing));if(this.itemFixedSize||this.itemFluidWidth){var i=Math.floor((t.clientWidth-this.itemSpacing)/(this.itemWidth+this.itemSpacing)),o=Math.floor(i),n=Math.ceil(i),s=t.clientWidth-this.itemSpacing-n*(this.itemWidth+this.itemSpacing);this.itemsPerRow=s>0?n:o,e=Math.round((t.clientHeight-this.itemSpacing)/(this.itemHeight+this.itemSpacing))}this.itemsPerRow=Math.max(1,this.itemsPerRow),this.rowsPerPage=3*this.itemsPerRow*e,this.$.generator.itemsPerRow=this.itemsPerRow}},_setComponents:function(){this.listTools=enyo.clone(this.listTools),this.listTools[0]=enyo.clone(this.listTools[0]),this.listTools[0].components=enyo.clone(this.listTools[0].components);var t=this.listTools[0].components;this.createComponent(new enyo.Component({name:"_dummy_",allowHtml:!0,classes:"enyo-gridlist-dummy",showing:!1},{owner:this}));for(var e=0;t.length>e;e++)if("generator"==t[e].name)return t[e]=enyo.clone(t[e]),t[e].kind="enyo.GridFlyWeightRepeater",void 0}});

// lib/layout/list/source/GridListImageItem.js
enyo.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.BooleanBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.BooleanBinding"}],create:function(){this.inherited(arguments),this.selectedChanged()},selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)}});

// lib/layout/slideable/source/Slideable.js
enyo.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,create:function(){this.inherited(arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")},initComponents:function(){this.createComponents(this.tools),this.inherited(arguments)},rendered:function(){this.inherited(arguments),this.canModifyUnit(),this.updateDragScalar()},resizeHandler:function(){this.inherited(arguments),this.updateDragScalar()},canModifyUnit:function(){if(!this.canTransform){var t=this.getInitialStyleValue(this.hasNode(),this.boundary);t.match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(t,e){var i=enyo.dom.getComputedStyle(t);return i?i.getPropertyValue(e):t&&t.currentStyle?t.currentStyle[e]:"0"},updateBounds:function(t,e){var i={};i[this.boundary]=t,this.setBounds(i,this.unit),this.setInlineStyles(t,e)},updateDragScalar:function(){if("%"==this.unit){var t=this.getBounds()[this.dimension];this.kDragScalar=t?100/t:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=enyo.dom.canTransform()},acceleratedChanged:function(){(!enyo.platform.android||2>=enyo.platform.android)&&enyo.dom.accelerate(this,this.accelerated)},axisChanged:function(){var t="h"==this.axis;this.dragMoveProp=t?"dx":"dy",this.shouldDragProp=t?"horizontal":"vertical",this.transform=t?"translateX":"translateY",this.dimension=t?"width":"height",this.boundary=t?"left":"top"},setInlineStyles:function(t,e){var i={};this.unitModifier?(i[this.boundary]=this.percentToPixels(t,this.unitModifier),i[this.dimension]=this.unitModifier,this.setBounds(i)):(e?i[this.dimension]=e:i[this.boundary]=t,this.setBounds(i,this.unit))},valueChanged:function(t){var e=this.value;this.isOob(e)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(e):this.clampValue(e)),enyo.platform.android>2&&(this.value?(0===t||void 0===t)&&enyo.dom.accelerate(this,this.accelerated):enyo.dom.accelerate(this,!1)),this.canTransform?enyo.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(t){var e=this.calcMin(),i=this.calcMax();return Math.max(e,Math.min(t,i))},dampValue:function(t){return this.dampBound(this.dampBound(t,this.min,1),this.max,-1)},dampBound:function(t,e,i){var o=t;return e*i>o*i&&(o=e+(o-e)/4),o},percentToPixels:function(t,e){return Math.floor(e/100*t)},pixelsToPercent:function(t){var e=this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension];return 100*(t/e)},shouldDrag:function(t){return this.draggable&&t[this.shouldDragProp]},isOob:function(t){return t>this.calcMax()||this.calcMin()>t},dragstart:function(t,e){return this.shouldDrag(e)?(e.preventDefault(),this.$.animator.stop(),e.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(t,e){if(this.dragging){e.preventDefault();var i=this.canTransform?e[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(e[this.dragMoveProp]),o=this.drag0+i,n=i-this.dragd0;return this.dragd0=i,n&&(e.dragInfo.minimizing=0>n),this.setValue(o),this.preventDragPropagation}},dragfinish:function(t,e){return this.dragging?(this.dragging=!1,this.completeDrag(e),e.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(t){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(t.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(t,e){this.$.animator.play({startValue:t,endValue:e,node:this.hasNode()})},animateTo:function(t){this.play(this.value,t)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(t){t?this.animateToMin():this.animateToMax()},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.doAnimateFinish(t),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}});

// lib/layout/panels/source/arrangers/Arranger.js
enyo.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)t._arranger=null;this.inherited(arguments)},arrange:function(){},size:function(){},start:function(){var t=this.container.fromIndex,e=this.container.toIndex,i=this.container.transitionPoints=[t];if(this.incrementalPoints)for(var o=Math.abs(e-t)-2,n=t;o>=0;)n+=t>e?-1:1,i.push(n),o--;i.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(t){return t[this.canDragProp]},calcDragDirection:function(t){return t[this.dragDirectionProp]},calcDrag:function(t){return t[this.dragProp]},drag:function(t,e,i,o,n){var s=this.measureArrangementDelta(-t,e,i,o,n);return s},measureArrangementDelta:function(t,e,i,o,n){var s=this.calcArrangementDifference(e,i,o,n),r=s?t/Math.abs(s):0;return r*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(t){this.containerBounds||this.reflow();var e=this.getOrderedControls(t);this.arrange(e,t)},arrangeControl:function(t,e){t._arranger=enyo.mixin(t._arranger||{},e)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var t,e=0,i=this.container.getPanels();t=i[e];e++)if(enyo.dom.accelerate(t,this.accelerated&&!t.preventAccelerate),enyo.platform.safari)for(var o,n=t.children,s=0;o=n[s];s++)enyo.dom.accelerate(o,this.accelerated)},reflow:function(){var t=this.container.hasNode();this.containerBounds=t?{width:t.clientWidth,height:t.clientHeight}:{},this.size()},flowArrangement:function(){var t=this.container.arrangement;if(t)for(var e,i=0,o=this.container.getPanels();e=o[i];i++)this.flowControl(e,t[i])},flowControl:function(t,e){enyo.Arranger.positionControl(t,e);var i=e.opacity;null!=i&&enyo.Arranger.opacifyControl(t,i)},getOrderedControls:function(t){for(var e=Math.floor(t),i=e-this.controlsIndex,o=i>0,n=this.c$||[],s=0;Math.abs(i)>s;s++)o?n.push(n.shift()):n.unshift(n.pop());return this.controlsIndex=e,n},statics:{positionControl:function(t,e,i){var o=i||"px";if(!this.updating)if(!enyo.dom.canTransform()||t.preventTransform||enyo.platform.android||10===enyo.platform.ie)t.setBounds(e,i);else{var n=e.left,s=e.top;n=enyo.isString(n)?n:n&&n+o,s=enyo.isString(s)?s:s&&s+o,enyo.dom.transform(t,{translateX:n||null,translateY:s||null})}},opacifyControl:function(t,e){var i=e;i=i>.99?1:.01>i?0:i,9>enyo.platform.ie?t.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*i+")"):t.applyStyle("opacity",i)}}});

// lib/layout/panels/source/arrangers/CardArranger.js
enyo.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(t){for(var e,i,n=0;e=t[n];n++)i=0===n?1:0,this.arrangeControl(e,{opacity:i})},start:function(){this.inherited(arguments);for(var t,e=this.container.getPanels(),i=0;t=e[i];i++){var n=t.showing;t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&!n&&t.resized()}},finish:function(){this.inherited(arguments);for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)t.setShowing(i==this.container.toIndex)},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.opacifyControl(t,1),t.showing||t.setShowing(!0);this.inherited(arguments)}});

// lib/layout/panels/source/arrangers/CardSlideInArranger.js
enyo.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++){var n=t.showing;t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&!n&&t.resized()}var o=this.container.fromIndex;i=this.container.toIndex,this.container.transitionPoints=[i+"."+o+".s",i+"."+o+".f"]},finish:function(){this.inherited(arguments);for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)t.setShowing(i==this.container.toIndex)},arrange:function(t,e){for(var i,n,o=e.split("."),s=o[0],r=o[1],h="s"==o[2],a=this.containerBounds.width,l=0,d=this.container.getPanels();i=d[l];l++)n=a,r==l&&(n=h?0:-a),s==l&&(n=h?a:0),r==l&&r==s&&(n=0),this.arrangeControl(i,{left:n})},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.positionControl(t,{left:null});this.inherited(arguments)}});

// lib/layout/panels/source/arrangers/CarouselArranger.js
enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var t,e,i,n,o,s=this.container.getPanels(),r=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},a=this.containerBounds;a.height-=r.top+r.bottom,a.width-=r.left+r.right;var h;for(t=0,i=0;o=s[t];t++)n=enyo.dom.calcMarginExtents(o.hasNode()),o.width=o.getBounds().width,o.marginWidth=n.right+n.left,i+=(o.fit?0:o.width)+o.marginWidth,o.fit&&(h=o);if(h){var l=a.width-i;h.width=l>=0?l:h.width}for(t=0,e=r.left;o=s[t];t++)o.setBounds({top:r.top,bottom:r.bottom,width:o.fit?o.width:null})},arrange:function(t,e){this.container.wrap?this.arrangeWrap(t,e):this.arrangeNoWrap(t,e)},arrangeNoWrap:function(t,e){var i,n,o,s,r=this.container.getPanels(),a=this.container.clamp(e),h=this.containerBounds.width;for(i=a,o=0;(s=r[i])&&(o+=s.width+s.marginWidth,!(o>h));i++);var l=h-o,d=0;if(l>0)for(i=a-1,n=0;s=r[i];i--)if(n+=s.width+s.marginWidth,0>=l-n){d=l-n,a=i;break}var g,c;for(i=0,c=this.containerPadding.left+d;s=r[i];i++)g=s.width+s.marginWidth,a>i?this.arrangeControl(s,{left:-g}):(this.arrangeControl(s,{left:Math.floor(c)}),c+=g)},arrangeWrap:function(t){for(var e,i=0,n=this.containerPadding.left;e=t[i];i++)this.arrangeControl(e,{left:n}),n+=e.width+e.marginWidth},calcArrangementDifference:function(t,e,i,n){var o=Math.abs(t%this.c$.length);return e[o].left-n[o].left},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.positionControl(t,{left:null,top:null}),t.applyStyle("top",null),t.applyStyle("bottom",null),t.applyStyle("left",null),t.applyStyle("width",null);this.inherited(arguments)}});

// lib/layout/panels/source/arrangers/CollapsingArranger.js
enyo.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:function(){this.clearLastSize(),this.inherited(arguments)},clearLastSize:function(){for(var t,e=0,i=this.container.getPanels();t=i[e];e++)t._fit&&e!=i.length-1&&(t.applyStyle("width",null),t._fit=null)},constructor:function(){this.inherited(arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth},arrange:function(t,e){for(var i,n=this.container.getPanels(),o=0,s=this.containerPadding.left,r=0;i=n[o];o++)i.getShowing()?(this.arrangeControl(i,{left:s+r*this.peekWidth}),o>=e&&(s+=i.width+i.marginWidth-this.peekWidth),r++):(this.arrangeControl(i,{left:s}),o>=e&&(s+=i.width+i.marginWidth)),o==n.length-1&&0>e&&this.arrangeControl(i,{left:s-e})},calcArrangementDifference:function(t,e,i,n){var o=this.container.getPanels().length-1;return Math.abs(n[o].left-e[o].left)},flowControl:function(t,e){if(this.inherited(arguments),this.container.realtimeFit){var i=this.container.getPanels(),n=i.length-1,o=i[n];t==o&&this.fitControl(t,e.left)}},finish:function(){if(this.inherited(arguments),!this.container.realtimeFit&&this.containerBounds){var t=this.container.getPanels(),e=this.container.arrangement,i=t.length-1,n=t[i];this.fitControl(n,e[i].left)}},fitControl:function(t,e){t._fit=!0,t.applyStyle("width",this.containerBounds.width-e+"px"),t.resized()}});

// lib/layout/panels/source/arrangers/DockRightArranger.js
enyo.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:function(){this.inherited(arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth},size:function(){var t,e,i,n=this.container.getPanels(),o=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},s=this.containerBounds;s.width-=o.left+o.right;var r,a=s.width,h=n.length;for(this.container.transitionPositions={},t=0;i=n[t];t++)i.width=0===t&&this.container.basePanel?a:i.getBounds().width;for(t=0;i=n[t];t++){0===t&&this.container.basePanel&&i.setBounds({width:a}),i.setBounds({top:o.top,bottom:o.bottom});for(var l=0;i=n[l];l++){var d;if(0===t&&this.container.basePanel)d=0;else if(t>l)d=a;else{if(t!==l)break;r=a>this.layoutWidth?this.overlap:0,d=a-n[t].width+r}this.container.transitionPositions[t+"."+l]=d}if(h>l)for(var g=!1,c=t+1;h>c;c++){if(r=0,g)r=0;else if(n[t].width+n[c].width-this.overlap>a)r=0,g=!0;else{for(r=n[t].width-this.overlap,e=t;c>e;e++){var u=r+n[e+1].width-this.overlap;if(!(a>u)){r=a;break}r=u}r=a-r}this.container.transitionPositions[t+"."+c]=r}}},arrange:function(t,e){var i,n,o=this.container.getPanels(),s=this.container.clamp(e);for(i=0;n=o[i];i++){var r=this.container.transitionPositions[i+"."+s];this.arrangeControl(n,{left:r})}},calcArrangementDifference:function(t,e,i){var n=this.container.getPanels(),o=i>t?n[i].width:n[t].width;return o},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.positionControl(t,{left:null,top:null}),t.applyStyle("top",null),t.applyStyle("bottom",null),t.applyStyle("left",null),t.applyStyle("width",null);this.inherited(arguments)}});

// lib/layout/panels/source/arrangers/OtherArrangers.js
enyo.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:function(){this.inherited(arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin},size:function(){for(var t,e,i=this.container.getPanels(),n=this.containerBounds[this.axisSize],o=n-this.margin-this.margin,s=0;e=i[s];s++)t={},t[this.axisSize]=o,t[this.offAxisSize]="100%",e.setBounds(t)},start:function(){this.inherited(arguments);for(var t,e=this.container.fromIndex,i=this.container.toIndex,n=this.getOrderedControls(i),o=Math.floor(n.length/2),s=0;t=n[s];s++)e>i?s==n.length-o?t.applyStyle("z-index",0):t.applyStyle("z-index",1):s==n.length-1-o?t.applyStyle("z-index",0):t.applyStyle("z-index",1)},arrange:function(t,e){var i,n,o;if(1==this.container.getPanels().length)return o={},o[this.axisPosition]=this.margin,this.arrangeControl(this.container.getPanels()[0],o),void 0;var s=Math.floor(this.container.getPanels().length/2),r=this.getOrderedControls(Math.floor(e)-s),a=this.containerBounds[this.axisSize]-this.margin-this.margin,h=this.margin-a*s;for(i=0;n=r[i];i++)o={},o[this.axisPosition]=h,this.arrangeControl(n,o),h+=a},calcArrangementDifference:function(t,e,i,n){if(1==this.container.getPanels().length)return 0;var o=Math.abs(t%this.c$.length);return e[o][this.axisPosition]-n[o][this.axisPosition]},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.positionControl(t,{left:null,top:null}),enyo.Arranger.opacifyControl(t,1),t.applyStyle("left",null),t.applyStyle("top",null),t.applyStyle("height",null),t.applyStyle("width",null);this.inherited(arguments)}}),enyo.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),enyo.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var t,e=this.container.getPanels(),i=this.containerBounds,n=this.controlWidth=i.width/3,o=this.controlHeight=i.height/3,s=0;t=e[s];s++)t.setBounds({width:n,height:o})},arrange:function(t){for(var e,i=this.inc,n=0,o=t.length;e=t[n];n++){var s=Math.cos(2*(n/o)*Math.PI)*n*i+this.controlWidth,r=Math.sin(2*(n/o)*Math.PI)*n*i+this.controlHeight;this.arrangeControl(e,{left:s,top:r})}},start:function(){this.inherited(arguments);for(var t,e=this.getOrderedControls(this.container.toIndex),i=0;t=e[i];i++)t.applyStyle("z-index",e.length-i)},calcArrangementDifference:function(){return this.controlWidth},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)t.applyStyle("z-index",null),enyo.Arranger.positionControl(t,{left:null,top:null}),t.applyStyle("left",null),t.applyStyle("top",null),t.applyStyle("height",null),t.applyStyle("width",null);this.inherited(arguments)}}),enyo.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var t,e=this.container.getPanels(),i=this.colWidth,n=this.colHeight,o=0;t=e[o];o++)t.setBounds({width:i,height:n})},arrange:function(t){for(var e,i=this.colWidth,n=this.colHeight,o=Math.max(1,Math.floor(this.containerBounds.width/i)),s=0,r=0;t.length>r;s++)for(var a=0;o>a&&(e=t[r]);a++,r++)this.arrangeControl(e,{left:i*a,top:n*s})},flowControl:function(t,e){this.inherited(arguments),enyo.Arranger.opacifyControl(t,0!==e.top%this.colHeight?.25:1)},calcArrangementDifference:function(){return this.colWidth},destroy:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++)enyo.Arranger.positionControl(t,{left:null,top:null}),t.applyStyle("left",null),t.applyStyle("top",null),t.applyStyle("height",null),t.applyStyle("width",null);this.inherited(arguments)}});

// lib/layout/panels/source/Panels.js
enyo.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:function(){this.transitionPoints=[],this.inherited(arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()},rendered:function(){this.inherited(arguments),enyo.makeBubble(this,"scroll")},domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:function(){this.createChrome(this.tools),this.inherited(arguments)},arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass("enyo-panels-fit-narrow",this.narrowFit)},destroy:function(){this.destroying=!0,this.inherited(arguments)},removeControl:function(t){if(this.destroying)return this.inherited(arguments);var e=-1,i=enyo.indexOf(t,this.controls);i===this.index&&(e=Math.max(i-1,0)),this.inherited(arguments),-1!==e&&this.controls.length>0&&(this.setIndex(e),this.flow(),this.reflow())},isPanel:function(){return!0},flow:function(){this.arrangements=[],this.inherited(arguments)},reflow:function(){this.arrangements=[],this.inherited(arguments),this.refresh()},getPanels:function(){var t=this.controlParent||this;return t.children},getActive:function(){var t=this.getPanels(),e=this.index%t.length;return 0>e&&(e+=t.length),t[e]},getAnimator:function(){return this.$.animator},setIndex:function(t){var e=this.get("index");this.index=this.clamp(t),this.notifyObservers("index",e,t)},setIndexDirect:function(t){this.setIndex(t),this.completed()},selectPanelByName:function(t){if(t)for(var e=0,i=this.getPanels(),n=i.length;n>e;++e)if(t===i[e].name)return this.setIndex(e),e},previous:function(){var t=this.index-1;this.wrap&&0>t&&(t=this.getPanels().length-1),this.setIndex(t)},next:function(){var t=this.index+1;this.wrap&&t>=this.getPanels().length&&(t=0),this.setIndex(t)},clamp:function(t){var e=this.getPanels().length-1;return this.wrap?t:Math.max(0,Math.min(t,e))},indexChanged:function(t){this.lastIndex=t,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(t){return this.fraction=t.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(),!0},dragstart:function(t,e){return this.draggable&&this.layout&&this.layout.canDragEvent(e)?(e.preventDefault(),this.dragstartTransition(e),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(t,e){this.dragging&&(e.preventDefault(),this.dragTransition(e))},dragfinish:function(t,e){this.dragging&&(this.dragging=!1,e.preventTap(),this.dragfinishTransition(e))},dragstartTransition:function(t){if(this.$.animator.isAnimating())this.verifyDragTransition(t);else{var e=this.fromIndex=this.index;this.toIndex=e-(this.layout?this.layout.calcDragDirection(t):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(t){var e=this.layout?this.layout.calcDrag(t):0,i=this.transitionPoints,n=i[0],o=i[i.length-1],s=this.fetchArrangement(n),r=this.fetchArrangement(o),a=this.layout?this.layout.drag(e,n,s,o,r):0,h=e&&!a;this.fraction+=a;var l=this.fraction;(l>1||0>l||h)&&((l>0||h)&&this.dragfinishTransition(t),this.dragstartTransition(t),this.fraction=0),this.stepTransition()},dragfinishTransition:function(t){this.verifyDragTransition(t),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(t){var e=this.layout?this.layout.calcDragDirection(t):0,i=Math.min(this.fromIndex,this.toIndex),n=Math.max(this.fromIndex,this.toIndex);if(e>0){var o=i;i=n,n=o}i!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=i,this.toIndex=n},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(),this.fraction=1,this.stepTransition(),this.finishTransition()},startTransition:function(){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),this.fireTransitionStart()},finishTransition:function(){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,this.fireTransitionFinish()},fireTransitionStart:function(){var t=this.startTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.fromIndex&&t.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(enyo.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var t=this.finishTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.lastIndex&&t.toIndex==this.index||(this.finishTransitionInfo=t&&t.animating?{fromIndex:t.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(enyo.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var t=this.transitionPoints,e=(this.fraction||0)*(t.length-1),i=Math.floor(e);e-=i;var n=t[i],o=t[i+1],s=this.fetchArrangement(n),r=this.fetchArrangement(o);this.arrangement=s&&r?enyo.Panels.lerp(s,r,e):s||r,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(t){return null!=t&&!this.arrangements[t]&&this.layout&&(this.layout._arrange(t),this.arrangements[t]=this.readArrangement(this.getPanels())),this.arrangements[t]},readArrangement:function(t){for(var e,i=[],n=0,o=t;e=o[n];n++)i.push(enyo.clone(e._arranger));return i},statics:{isScreenNarrow:function(){return 800>=enyo.dom.getWindowWidth()},lerp:function(t,e,i){for(var n,o=[],s=0,r=enyo.keys(t);n=r[s];s++)o.push(this.lerpObject(t[n],e[n],i));return o},lerpObject:function(t,e,i){var n,o,s=enyo.clone(t);if(e)for(var r in t)n=t[r],o=e[r],n!=o&&(s[r]=n-(n-o)*i);return s}}});

// lib/layout/tree/source/Node.js
enyo.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:function(){this.inherited(arguments),this.selectedChanged(),this.iconChanged()},destroy:function(){this.doDestroyed(),this.inherited(arguments)},initComponents:function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),this.inherited(arguments)},contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:function(){this.inherited(arguments),this.expandable&&!this.expanded&&this.quickCollapse()},addNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent(e);this.$.client.render()},addTextNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent({content:e});this.$.client.render()},tap:function(t,e){return this.onlyIconExpands?e.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var t=this.$.client.getBounds().height;this.$.client.setBounds({top:-t})},_expand:function(){this.addClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-t})}),25)},expandedChanged:function(){if(this.expandable){var t={expanded:this.expanded};this.doExpand(t),t.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}});

// lib/layout/imageview/source/PanZoomView.js
enyo.kind({name:"enyo.PanZoomView",kind:enyo.Scroller,touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:function(){this.scaleKeyword=this.scale;var t=this.components;this.components=[],this.inherited(arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents&&this.createComponents(this.unscaledComponents),this.controlParentName="content",this.discoverControlParent(),this.createComponents(t),this.canTransform=enyo.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=enyo.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)},rendered:function(){this.inherited(arguments),this.getOriginalScale()},dragPropagation:function(t,e){var i=this.getStrategy().getScrollBounds(),n=0===i.top&&e.dy>0||i.top>=i.maxTop-2&&0>e.dy,o=0===i.left&&e.dx>0||i.left>=i.maxLeft-2&&0>e.dx;return!(n&&this.verticalDragPropagation||o&&this.horizontalDragPropagation)},mousewheel:function(t,e){e.pageX|=e.clientX+e.target.scrollLeft,e.pageY|=e.clientY+e.target.scrollTop;var i=(this.maxScale-this.minScale)/10,n=this.scale;return e.wheelDelta>0||0>e.detail?this.scale=this.limitScale(this.scale+i):(0>e.wheelDelta||e.detail>0)&&(this.scale=this.limitScale(this.scale-i)),this.eventPt=this.calcEventLocation(e),this.transform(this.scale),n!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,e.preventDefault(),!0},resizeHandler:function(){this.inherited(arguments),this.scaleChanged()},setDimensions:function(t,e){return this.$.content.applyStyle("width",e.width+"px"),this.$.content.applyStyle("height",e.height+"px"),this.originalWidth=e.width,this.originalHeight=e.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var t=this.hasNode();if(t){this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight;var e=this.containerWidth/this.originalWidth,i=this.containerHeight/this.originalHeight;this.minScale=Math.min(e,i),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=e:"height"==this.scale?this.scale=i:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(e,i)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var t=this.getScrollBounds();this.setScrollLeft(t.maxLeft/2),this.setScrollTop(t.maxTop/2)}},gestureTransform:function(t,e){this.eventPt=this.calcEventLocation(e),this.transform(this.limitScale(this.scale*e.scale))},calcEventLocation:function(t){var e={x:0,y:0};if(t&&this.hasNode()){var i=this.node.getBoundingClientRect();e.x=Math.round(t.pageX-i.left-this.bounds.x),e.x=Math.max(0,Math.min(this.bounds.width,e.x)),e.y=Math.round(t.pageY-i.top-this.bounds.y),e.y=Math.max(0,Math.min(this.bounds.height,e.y))}return e},transform:function(t){this.tapped=!1;var e=this.bounds||this.innerBounds(t);this.bounds=this.innerBounds(t),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/e.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/e.height;var i,n;if(this.$.animator.ratioLock?(i=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,n=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(i=this.ratioX*this.bounds.width-this.eventPt.x,n=this.ratioY*this.bounds.height-this.eventPt.y),i=Math.max(0,Math.min(this.bounds.width-this.containerWidth,i)),n=Math.max(0,Math.min(this.bounds.height-this.containerHeight,n)),this.canTransform){var o={scale:t};o=this.canAccelerate?enyo.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},o):enyo.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},o),enyo.dom.transform(this.$.content,o)}else if(enyo.platform.ie){var s='"progid:DXImageTransform.Microsoft.Matrix(M11='+t+", M12=0, M21=0, M22="+t+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",s),this.$.content.setBounds({width:this.bounds.width*t+"px",height:this.bounds.height*t+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",t*this.bounds.width),this.$.content.applyStyle("height",t*this.bounds.height)}this.setScrollLeft(i),this.setScrollTop(n),this.positionClientControls(t)},limitScale:function(t){return this.disableZoom?t=this.scale:t>this.maxScale?t=this.maxScale:this.minScale>t&&(t=this.minScale),t},innerBounds:function(t){var e=this.originalWidth*t,i=this.originalHeight*t,n={x:0,y:0,transX:0,transY:0};return this.containerWidth>e&&(n.x+=(this.containerWidth-e)/2),this.containerHeight>i&&(n.y+=(this.containerHeight-i)/2),this.canTransform&&(n.transX-=(this.originalWidth-e)/2,n.transY-=(this.originalHeight-i)/2),{left:n.x+n.transX,top:n.y+n.transY,width:e,height:i,x:n.x,y:n.y}},saveState:function(t,e){var i=this.scale;this.scale*=e.scale,this.scale=this.limitScale(this.scale),i!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(t,e){8==enyo.platform.ie&&(this.tapped=!0,e.pageX=e.clientX+e.target.scrollLeft,e.pageY=e.clientY+e.target.scrollTop,this.singleTap(t,e),e.preventDefault())},singleTap:function(t,e){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(t,e)):this.tapped=!0},smartZoom:function(t,e){var i=this.hasNode(),n=this.$.content.hasNode();if(i&&n&&this.hasNode()&&!this.disableZoom){var o=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(e),this.animate){var s={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:s,baseScale:o,deltaScale:this.scale-o})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var t=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(t),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(t){this.waterfallDown("onPositionPin",{scale:t,bounds:this.bounds})}});

// lib/layout/imageview/source/ImageViewPin.js
enyo.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:function(){this.inherited(arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()},styleClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)t[e].applyStyle("position","absolute")},positionClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)for(var i in this.position)t[e].applyStyle(i,this.position[i]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var t=null,e=null;for(e in this.anchor)t=(""+this.anchor[e]).match(/^(\d+(?:\.\d+)?)(.*)$/),t&&(this.anchor[e+"Coords"]={value:t[1],units:t[2]||"px"})},reAnchor:function(t,e){var i=e.scale,n=e.bounds,o=this.anchor.right?"px"==this.anchor.rightCoords.units?n.width+n.x-this.anchor.rightCoords.value*i:n.width*(100-this.anchor.rightCoords.value)/100+n.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*i+n.x:n.width*this.anchor.leftCoords.value/100+n.x,s=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?n.height+n.y-this.anchor.bottomCoords.value*i:n.height*(100-this.anchor.bottomCoords.value)/100+n.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*i+n.y:n.height*this.anchor.topCoords.value/100+n.y;this.applyStyle("left",o+"px"),this.applyStyle("top",s+"px")}});

// lib/layout/imageview/source/ImageView.js
enyo.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,this.inherited(arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=enyo.bind(this,"imageLoaded"),this.bufferImage.onerror=enyo.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()},destroy:function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),this.inherited(arguments)},down:function(t,e){e.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),enyo.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(t){enyo.error("Error loading image: "+this.src),this.bubble("onerror",t)}});

// lib/layout/imageview/source/ImageCarousel.js
enyo.kind({name:"enyo.ImageCarousel",kind:enyo.Panels,arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:function(){this.inherited(arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())},initContainers:function(){for(var t=0;this.images.length>t;t++)this.$["container"+t]||(this.createComponent({name:"container"+t,style:"height:100%; width:100%;"}),this.$["container"+t].render());for(t=this.images.length;this.imageCount>t;t++)this.$["image"+t]&&this.$["image"+t].destroy(),this.$["container"+t].destroy();this.imageCount=this.images.length},loadNearby:function(){var t=this.getBufferRange();for(var e in t)this.loadImageView(t[e])},getBufferRange:function(){var t=[];if(this.layout.containerBounds){var e,i,n,o,s=1,r=this.layout.containerBounds;for(i=this.index-1,n=0,o=r.width*s;i>=0&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.unshift(i),i--;for(i=this.index,n=0,o=r.width*(s+1);this.images.length>i&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.push(i),i++}return t},reflow:function(){this.inherited(arguments),this.loadNearby()},loadImageView:function(t){return this.wrap&&(t=(t%this.images.length+this.images.length)%this.images.length),t>=0&&this.images.length-1>=t&&(this.$["image"+t]?this.$["image"+t].src!=this.images[t]&&(this.$["image"+t].setSrc(this.images[t]),this.$["image"+t].setScale(this.defaultScale),this.$["image"+t].setDisableZoom(this.disableZoom)):(this.$["container"+t].createComponent({name:"image"+t,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[t],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+t].render())),this.$["image"+t]},setImages:function(t){this.set("images",t)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),this.inherited(arguments)},transitionStart:function(t,e){return e.fromIndex==e.toIndex?!0:void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(t){return this.$["image"+t]||this.loadImageView(t)},cleanupMemory:function(){for(var t=this.getBufferRange(),e=0;this.images.length>e;e++)-1===enyo.indexOf(e,t)&&this.$["image"+e]&&this.$["image"+e].destroy()}});

// lib/onyx/source/Icon.js
enyo.kind({name:"onyx.Icon",published:{src:"",disabled:!1},classes:"onyx-icon",create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")")}});

// lib/onyx/source/Button.js
enyo.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",create:function(){enyo.platform.firefoxOS&&(this.handlers.ondown="fxosDown",this.handlers.onenter="fxosEnter",this.handlers.ondrag="fxosDrag",this.handlers.onleave="fxosLeave",this.handlers.onup="fxosUp"),this.inherited(arguments)},fxosDown:function(){this.addClass("pressed"),this._isInControl=!0},fxosEnter:function(){this._isInControl=!0},fxosDrag:function(){this.addRemoveClass("pressed",this._isInControl)},fxosLeave:function(){this.removeClass("pressed"),this._isInControl=!1},fxosUp:function(){this.removeClass("pressed"),this._isInControl=!1}});

// lib/onyx/source/IconButton.js
enyo.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",create:function(){enyo.platform.firefoxOS&&(this.handlers.ondown="fxosDown",this.handlers.onenter="fxosEnter",this.handlers.ondrag="fxosDrag",this.handlers.onleave="fxosLeave",this.handlers.onup="fxosUp"),this.inherited(arguments)},fxosDown:function(){this.addClass("pressed"),this._isInControl=!0},fxosEnter:function(){this._isInControl=!0},fxosDrag:function(){this.addRemoveClass("pressed",this._isInControl)},fxosLeave:function(){this.removeClass("pressed"),this._isInControl=!1},fxosUp:function(){this.removeClass("pressed"),this._isInControl=!1},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return this.disabled?!0:(this.setActive(!0),void 0)},activeChanged:function(){this.bubble("onActivate")}});

// lib/onyx/source/Checkbox.js
enyo.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:enyo.Checkbox,tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:function(){}});

// lib/onyx/source/Drawer.js
enyo.kind({name:"onyx.Drawer",kind:"enyo.Drawer"});

// lib/onyx/source/Grabber.js
enyo.kind({name:"onyx.Grabber",classes:"onyx-grabber"});

// lib/onyx/source/Groupbox.js
enyo.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),enyo.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"});

// lib/onyx/source/Input.js
enyo.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"});

// lib/onyx/source/Popup.js
enyo.kind({name:"onyx.Popup",kind:"Popup",classes:"onyx-popup",published:{scrimWhenModal:!0,scrim:!1,scrimClassName:""},protectedStatics:{count:0,highestZ:120},defaultZ:120,showingChanged:function(){this.showing?(onyx.Popup.count++,this.applyZIndex()):onyx.Popup.count>0&&onyx.Popup.count--,this.showHideScrim(this.showing),this.inherited(arguments)},showHideScrim:function(t){if(this.floating&&(this.scrim||this.modal&&this.scrimWhenModal)){var e=this.getScrim();if(t){var i=this.getScrimZIndex();this._scrimZ=i,e.showAtZIndex(i)}else e.hideAtZIndex(this._scrimZ);enyo.call(e,"addRemoveClass",[this.scrimClassName,e.showing])}},getScrimZIndex:function(){return onyx.Popup.highestZ>=this._zIndex?this._zIndex-1:onyx.Popup.highestZ},getScrim:function(){return this.modal&&this.scrimWhenModal&&!this.scrim?onyx.scrimTransparent.make():onyx.scrim.make()},applyZIndex:function(){this._zIndex=2*onyx.Popup.count+this.findZIndex()+1,this._zIndex<=onyx.Popup.highestZ&&(this._zIndex=onyx.Popup.highestZ+1),this._zIndex>onyx.Popup.highestZ&&(onyx.Popup.highestZ=this._zIndex),this.applyStyle("z-index",this._zIndex)},findZIndex:function(){var t=this.defaultZ;return this._zIndex?t=this._zIndex:this.hasNode()&&(t=Number(enyo.dom.getComputedStyleValue(this.node,"z-index"))||t),this.defaultZ>t&&(t=this.defaultZ),this._zIndex=t,this._zIndex}});

// lib/onyx/source/TextArea.js
enyo.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"});

// lib/onyx/source/RichText.js
enyo.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"});

// lib/onyx/source/InputDecorator.js
enyo.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(t){this.focused=t,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(t,e){this.addRemoveClass("onyx-disabled",e.originator.disabled)}});

// lib/onyx/source/Tooltip.js
enyo.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},adjustPosition:function(){if(this.showing&&this.hasNode()){var t=this.node.getBoundingClientRect();t.top+t.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),t.left+t.width>window.innerWidth&&(this.applyPosition({"margin-left":-t.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},resizeHandler:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}});

// lib/onyx/source/TooltipDecorator.js
enyo.kind({name:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}});

// lib/onyx/source/MenuDecorator.js
enyo.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(t,e){this.requestHideTooltip(),e.originator.active&&(this.menuActive=!0,this.activator=e.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}});

// lib/onyx/source/Menu.js
enyo.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(t,e){return e.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(t,e){if(this.floating){var i=e.activator.hasNode();if(i){var n=this.activatorOffset=this.getPageOffset(i);this.applyPosition({top:n.top+(this.showOnTop?0:n.height),left:n.left,width:n.width})}}return this.show(),!0},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=t.getBoundingClientRect(),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var t=this.node.getBoundingClientRect(),e=void 0===t.height?t.bottom-t.top:t.height,i=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,n=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=t.top+e>i&&i-t.bottom<t.top-e,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var o=this.activatorOffset;this.menuUp?this.applyPosition({top:o.top-e+(this.showOnTop?o.height:0),bottom:"auto"}):t.top<o.top&&i>o.top+(this.showOnTop?0:o.height)+e&&this.applyPosition({top:o.top+(this.showOnTop?0:o.height),bottom:"auto"})}if(t.right>n&&(this.floating?this.applyPosition({left:n-t.width}):this.applyPosition({left:-(t.right-n)})),0>t.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-t.left}):this.applyPosition({right:t.left})),this.scrolling&&!this.showOnTop){t=this.node.getBoundingClientRect();var s;s=this.menuUp?this.maxHeight<t.bottom?this.maxHeight:t.bottom:i>t.top+this.maxHeight?this.maxHeight:i-t.top,this.getScroller().setMaxHeight(s+"px")}}},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});

// lib/onyx/source/MenuItem.js
enyo.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}});

// lib/onyx/source/Submenu.js
enyo.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(t){this.$.client.setOpen(t)},getOpen:function(){return this.$.client.getOpen()}});

// lib/onyx/source/PickerDecorator.js
enyo.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(t,e){this.waterfallDown("onChange",e)}});

// lib/onyx/source/PickerButton.js
enyo.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(t,e){void 0!==e.content&&this.setContent(e.content)}});

// lib/onyx/source/Picker.js
enyo.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(t,e){return this.processActivatedItem(e.originator),this.inherited(arguments)},processActivatedItem:function(t){t.active&&this.setSelected(t)},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(t,e){e.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()}});

// lib/onyx/source/FlyweightPicker.js
enyo.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var t=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(t,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(t){this.item=t},selectedChanged:function(t){if(this.item){null!=t&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(t));var e;null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),e=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:e&&e.textContent||this.item.content})}},itemTap:function(t,e){this.setSelected(e.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(t,e){return e.originator!=this?!0:void 0}});

// lib/onyx/source/DatePicker.js
enyo.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en_us",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),enyo.g11n&&(this.locale=enyo.g11n.currentLocale().getLocale()),this.initDefaults()},initDefaults:function(){var t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];enyo.g11n&&(this._tf=new enyo.g11n.Fmts({locale:this.locale}),t=this._tf.getMonthFields()),this.setupPickers(this._tf?this._tf.getDateFieldOrder():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var e,i=this.value=this.value||new Date,n=0;e=t[n];n++)this.$.monthPicker.createComponent({content:e,value:n,active:n==i.getMonth()});var o=i.getFullYear();for(this.$.yearPicker.setSelected(o-this.minYear),n=1;this.monthLength(i.getYear(),i.getMonth())>=n;n++)this.$.dayPicker.createComponent({content:n,value:n,active:n==i.getDate()})},monthLength:function(t,e){return 32-new Date(t,e,32).getDate()},setupYear:function(t,e){return this.$.year.setContent(this.minYear+e.index),!0},setupPickers:function(t){var e,i,n,o=t.split("");for(i=0,n=o.length;n>i;i++)switch(e=o[i]){case"d":this.createDay();break;case"m":this.createMonth();break;case"y":this.createYear();break;default:}},createYear:function(){var t=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++t,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(this.dayHidden?!1:!0)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(this.monthHidden?!1:!0)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(this.yearHidden?!1:!0)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(t,e){var i=this.calcDate(this.value.getFullYear(),this.value.getMonth(),e.selected.value);return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateMonth:function(t,e){var i=this.calcDate(this.value.getFullYear(),e.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateYear:function(t,e){if(-1!=e.originator.selected){var i=this.calcDate(this.minYear+e.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:i}),this.setValue(i)}return!0},calcDate:function(t,e,i){return new Date(t,e,i,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}});

// lib/onyx/source/TimePicker.js
enyo.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en_us",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),enyo.g11n&&(this.locale=enyo.g11n.currentLocale().getLocale()),this.initDefaults()},initDefaults:function(){var t="AM",e="PM";enyo.g11n?(this._tf=new enyo.g11n.Fmts({locale:this.locale}),t=this._tf.getAmCaption(),e=this._tf.getPmCaption(),null==this.is24HrMode&&(this.is24HrMode=!this._tf.isAmPm())):null==this.is24HrMode&&(this.is24HrMode=!1),this.setupPickers(this._tf?this._tf.getTimeFieldOrder():"hma");var i,n=this.value=this.value||new Date;if(this.is24HrMode)for(i=0;24>i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==n.getHours()});else{var o=n.getHours();for(o=0===o?12:o,i=1;12>=i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==(o>12?o%12:o)})}for(i=0;59>=i;i++)this.$.minutePicker.createComponent({content:10>i?"0"+i:i,value:i,active:i==n.getMinutes()});n.getHours()>=12?this.$.ampmPicker.createComponents([{content:t},{content:e,active:!0}]):this.$.ampmPicker.createComponents([{content:t,active:!0},{content:e}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(t){var e,i,n,o=t.split("");for(i=0,n=o.length;n>i;i++)switch(e=o[i]){case"h":this.createHour();break;case"m":this.createMinute();break;case"a":this.createAmPm();break;default:}},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(t,e){var i=e.selected.value;if(!this.is24HrMode){var n=this.$.ampmPicker.getParent().controlAtIndex(0).content;i=i+(12==i?-12:0)+(this.isAm(n)?0:12)}return this.value=this.calcTime(i,this.value.getMinutes()),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(t,e){return this.value=this.calcTime(this.value.getHours(),e.selected.value),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(t,e){var i=this.value.getHours();return this.is24HrMode||(i+=i>11?this.isAm(e.content)?-12:0:this.isAm(e.content)?0:12),this.value=this.calcTime(i,this.value.getMinutes()),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(t,e){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),t,e,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(t){var e,i;try{e=this._tf.getAmCaption(),i=this._tf.getPmCaption()}catch(n){e="AM",i="PM"}return t==e?!0:!1},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}});

// lib/onyx/source/RadioButton.js
enyo.kind({name:"onyx.RadioButton",kind:"Button",classes:"onyx-radiobutton"});

// lib/onyx/source/RadioGroup.js
enyo.kind({name:"onyx.RadioGroup",kind:"Group",defaultKind:"onyx.RadioButton",highlander:!0});

// lib/onyx/source/ToggleButton.js
enyo.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(t){this.disabled||this.setValue(t)},tap:function(){this.updateValue(!this.value)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(t,e){if(this.dragging){var i=e.dx;return Math.abs(i)>10&&(this.updateValue(i>0),this.dragged=!0),!0}},dragfinish:function(t,e){this.dragging=!1,this.dragged&&e.preventTap()}});

// lib/onyx/source/ToggleIconButton.js
enyo.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(t){this.disabled||(this.setValue(t),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}});

// lib/onyx/source/Toolbar.js
enyo.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&enyo.platform.android>=4&&this.applyStyle("position","static")}});

// lib/onyx/source/ProgressBar.js
enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(t){this.$.bar.removeClass(t),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var t=this.calcPercent(this.progress);this.updateBarPosition(t)},calcIncrement:function(t){return Math.round(t/this.increment)*this.increment},clampValue:function(t,e,i){return Math.max(t,Math.min(i,e))},calcRatio:function(t){return(t-this.min)/(this.max-this.min)},calcPercent:function(t){return 100*this.calcRatio(t)},updateBarPosition:function(t){this.$.bar.applyStyle("width",t+"%")},animateProgressTo:function(t){this.$.progressAnimator.play({startValue:this.progress,endValue:t,node:this.hasNode()})},progressAnimatorStep:function(t){return this.setProgress(t.value),!0},progressAnimatorComplete:function(t){return this.doAnimateProgressFinish(t),!0}});

// lib/onyx/source/ProgressButton.js
enyo.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}});

// lib/onyx/source/Scrim.js
enyo.kind({name:"onyx.Scrim",showing:!1,classes:"onyx-scrim enyo-fit",floating:!1,create:function(){this.inherited(arguments),this.zStack=[],this.floating&&this.setParent(enyo.floatingLayer)},showingChanged:function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),this.inherited(arguments)},addZIndex:function(t){0>enyo.indexOf(t,this.zStack)&&this.zStack.push(t)},removeZIndex:function(t){enyo.remove(t,this.zStack)},showAtZIndex:function(t){this.addZIndex(t),void 0!==t&&this.setZIndex(t),this.show()},hideAtZIndex:function(t){if(this.removeZIndex(t),this.zStack.length){var e=this.zStack[this.zStack.length-1];this.setZIndex(e)}else this.hide()},setZIndex:function(t){this.zIndex=t,this.applyStyle("z-index",t)},make:function(){return this}}),enyo.kind({name:"onyx.scrimSingleton",kind:null,constructor:function(t,e){this.instanceName=t,enyo.setPath(this.instanceName,this),this.props=e||{}},make:function(){var t=new onyx.Scrim(this.props);return enyo.setPath(this.instanceName,t),t},showAtZIndex:function(t){var e=this.make();e.showAtZIndex(t)},hideAtZIndex:enyo.nop,show:function(){var t=this.make();t.show()}}),new onyx.scrimSingleton("onyx.scrim",{floating:!0,classes:"onyx-scrim-translucent"}),new onyx.scrimSingleton("onyx.scrimTransparent",{floating:!0,classes:"onyx-scrim-transparent"});

// lib/onyx/source/Slider.js
enyo.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),enyo.platform.firefoxOS&&(this.moreComponents[2].ondown="fxosDown",this.moreComponents[2].onenter="fxosEnter",this.moreComponents[2].ondrag="fxosDrag",this.moreComponents[2].onleave="fxosLeave",this.moreComponents[2].onup="fxosUp"),this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var t=this.calcPercent(this.value);this.updateKnobPosition(t),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(t){this.$.knob.applyStyle("left",t+"%")},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,!0):void 0},drag:function(t,e){if(this.dragging){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.setValue(i),this.doChanging({value:this.value}),!0}},dragfinish:function(t,e){return this.dragging=!1,e.preventTap(),this.doChange({value:this.value}),!0},tap:function(t,e){if(this.tappable){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.tapped=!0,this.animateTo(i),!0}},fxosDown:function(){this.$.knob.addClass("pressed"),this._isInControl=!0},fxosEnter:function(){this._isInControl=!0},fxosDrag:function(){this.$.knob.addRemoveClass("pressed",this._isInControl)},fxosLeave:function(){this.$.knob.removeClass("pressed"),this._isInControl=!1},fxosUp:function(){this.$.knob.removeClass("pressed"),this._isInControl=!1},animateTo:function(t){this.$.animator.play({startValue:this.value,endValue:t,node:this.hasNode()})},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(t),!0}});

// lib/onyx/source/RangeSlider.js
enyo.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var t=this.calcPercent(this.beginValue);this.updateBarPosition(t)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"}))},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(t){return(t-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(t){return 100*this.calcKnobRatio(t)},beginValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.beginValue);this.updateKnobPosition(e,this.$.startKnob)}},endValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.endValue);this.updateKnobPosition(e,this.$.endKnob)}},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(t,e){e.applyStyle("left",t+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var t=this.calcKnobPercent(this.rangeStart),e=this.calcKnobPercent(this.rangeEnd)-t;this.$.bar.applyStyle("left",t+"%"),this.$.bar.applyStyle("width",e+"%")}},calcRangeRatio:function(t){return t/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(t){"startKnob"===t?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===t&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(t){this.swapZIndex(t.name)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,!0):void 0},drag:function(t,e){if(this.dragging){var i,n,o,s=this.calcKnobPosition(e);if("startKnob"===t.name&&s>=0){if(!(this.endValue>=s&&-1===e.xDirection||this.endValue>=s))return this.drag(this.$.endKnob,e);this.setBeginValue(s),i=this.calcRangeRatio(this.beginValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.startKnob),this.setRangeStart(n),this.doChanging({value:n})}else if("endKnob"===t.name&&100>=s){if(!(s>=this.beginValue&&1===e.xDirection||s>=this.beginValue))return this.drag(this.$.startKnob,e);this.setEndValue(s),i=this.calcRangeRatio(this.endValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.endKnob),this.setRangeEnd(n),this.doChanging({value:n})}return!0}},dragfinish:function(t,e){this.dragging=!1,e.preventTap();var i;return"startKnob"===t.name?(i=this.calcRangeRatio(this.beginValue),this.doChange({value:i,startChanged:!0})):"endKnob"===t.name&&(i=this.calcRangeRatio(this.endValue),this.doChange({value:i,startChanged:!1})),!0},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(t){this.$.startKnob.waterfallDown("onSetLabel",t)},setEndLabel:function(t){this.$.endKnob.waterfallDown("onSetLabel",t)}}),enyo.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(t,e){this.setContent(e)}});

// lib/onyx/source/Item.js
enyo.kind({name:"onyx.Item",classes:"onyx-item",tapHighlight:!0,handlers:{onhold:"hold",onrelease:"release"},hold:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,e)},release:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,e)},statics:{addRemoveFlyweightClass:function(t,e,i,n,o){var s=n.flyweight;if(s){var a=void 0!==o?o:n.index;s.performOnRow(a,function(){t.addRemoveClass(e,i)})}}}});

// lib/onyx/source/Spinner.js
enyo.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}});

// lib/onyx/source/MoreToolbar.js
enyo.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(t,e){this.addRemoveClass("active",e.originator.active)},popItem:function(){var t=this.findCollapsibleItem();if(t){this.movedClass&&this.movedClass.length>0&&!t.hasClass(this.movedClass)&&t.addClass(this.movedClass),this.$.menu.addChild(t,null);var e=this.$.menu.hasNode();return e&&t.hasNode()&&t.insertNodeInParent(e),!0}},pushItem:function(){var t=this.$.menu.children,e=t[0];if(e){this.movedClass&&this.movedClass.length>0&&e.hasClass(this.movedClass)&&e.removeClass(this.movedClass),this.$.client.addChild(e);var i=this.$.client.hasNode();if(i&&e.hasNode()){for(var n,o,s=0;this.$.client.children.length>s;s++){var a=this.$.client.children[s];if(void 0!==a.toolbarIndex&&a.toolbarIndex!=s){n=a,o=s;break}}if(n&&n.hasNode()){e.insertNodeInParent(i,n.node);var r=this.$.client.children.pop();this.$.client.children.splice(o,0,r)}else e.appendNodeToParent(i)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var t=this.$.client.children,e=t.length&&t[t.length-1].hasNode();if(e)return this.$.client.reflow(),e.offsetLeft+e.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var t,e=this.$.client.children,i=e.length-1;t=e[i];i--){if(!t.unmoveable)return t;void 0===t.toolbarIndex&&(t.toolbarIndex=i)}}});

// lib/onyx/source/IntegerPicker.js
enyo.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var t=this.min;this.max>=t;t++)this.createComponent({content:t,active:t===this.value?!0:!1})},valueChanged:function(){var t=this.getClientControls(),e=t.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var i=0;e>i;i++)if(this.value===parseInt(t[i].content,10)){this.setSelected(t[i]);break}},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.value=parseInt(this.selected.content,10)}});

// lib/onyx/source/ContextualPopup.js
enyo.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){for(var t=0;this.actionButtons.length>t;t++)this.$.actionButtons.createComponent({kind:"onyx.Button",content:this.actionButtons[t].content,classes:this.actionButtons[t].classes+" onyx-contextual-popup-action-button",name:this.actionButtons[t].name?this.actionButtons[t].name:"ActionButton"+t,index:t,tap:this.actionButtons[t].ontap?this.owner.bindSafely(this.actionButtons[t].ontap):this.bindSafely(this.tapHandler)})},tapHandler:function(t,e){return e.actionButton=!0,e.popup=this,this.bubble("ontap",e),!0},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()},requestShow:function(t,e){var i=e.activator.hasNode();return i&&(this.activatorOffset=this.getPageOffset(i)),this.show(),!0},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=this.getBoundingRect(t),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,s=void 0===e.height?e.bottom-e.top:e.height,o=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:s,width:o}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var t=this.getViewWidth(),e=this.getViewHeight(),i=this.vertFlushMargin,n=e-this.vertFlushMargin,s=this.horizFlushMargin,o=t-this.horizFlushMargin;if(i>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>n){if(this.applyVerticalFlushPositioning(s,o))return;if(this.applyHorizontalFlushPositioning(s,o))return;if(this.applyVerticalPositioning())return}else if((s>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>o)&&this.applyHorizontalPositioning())return;var a=this.getBoundingRect(this.node);if(a.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(a.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var t=this.getBoundingRect(this.node),e=this.getViewHeight();return this.floating?e/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-t.height,bottom:"auto"}),this.addClass("above")):t.top+t.height>e&&e-t.bottom<t.top-t.height?this.addClass("above"):this.addClass("below"),t=this.getBoundingRect(this.node),t.top+t.height>e||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewWidth();if(this.floating){var i=this.activatorOffset.left+this.activatorOffset.width/2-t.width/2;i+t.width>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.width}),this.addClass("left")):0>i?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:i})}else{var n=this.activatorOffset.left+this.activatorOffset.width/2-t.left-t.width/2;t.right+n>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.right}),this.addRemoveClass("left",!0)):0>t.left+n?this.addRemoveClass("right",!0):this.applyPosition({left:n})}return!0},applyVerticalFlushPositioning:function(t,e){if(!this.initVerticalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewWidth();return t>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-i.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>e?(this.activatorOffset.left+this.activatorOffset.width/2>n-this.horizBuffer?this.applyPosition({left:n-this.horizBuffer-i.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-i.right}),this.addClass("left"),this.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.node),e=this.getViewWidth();return this.floating?e/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-t.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-t.width>0?(this.applyPosition({left:this.activatorOffset.left-t.left-t.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.node),0>t.left||t.left+t.width>e?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewHeight(),i=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-t.height/2,bottom:"auto"}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-t.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:(this.activatorOffset.height-t.height)/2}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,e){if(!this.initHorizontalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewHeight();return this.floating?n/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-i.height}),this.addRemoveClass("low",!0)):i.top+i.height>n&&n-i.bottom<i.top-i.height?(this.applyPosition({top:i.top-i.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),t>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>e?(this.addClass("right"),this.addClass("corner"),!0):!1},getBoundingRect:function(t){var e=t.getBoundingClientRect();return e.width&&e.height?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});

// source/mockdata.js
mock_bookmarks=[{Title:"Blue Bottle Cafe",Address:"66 Mint Street, San Francisco, CA",Latitude:37.782442,Longitude:-122.407467},{Title:"Thirsty Bear Brewing",Address:"661 Howard Street, San Francisco, CA",Latitude:37.785485,Longitude:-122.399698},{Title:"Golden Boy Pizza",Address:"542 Green Street, San Francisco, CA",Latitude:37.799632,Longitude:-122.407921},{Title:"South Park Cafe",Address:"108 South Park Street, San Francisco, CA",Latitude:37.781561,Longitude:-122.394318}];

// source/CurrentLocation.js
enyo.kind({name:"CurrentLocation",kind:"Component",events:{onSuccess:"",onFailure:"doFailure"},doFailure:function(t){console.log("Geolocation error #"+t.code+": "+t.message)},destroy:function(){this.stopTracking(),this.inherited(arguments)},stopTracking:function(){this._watchId&&navigator.geolocation.clearWatch(this._watchId)},go:function(){navigator.geolocation?this._watchId=navigator.geolocation.watchPosition(enyo.bind(this,"doSuccess"),enyo.bind(this,"doFailure"),{maximumAge:600,timeout:1e4}):console.log("Geolocation error: Browser does not support navigator.geolocation!")}});

// source/SearchPlaces.js
enyo.kind({name:"SearchPlaces",kind:"Component",published:{credentials:""},events:{onResults:""},url:"http://api.bing.net/json.aspx",params:{Version:"2.0",Market:"en-US",c:"en-US",Options:"EnableHighlighting",Sources:"PhoneBook","Phonebook.Count":10,JsonType:"callback"},search:function(t){var e=enyo.clone(this.params);return e.AppId=this.credentials,enyo.mixin(e,t),new enyo.JsonpRequest({url:this.url,callbackName:"JsonCallback"}).response(enyo.bind(this,"processResponse")).go(e)},processResponse:function(t,e){var i=e.SearchResponse.Phonebook;this.doResults({results:i&&i.Results||[]})}});

// source/LabeledItem.js
enyo.kind({name:"LabeledItem",published:{value:"",label:"",icon:""},components:[{name:"icon",kind:"Image",classes:"labeled-item-icon"},{name:"label",kind:"Control"},{name:"input",classes:"label-item-input"}],defaultKind:"onyx.Checkbox",create:function(){this.inherited(arguments),this.valueChanged(),this.labelChanged(),this.iconChanged()},labelChanged:function(){this.$.label.setContent(this.label)},iconChanged:function(){this.$.icon.setSrc(this.icon)},getValue:function(){return this.$.input.getValue()},valueChanged:function(){this.$.input.setValue(this.value)}});

// source/BookmarkList.js
enyo.kind({name:"BookmarkList",events:{onItemSelect:""},create:function(){this.inherited(arguments);for(var t,e=0;t=mock_bookmarks[e];e++){var i=this.createComponent({kind:"BookmarkItem",ontap:"itemTap"},t);i.setTitle(t.Title),i.setDetails(t.Address)}},itemTap:function(t){this.activated&&this.activated.applyStyle("background",null),this.activated=t,this.activated.applyStyle("background","lightblue"),this.doItemSelect({item:t})}}),enyo.kind({name:"BookmarkItem",classes:"bookmark-item",published:{title:"",details:""},components:[{name:"title",classes:"bookmark-item-title"},{name:"details",classes:"bookmark-item-details"}],create:function(){this.inherited(arguments),this.titleChanged(),this.detailsChanged()},titleChanged:function(){this.$.title.setContent(this.title)},detailsChanged:function(){this.$.details.setContent(this.details)}});

// source/Pullout.js
enyo.kind({name:"Pullout",kind:"enyo.Slideable",events:{onDropPin:""},handlers:{onload:"loadHandler"},components:[{name:"shadow",classes:"pullout-shadow"},{kind:"onyx.Grabber",classes:"pullout-grabbutton"},{kind:"FittableRows",classes:"enyo-fit",components:[{name:"client",classes:"pullout-toolbar"},{fit:!0,style:"position: relative;",components:[{name:"info",kind:"Scroller",classes:"enyo-fit",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",content:"General"},{kind:"LabeledItem",name:"useGeolocationToggleButton",label:"Use Geolocation",icon:"assets/map-type-satellite.png",defaultKind:"onyx.ToggleButton",onChange:"useGeolocationChange"},{kind:"LabeledItem",name:"autoLoginToggleButton",label:"Auto login",icon:"assets/login.png",defaultKind:"onyx.ToggleButton",onChange:"autoLoginChange"}]},{kind:"onyx.Groupbox",classes:"onyx-groupbox settings",components:[{kind:"onyx.GroupboxHeader",content:"Account"},{kind:"PulloutItem",label:"Add a Car",icon:"assets/add.png",ontap:"showPopup"},{kind:"PulloutItem",label:"Remove a Car",icon:"assets/remove.png",ontap:"deleteCarDrawer"},{name:"drawer",kind:"onyx.Drawer",open:!1,visible:!1,style:"position:absolute;display:none;",content:"Remove a car",components:[{name:"title",content:"Nothing to delete...",classes:"car_to_delete",ontap:"deleteCarID"}]},{kind:"PulloutItem",label:"Edit account details",icon:"assets/edit.png",ontap:"editAccountOnTap"},{kind:"PulloutItem",name:"whereDoIPark",label:"Where do I park?",icon:"assets/icon-dropPin.png",ontap:"showMap"},{kind:"PulloutItem",label:"Logout",icon:"assets/logout.png",ontap:"logoutOnTap"}]}]}]}]}],max:100,value:100,unit:"%",debugOnTap:function(){this.owner.debug()},showMap:function(){if(1==lastParkingPOIValid){this.owner.$.appPanels.setIndex(3),this.owner.$.google_map.apiLoadHandler();var t=localStorage.getItem("last_parking_lat"),e=localStorage.getItem("last_parking_lon");this.owner.$.google_map.setCenter(t,e),this.owner.$.google_map.dropPinAtCenter()}},fillDeleteCarDrawer:function(t){if(this.$.drawer.destroyClientControls(),t.length>0)for(i=0;t.length>i;i++)this.$.drawer.createComponent({name:"carToDelete-"+i,content:t[i].registration+" - "+t[i].Name,classes:"car_to_delete",ontap:"deleteCarID"},{owner:this});else this.$.drawer.createComponent({name:"NothingToDelete",content:"Nothing to delete...",classes:"car_to_delete"},{owner:this});this.$.drawer.render()},deleteCarDrawer:function(){this.$.drawer.open?this.$.drawer.setStyle("display:none;position:absolute;"):this.$.drawer.setStyle("position:relative;"),this.$.drawer.setOpen(!this.$.drawer.open)},deleteCarID:function(t){var e=t.id.split("-",2);this.owner.sendNotif("notification.MessageBar",void 0,3,"Deleting car "+cars_data[e[1]].Name),this.owner.delCarID(e[1])},loadHandler:function(){this.$.autoLoginToggleButton.setValue("true"===window.localStorage.getItem("auto_login")),this.$.useGeolocationToggleButton.setValue("true"===window.localStorage.getItem("use_geolocation"))},toggle:function(t){var e=this.$[t];e.showing&&this.isAtMin()?this.animateToMax():(this.animateToMin(),this.$.info.hide(),this.$.bookmark.hide(),e.show(),e.resized())},autoLoginChange:function(t){var e=t.getValue();""!==e&&window.localStorage.setItem("auto_login",e)},useGeolocationChange:function(t){var e=t.getValue();""!==e&&(window.localStorage.setItem("use_geolocation",e),use_geolocation=e,1==use_geolocation&&this.owner.$.currentLocation.go())},logoutOnTap:function(){console.log("logoutOnTap"),this.owner.$.pullout.animateTo(100),window.localStorage.clear(),this.owner.$.userid.setValue(""),this.owner.$.userpass.setValue(""),this.owner.$.appPanels.setIndex(0)},addACarOnTap:function(){console.log("logoutOnTap"),this.owner.$.appPanels.setIndex(0)},showPopup:function(){this.owner.$.carImage.setSrc("assets/car.png"),this.owner.$.regnum.setContent(""),this.owner.$.description.setContent(""),this.owner.$.pullout.animateTo(100),this.owner.$.appPanels.setIndex(2)},editAccountOnTap:function(){this.owner.$.pullout.animateTo(100),this.owner.$.loginPanels.setIndex(3),this.owner.$.appPanels.setIndex(0)}});

// source/PulloutItem.js
enyo.kind({name:"PulloutItem",published:{label:"",icon:""},components:[{name:"icon",kind:"Image",classes:"labeled-item-icon"},{name:"label",kind:"Control"}],create:function(){this.inherited(arguments),this.labelChanged(),this.iconChanged()},labelChanged:function(){this.$.label.setContent(this.label)},iconChanged:function(){this.$.icon.setSrc(this.icon)}});

// source/Infobox.js
enyo.kind({name:"Infobox",kind:"onyx.Popup",classes:"infobox",published:{title:"",details:""},floating:!0,components:[{name:"title"},{name:"details",classes:"infobox-details"}],create:function(){this.inherited(arguments),this.titleChanged(),this.detailsChanged()},titleChanged:function(){this.$.title.setContent(this.title)},detailsChanged:function(){this.$.details.setContent(this.details)},openAt:function(t,e){this.applyStyle("top",t+"px"),this.applyStyle("left",e+"px"),this.show()},openWithItem:function(t,e,i){this.setTitle(t.Title),this.setDetails(t.Address),this.openAt(e,i)}});

// source/MapsApp.js
enyo.kind({name:"MapsApp",classes:"app",components:[{kind:"FittableRows",classes:"enyo-fit",components:[{kind:"onyx.Toolbar",components:[{name:"menu",classes:"menu",defaultKind:"onyx.IconButton",components:[{src:"images/menu-icon-info.png",panel:"info",ontap:"togglePullout"},{src:"images/menu-icon-bookmark.png",panel:"bookmark",ontap:"togglePullout"},{src:"images/menu-icon-mylocation.png",ontap:"findCurrentLocation"}]},{kind:"Group",defaultKind:"onyx.IconButton",tag:null,components:[{src:"images/topbar-search-icon.png",active:!0},{src:"images/topbar-direct-icon.png"}]},{kind:"onyx.InputDecorator",components:[{name:"searchInput",classes:"search-input",kind:"onyx.Input",placeholder:"Search (e.g. Coffee)",onkeypress:"searchInputKeypress"},{kind:"Image",src:"images/search-input-search.png",ontap:"search"}]}]},{name:"map",kind:"BingMap",fit:!0,onLoaded:"findCurrentLocation",options:{showDashboard:!1,showScalebar:!1},credentials:"Ah2oavKf-raTJYVgMxnxJg9E2E2_53Wb3jz2lD4N415EFSKwFlhlMe9U2dJpMZyJ"}]},{kind:"Pullout",classes:"pullout",onDropPin:"dropPin",onShowTraffic:"showTraffic",onMapTypeSelect:"mapTypeSelect",onBookmarkSelect:"bookmarkSelect",components:[{classes:"pullout-menu",defaultKind:"onyx.IconButton",components:[{src:"images/menu-icon-info.png",panel:"info",ontap:"togglePullout"},{src:"images/menu-icon-bookmark.png",panel:"bookmark",ontap:"togglePullout"},{src:"images/menu-icon-mylocation.png",ontap:"findCurrentLocation"}]}]},{kind:"Infobox"},{kind:"CurrentLocation",onSuccess:"currentLocationSuccess"},{kind:"SearchPlaces",credentials:"D7819411124F1FE57C72D3DB61E03F47470F143A",onResults:"searchResults"}],togglePullout:function(t){this.$.pullout.toggle(t.panel)},mapTypeSelect:function(t,e){this.$.map.setMapType(e.mapType)},bookmarkSelect:function(t,e){var i=!this.bookmarkPin,n=e.item;this.bookmarkPin=this.$.map.updatePushpin(this.bookmarkPin,n.Latitude,n.Longitude,{icon:"images/poi_search.png",height:48,width:48}),this.bookmarkPin.item=n,i&&Microsoft.Maps.Events.addHandler(this.bookmarkPin,"mouseup",enyo.bind(this,"openInfobox")),this.$.map.setCenter(n.Latitude,n.Longitude)},openInfobox:function(t){var e=this.$.map.hasMap().tryLocationToPixel(t.target.getLocation(),Microsoft.Maps.PixelReference.control);t.originalEvent&&t.originalEvent.stopPropagation&&t.originalEvent.stopPropagation(),this.$.infobox.openWithItem(t.target.item,e.y,e.x+18)},dropPin:function(t,e){var i=this.$.map.hasMap();if(i){var n=i.getCenter();this.$.map.setCenter(n.latitude,n.longitude),this.$.map.setShowPin(e.value)}},showTraffic:function(t,e){this.$.map.setShowTraffic(e.value)},findCurrentLocation:function(){this.$.currentLocation.go()},currentLocationSuccess:function(t,e){var i=e.coords;this.$.map.setCenter(i.latitude,i.longitude),this.$.map.setZoom(14),t.stopTracking(),this.currentLocationPin=this.$.map.updatePushpin(this.currentLocationPin,i.latitude,i.longitude,{icon:"images/mylocation.png",height:48,width:48,anchor:new Microsoft.Maps.Point(24,24)})},searchInputKeypress:function(t,e){13==e.keyCode&&(this.search(),t.hasNode().blur())},clearAll:function(){this.$.map.clearAll([this.currentLocationPin]),this.bookmarkPin=null},search:function(){this.clearAll();var t=this.$.searchInput.getValue();if(t){var e=this.$.map.hasMap().getCenter();this.$.searchPlaces.search({Latitude:e.latitude,Longitude:e.longitude,Query:t})}},searchResults:function(t,e){for(var i,n=e.results,o=0;i=n[o];o++){var s=this.$.map.createPushpin(i.Latitude,i.Longitude,{icon:"images/poi_search.png",height:48,width:48,text:o+1+"",textOffset:new Microsoft.Maps.Point(0,7)});s.item=i,Microsoft.Maps.Events.addHandler(s,"mouseup",enyo.bind(this,"openInfobox")),!o&&this.$.map.setCenter(i.Latitude,i.Longitude)}}});

// source/serverApi.js
function serverApi(){this.serverUrl="http://ozpark.com.au",this.auth_token=null,this.init()}serverApi.prototype={init:function(){this.auth_token=window.localStorage.getItem("auth_token")},get_token:function(){return this.auth_token},is_signed_in:function(){return null!=this.auth_token},sign_in:function(t){$.ajax({url:this.serverUrl+"/users/sign_in.json",dataType:"json",type:"post",cache:!1,data:t.data,success:function(e){_serverApi.auth_token=e.session.auth_token,window.localStorage.setItem("auth_token",_serverApi.auth_token),t.success(_serverApi.auth_token)},error:function(e,i,n){console.log(e,i,n),window.localStorage.removeItem("auth_token"),t.error(n)}})},sign_up:function(t){$.ajax({url:this.serverUrl+"/users.json",dataType:"json",type:"post",cache:!1,data:t.data,success:function(e){_serverApi.auth_token=e.data.auth_token,window.localStorage.setItem("auth_token",_serverApi.auth_token),console.log("auth_token: "+_serverApi.auth_token),t.success(_serverApi.auth_token)},error:function(e,i,n){console.log(e,i,n),window.localStorage.removeItem("auth_token"),t.error(n)}})},sign_out:function(){this.auth_token=null,window.localStorage.removeItem("auth_token")},get_user:function(t){$.ajax({url:this.serverUrl+"/api/v1/users/0.json?auth_token="+this.auth_token,dataType:"json",type:"get",cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},get_rates:function(t){$.ajax({url:this.serverUrl+"/api/v1/cities/get_rates.json?auth_token="+this.auth_token,dataType:"json",type:"get",cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},add_cars:function(t){$.ajax({url:this.serverUrl+"/api/v1/users/0/cars.json?auth_token="+this.auth_token,dataType:"json",type:"post",data:t.data,cache:!1,success:function(e){console.log("add_car: success"+e);var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(e.responseText)}})},upload_car_image:function(t,e,i,n){var o=this.serverUrl+"/api/v1/users/0/cars/"+t+"/upload_image.json?auth_token="+this.auth_token;if(console.log("upload_car_image:url "+o),"undefined"!=typeof FileUploadOptions){console.log(FileUploadOptions);var s=new FileUploadOptions;s.chunkedMode=!1,s.fileKey="file",s.fileName=e.substr(e.lastIndexOf("/")+1),s.mimeType="image/jpeg",console.log("upload_car_image: options.fileNam "+s.fileName);var a={};a.value1="test",a.value2="param",s.params=a;var r=new FileTransfer;r.upload(e,o,i,n,s),console.log("exit upload_car_image: imageURI = "+e+" url = "+o)}},update_cars:function(t){$.ajax({url:this.serverUrl+"/api/v1/users/0/cars/"+t.id+".json?auth_token="+this.auth_token,dataType:"json",type:"put",data:t.data,cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},get_cars:function(t){$.ajax({url:this.serverUrl+"/api/v1/users/0/cars.json?auth_token="+this.auth_token,dataType:"json",type:"get",cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},add_payment:function(t){$.ajax({url:this.serverUrl+"/api/v1/payments.json?auth_token="+this.auth_token,dataType:"json",type:"post",data:t.data,cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},update_payment:function(t){$.ajax({url:this.serverUrl+"/api/v1/payments/"+t.id+".json?auth_token="+this.auth_token,dataType:"json",type:"put",data:t.data,cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})},get_payments:function(t){$.ajax({url:this.serverUrl+"/api/v1/payments/users_payments.json?auth_token="+this.auth_token,dataType:"json",type:"get",cache:!1,success:function(e){var i=e;t.success(i)},error:function(e,i,n){console.log(e,i,n),t.error(n)}})}};

// source/camera.js
function onDeviceReadyCamera(){cameraApp=new cameraApp,cameraApp.run()}function cameraApp(){}cameraApp.prototype={_pictureSource:null,_destinationType:null,run:function(){var t=this;t._pictureSource=navigator.camera.PictureSourceType,t._destinationType=navigator.camera.DestinationType},_capturePhoto:function(){var t=this;navigator.camera.getPicture(function(){t._onPhotoURISuccess.apply(t,arguments)},function(){t._onFail.apply(t,arguments)},{quality:70,destinationType:t._destinationType.FILE_URI})},_capturePhotoEdit:function(){var t=this;navigator.camera.getPicture(function(){t._onPhotoDataSuccess.apply(t,arguments)},function(){t._onFail.apply(t,arguments)},{quality:70,allowEdit:!0,destinationType:cameraApp._destinationType.DATA_URL})},_getPhotoFromLibrary:function(){var t=this;t._getPhoto(t._pictureSource.PHOTOLIBRARY)},_getPhotoFromAlbum:function(){var t=this;t._getPhoto(t._pictureSource.SAVEDPHOTOALBUM)},_getPhoto:function(t){var e=this;navigator.camera.getPicture(function(){e._onPhotoURISuccess.apply(e,arguments)},function(){cameraApp._onFail.apply(e,arguments)},{quality:70,destinationType:cameraApp._destinationType.FILE_URI,sourceType:t})},_onPhotoDataSuccess:function(t){var e=document.getElementById("smallImage");e.style.display="block",e.src="data:image/jpeg;base64,"+t},_onPhotoURISuccess:function(t){uriOfImageOfCarToAdd=t;var e=document.getElementById("smallImage");e.style.display="block",e.src=t;var i=document.getElementById("smallImage_url");i.src=t,window.resolveLocalFileSystemURI(uriOfImageOfCarToAdd,cameraApp._onResolveSuccess,cameraApp._onFail)},_onFail:function(t){alert("Failed! Error: "+t)},_onResolveSuccess:function(t){function e(t){var e=new FileReader;e.onloadend=function(t){console.log("read success"),console.log(t.target.result);var e=t.target.result,i=document.getElementById("smallImage");i.style.display="block",i.src=e},e.readAsDataURL(t)}var i=function(){console.log(error.code)};t.file(e,i),console.log(t.name)}};

// source/geolocation.js
function getLocation(t){parent=t,navigator.geolocation.getCurrentPosition(onGeolocationSuccess,onGeolocationError)}function onGeolocationSuccess(t){if(localStorage.setItem("geolocation_lat",t.coords.latitude),localStorage.setItem("geolocation_lon",t.coords.longitude),"undefined"==typeof google);else{var e=new google.maps.Geocoder,i=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);e.geocode({latLng:i},function(t,e){e==google.maps.GeocoderStatus.OK&&t.length>1&&t[1]&&localStorage.setItem("geolocation",t[1].formatted_address)})}}function onGeolocationError(t){alert("onGeolocationError"),log.console("onGeolocationError : "+t.message)}

// source/misc.js
function base64_encode(t){var e,i,n,o,s,a,r,h,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,c=0,u="",g=[];if(!t)return t;do e=t.charCodeAt(d++),i=t.charCodeAt(d++),n=t.charCodeAt(d++),h=e<<16|i<<8|n,o=63&h>>18,s=63&h>>12,a=63&h>>6,r=63&h,g[c++]=l.charAt(o)+l.charAt(s)+l.charAt(a)+l.charAt(r);while(t.length>d);u=g.join("");var p=t.length%3;return(p?u.slice(0,p-3):u)+"===".slice(p||3)}function base64ArrayBuffer(t){for(var e,i,n,o,s,a="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(t),l=h.byteLength,d=l%3,c=l-d,u=0;c>u;u+=3)s=h[u]<<16|h[u+1]<<8|h[u+2],e=(16515072&s)>>18,i=(258048&s)>>12,n=(4032&s)>>6,o=63&s,a+=r[e]+r[i]+r[n]+r[o];return 1==d?(s=h[c],e=(252&s)>>2,i=(3&s)<<4,a+=r[e]+r[i]+"=="):2==d&&(s=h[c]<<8|h[c+1],e=(64512&s)>>10,i=(1008&s)>>4,n=(15&s)<<2,a+=r[e]+r[i]+r[n]+"="),a}function asyncHttpGet(t,e,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer";var o=i;n.onload=function(t){if(200==t.srcElement.status){var i=base64ArrayBuffer(this.response);localStorage.setItem("picture_for_car_"+e,"data:image/*;base64,"+i),console.log("car "+e+" picture size is "+i.length)}else localStorage.setItem("picture_for_car_"+e,missing),console.log("car "+e+" no picture recieved from server");car_assets_url[e]=localStorage.getItem("picture_for_car_"+e),o.$.carousel.setImages(car_assets_url),o.$.carousel.imagesChanged()},n.send()}function httpGet(t){var e=null;return e=new XMLHttpRequest,e.open("GET",t,!1),e.send(null),e.responseText}function win(t){console.log("Sent = "+t.bytesSent+"byes to server")}function fail(t){console.log("upload error source "+t.source)}function uploadPhoto(t,e){_serverApi.upload_car_image(t,e,win,fail)}function Ticking(t){return 10>t&&(t="0"+t),t}function getWindowSizes(){var t=0,e=0;return"number"==typeof window.innerWidth?(t=window.innerHeight,e=window.innerWidth):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(t=document.body.clientHeight,e=document.body.clientWidth),alert(window.innerHeight+" "+document.documentElement.clientHeight+" "+document.body.clientHeight+" "+screen.height),[e,t]}function format_error_string(t){return err1=t.replace(/\"/g,""),err2=err1.replace(/\{/g,""),err3=err2.replace(/\}/g,""),err4=err3.replace(/\[/g,""),err5=err4.replace(/\]/g,""),err6=err5.replace(/\:/g," "),err7=err6.replace(/\_/g," ")}function prefill_local_storage(){new_install=window.localStorage.getItem("new_install"),null==new_install&&(localStorage.setItem("use_geolocation",!1),localStorage.setItem("ParkingActive",!1),localStorage.setItem("chosen_car",0),localStorage.setItem("chosen_region_city",0),localStorage.setItem("chosen_region_suburb",0),localStorage.setItem("ParkingStartTime",""),localStorage.setItem("auth_token",""),localStorage.setItem("cars_data","[]"),localStorage.setItem("chosen_car_to_delete",0),localStorage.setItem("chosen_rate_id",0),localStorage.setItem("chosen_region_city",0),localStorage.setItem("cities_data","[]"),localStorage.setItem("payment_id",0),localStorage.setItem("user_data",""),localStorage.setItem("new_install",!1),localStorage.setItem("auto_login",!1),localStorage.setItem("last_server_update",0),localStorage.setItem("geolocation_lat",0),localStorage.setItem("geolocation_lon",0),localStorage.setItem("cities_array","[]"),localStorage.setItem("suburbs_array","[]"),localStorage.setItem("last_parking_lat",0),localStorage.setItem("last_parking_lon",0))}function prefillAccountDetails(){console.log("prefill"),document.getElementById("update_email-signin").value=user_data.user.email,document.getElementById("update_password-signin").value=user_data.user.password,document.getElementById("update_firstname").value=user_data.user.firstname,document.getElementById("update_lastname").value=user_data.user.lastname,document.getElementById("update_phone").value=user_data.user.phone,document.getElementById("update_credit_card_number").value=user_data.user.credit_card_number}function Ticking(t){return 10>t&&(t="0"+t),t}function get_rate_at_current_time(t){var e=new Date,n=e.getDay(),o=e.getHours(),s=e.getMinutes(),a=0,r=parseInt(""+o+(""+s));for(localStorage.setItem("chosen_rate_id",0),i=0;t.length>i;i++)n>=t[i].start_day_a_week&&t[i].end_day_a_week>n&&r>=t[i].start_time_int&&t[i].end_time_int>r&&(a=t[i].rate,localStorage.setItem("chosen_rate_id",t[i].id));return a}function set_up_regions_template(t){var e;e="";for(var i=0;t.length>i;i++){e+=sprintf('<li data-val="%d">%s<ul>',i,t[i].name);for(var n=0;t[i].areas.length>n;n++)e+=sprintf('<li data-val="%d">%s</li>',n,t[i].areas[n].name);e+="</ul></li>\n"}return e='\n<div class="icc">\n<div class="ic">\n<ul id="RegionsListScroller">\n'+e+"\n</ul>\n</div>\n</div>\n"}var _serverApi,user_data_str,user_data,cities_data,gParkingActive,uriOfImageOfCarToAdd,cars_data,regions_data,done_with_cars_from_server,done_with_regions_from_server,use_geoloction=!1,geolocation_result,regions_template;missing="data:image/*;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABlqSURBVHic7d15eBRVugbwt7tDNpAlIQlgIN3QgOsoaxBQ1gQFhACyCETAAXF0VBBcYOYq4iwI+oi7g6ijrCJq2JUsKAkIbohevCwduwWE7EhMQpbu9P0jgKAJJNWn6nR1vb/n4S9zzvdhul6qaznH5PV6oRa71RYDIAFAHIA2F/xpDaAVgEaqFSfSDzeAXAAnfvfnKIBUh8t5Uq3CJtEBYLfaOgNIAjASQDwAs9ACRMbiBfAFgBQAKQ6X86DIyYUEgN1qawxgFoBkAJ19npCI6nIIwAoASx0uZ6mvk/kUAHarrRGAGQCeABDjazNEVG85AJ4CsNzhcrqVTqIoAOxWmwnAWAD/BGBXWpyIfHYYwDyHy/mhksENDoCzF/bWA+irpCARqWIHgHEOl7OgIYMaFAB2q60LgA0A2jasNyLSgAvACIfL+X19B9T7Cr3darsDQBZ48BP5KyuA3XarbUR9B1z2DODs9/0nADwJwORLd0SkiWoAf3O4nIsu94P1OQN4AsAC8OAn0gszgH/brbbHL/eDlzwDsFttYwC8Dx78RHpUDWCUw+XcWNcP1BkAdqvtBgC7ADRWpzci0kAJgN51XRisNQDsVlsUgC9R8ww/EembC0CP2m4R1nUN4D3w4CcKFFYA62r7D38IALvVNhrAAJUbIiJtDTh7bF/koq8AdqstCMABAJ00bIyItHEYwLUXvjvw+zOA6eDBTxSoOqHmGD/v/BnA2Vd6HahZqIOIAlMOAPu5V4kvPAOYBR78RIGuFWqOdQAXB0Cy9r0QkQTnj3UzcH4ZL67kQ2QMnc8e8+fPAJIkNkNE2ksCfguAkRIbISLtjQQAU4c4awxqliDm6r1ExlENoI0ZNev28+AnMhYzgAQz+Mw/kVHFmVGzUw8RGU8bBgCRcTEAiAysjRk1G3USkfG0NoPP/xMZVSszuEU3kVE14v1/IgNjABAZGAOAyMAYAEQGxgAgMjAGAJGBMQCIDIwBQGRgDAAiA2MAEBkYA4DIwBgARAbGACAyMAYAkYExAIgMjAFAZGAMACIDYwAQGRgDgMjAGABEBsYAIDIwBgCRgTEAiAyMAUBkYEGyG9CD4OBgxFmtaN++PVq1bgWzibmpBS+8yM3NhTP7R7hcLpSXl8tuKeAwAGphsVgwbPhwjEgaiQ4dOuDK2FiYzTzoZfJ6vThx4gScPzrx8bat+OD99aiqqpLdlu6ZOsRZvbKb8BeWIAtGjRqNe++7D1abVXY7dAm5OTl4Y9kyrF29hmcGPmAAnHXr0Nvw+Pz5iI2Nld0KNUBhYSFeXPoCVq1YIbsVXbJENG++QHYTsk27+278+5ln0KxZM9mtUAOFh4djwMABaNKkCbIys2S3ozuGD4C5jz6Ch+fOhclkkt0K+aBL165o164d0tPT4K3mSW19GfbKltlsxr8WLcK9990nuxUSJGn0KLy+bBlCQ0Nlt6Ibhg2AScmTMW7CeNltkGADBg7EQ7Nny25DNwx5EbBly5ZI3ZGBK664QnYrpAK3241ht96GbIdDdit+z5BnAI/Pn8+DP4AFBQVhwcKnZLehC4YLgB49eyJp9CjZbZDKburdG0OHD5Pdht8zXAA8Pn+e7BZII48+9hif4LwMQ/3fuf5P1+OGG2+U3QZpJLZtW/Qf0F92G37NUO8CJE+Zonisx+1BRkY6tn/yCTLS0nH69GmBndHvNW7cGP0G9MegwYORmJiIsPBwRfMkT5mCjPQMwd0FDsPcBWjeogV27fkcISEhisYvXLAA7/73HcFdUX30HzAAb7z1pqKHtbxeLxIGDoTL6RLfWAAwzFeAcePHKT74t2zezINfok937MBby5crGmsymTBp8mTBHQUOQ5wBmM1mZOz8TNGLPmfKytCn100oLi5WoTOqr0aNGuGzXVmIjo5u8Nji4mL0ie+FM2fOqNCZvhniDKD/wAGK3/JLSUnhwe8HqqqqsHb1akVjmzZtihFJIwV3FBgMEQDJd92leOyqd/maqb9Yu3oN3G63orGTffgMBLKADwCrzYq+N9+saOxXX36FgwcPim2IFMvLy8P2jz9RNPbqq69G9x7dBXekfwEfAJOSkxW/6rvy3XcFd0O+WuHD74RnAX8U0AEQFhaGMXfcoWhsfn4+Pt62TXBH5Ksvv/gChw4eUjT21ttuQ1RUlOCO9C2gA2DkqCQ0bdpU0dj31qxV/H2T1KX0zCwoKAgTJt4puBt9C+gAUHrK53F7sHaNsivOpL6UlBT8+uuvisZOuPNOWIIsgjvSr4ANgO49uuOqq65SNDYtLRU5J3MEd0SinCkrw4frP1A0NqZVKyQkJgruSL8CNgB8ee5/JW/9+b1VK1bA61X2DNtdPnw2Ak1ABkBUVBSG3HqrorHZDgc+371bcEck2o8//ojdu5T9nnrGx6Njp06CO9KngAyACRPvRFCQshcdV3J9ed3w5Tbt5LuSBXaiXwH3LoAlyILMXbsQHRPT4LFlpWXoHR+PkpISFToj0SwWC3Zk7kSbNm0aPJa/6xoBdwaQOGSIooMfAFJSPjL8B0JPPB4PVq9cpWhseONwjL5jjOCO9CfgAsCn5/55+q8769auRWVlpaKxk5L5NSCgAqBT507oGR+vaKwvT5iRPEVFRdi2ZauisR06dECfvn0Ed6QvARUAvjzrzVt/+sX3A5QLmABo0qQJkpKULfedn5+PTz7+WHBHpJVv9+3D/37/vaKxAwcNUnQRMVAETACMGXsHwhsrWzjSl/fMyT8oPYOzWCyYOHmS4G70IyACwGQyKb6gU/Pc/xrBHZHWNm/ahF9++UXR2HETJiA4OFhwR/oQEAHQu09vtG/fXtHY1NTtyM3hc/96V15ejvXr3lc0NiIiArcNGyq4I30IiADgxT8CgFUrV6K6ulrRWF9uH+uZ7gOgTZs2GDhokKKxjiNHsOfzzwV3RLIcO3oUn336qaKxN3bpguuuv15sQzqg+wCYOHkSLBZl73evXLFScDckmy9ndEZ8P0DX7wIEBwcja8/niIiIaPDYstIy3NSzJ0pLS1XojGQxmUxI/3QH2sXFNXhsRUUF+sT3UnwxUY90fQYwdPgwRQc/AHz00Yc8+AOQ1+vFKoXvB4SEhGDs+HGCO/Jvug4APvdPtVm/bh3Ky8sVjZ00ebKhthTX7d/0uuuVb/X9xd69OHzosOCOyF+cPn0amzZsUDQ2tm1b9OvfX2xDfky3AZA8xYdbf/zXP+Ct8OFioC+fLb3RZQA0b9ECw2+/XdFYX3aXIf344cAB7PvmG0Vjb77lFsRZG34RUY90GQBjx41VvNU3n/s3DqW3BI20pbjuAsBsNiv+5fC5f2PZumULCgsLFY0dM3YswsLCBHfkf3QXAP0H9Eds27aKxqZu34683FzBHZG/qqqqwnsKA79Zs2a4feQIwR35H90FgC/P/fuycATp05pVq+HxeBSNNcL7AboKgDhrHG6+5RZFY48cPoy9e/YI7oj83cmTJ5GelqZo7NXXXINu3QN7S3FdBcBkX7b65nP/hsX3A+qmm3cBwsLCsGvvHkW7/VZWVmLUiBEoLeGjv0a15v11aN26dYPHud1u9O11EwoKClToSj5l2+dozGQyIXnKXYq3+g4ODsYWrvlHCgQFBWHGzHuweNEziq8l+DO/PgOwd+yIpFFJGJGUZOiFG0m+goICbN64CRtSPsL33ylbgNQf+WUAdOrcCfP//nf0vflm2a0Q/cH+/fvxr6f/ga+/+kp2Kz7zqwCIiIjArDkPY/yECYoX+SDSytbNW7B40SIcP35cdiuK+U0A9OjZEy+9+gpatmwpuxWieisrLcOjc+fi423bZLeiiCWiefMFspuYevc0PL/0BTRp0kR2K0QN0ii4EYYOH4aQkFDs3bMHXq9f/Htab9LPAJ76x9OGefGCAltGWjr+cu9MeNz6uVsg9UGg2XPm8OCngDFw8CA8s3iJ4ofVZJD2FeCuqVPwyGOPyihNpJqrrr4ajRuHIyszU3Yr9SIlALp264YXX3lZV0lJVF9du3WD80cnDh/y/+3mNb8GEBwcjE1bt6CD3a5lWSJNnSo6hSGDB6OoqEh2K5ek+TWA+x94gAc/BbwWES2wYOFC2W1clqYBEBsbi5l/uVfLkkTSDB0+DDf17i27jUvSNACmTJuKoCBdvH9EJMT0e2bIbuGSNAuAJk2aYNyECVqVI/ILt/TrB3vHjrLbqJNm/xyPHT8ejRs3Vr3OyZMn8emOHXA5XcjLzUVeXh5CQ0MRHROD6Ogo3HBjF/Tu0xuhoaGq90JyVFVVYe+evfjm66+Qm5uL/Lw8lJSUIioqCtHR0WgXF4d+/fsp2j+woUwmE6ZOm4a/z5+vei0lNLsLsPq9tegZH6/K3FVVVVi1YiU+WL8e//fDD5f9+dDQUPS5uS9m3DMT3XsE9pJPRvLDgQN4/bXX8NmOT+u172MHux1Jo5Iwddo0hIWHq9ZXQUEBenXvodr8vtAkAEJDQ/HNd/sRHBwsfO4NKSl4/tnnFL+RlZCYiEfnPQ6bzSa4M9LKzz//jOcWL8GmjRsVPYsfHR2Nh2bPxrgJ41V7NmXI4ARkOxyqzO0LTa4BdOnaVfjBX1FRgTmzZmPOrNk+vY6Zun07Rgwbrtu3uYwuKzMLI4YOw8YNGxS/iJOXl4e/zZuHe++5R7Udo3vddJMq8/pKkwDo0VPs6U9hYSEmjhuPDSkpQuY7U1aGB+67Hy8ufUHIfKSNle++iz9PnYrTp08LmS89NQ1jkkap8n6/6GNAFE0CQMlijHWprKzEzOkzsH//fmFzAjX7yr+4dClWvMO9A/Rg86ZNWPDEk8LX6XMcOYI/T5mKX3/9Vei8MTGthM4niiYBEBkpbpGPeY8+hm/37RM23+/94+mF2L1rl2rzk+/279+Px+Y+otr82dnZeOC++4WGS0REC2FziaRNALSMFDLP1s1bhJ3218Xj9uCROXNRXl6uah1SxuP2YO6s2aioqFC1TlZmJlavXCVsvhYREcLmEkmTAGjRwvf0c7vdeHbJEgHdXF5uTg7efvNNTWpRw6xdsxpOp1OTWi+/+CLKSsuEzHXFFVcImUc0TQLAIuDx3/fWrMHRn34S0E39/Oe111FcXKxZPbq8iooKTS/UFhYW4p3/vi1kLn9dKkw3W4Nt2rhR03olJSXISEvXtCZd2q7MLMXbfSu1IWWDpvW0posA+OXUKez7Rr0Lf3VJ3b5d85pUNxm/D8eRI3A5XZrX1YouAiArK0vKtkw7d+5EdXW15nWpdp/u2GGoulrQRQBo+d3/QmfKyjQ/5aTalZeXIz8/X0rt48ePSamrBV0EQM7JHGm183JzpdWm3+Tn5UmrnRvAnwFdBECexF8+zwD8g8zfQ2FB4H4GdBEASrcFF4G7FfkHmb+HJlcE7mdAFwHQuo24dwkaKjomRlpt+o3M30NMdOB+BnQRAG3aXCmlrtlsRnR0tJTadLGmTZuqumjHpbQS+DKbv9FFAPTspc5KQpejxjoGpFyvXr2k1I2XVFcLuggAm80mZcWehMREzWtS3WT8PiIjI9G1W1fN62pFFwEAAIm3DtG0ntlsxhCNa9KlDUoYrPmy8glDEmE26+YwaTDd/M3unj5dk1WFzxk5Kglt27XTrB5dXmRkJCYla7ebdFBQEGbeG9gb2egmACIjIzFj5kxNaoWEhODhuXM1qUUN89cHHtTsluCdkyYG/D8CugkAAPjzjOno2KmT6nUenDVL6DJmJE6LiBZ4bP481eu0bt0aDz40S/U6sukqAMLCwrBs+RtoLmCBkbrcNmwo9y/0c3dOnIhJk9X7KhAWFob/LH8DLfx0GS+RdBUAANC2XTu8+vprCG8s/p7wjV26YPGzzwqfl8R7YsEC9OvfX/i8jRo1wnNLn8c1114rfG5/pLsAAICe8fFY98EHiI2NFTbnqDGjsWrtGoSFhQmbk9RjCbJg2ZvLMWXaVGFzRkVFYdXaNUgcYpy7P7oMAAC46qqr8NHGjbh16G0+zdOsWTM89fRCLHnuOYSEhAjqjrRgsVjwP08+iSXPPYfISN8Wnu0/YABSNm1E127dBHWnD7oNAKDmgtDLr76KD1I+avDTWqGhoZh+zwxk7PwMk5KTVeqQtDBqzGjs2LkTD856qMG3iv90w5+wcs1qLH/7LcS08s+1+9Wkyd6An+3KwpVXqv88//Fjx5C6fTvS09LhdDpRUJAPj7tmJaGw8HBER0fhxi5dkJCYiH79+kl7tpzUU1FRgd27diF1+3Z89cWXyM3NPb/dl9lsRmRkJNrFxWHAoIFISExEhw4dNOmrsrIS13TqrEmthgioAPi96upqFBUVITQ0lK/1GlhZaRlKy0oREREBi8UipQd/DQBtn6vUmNlsRsuW4nYlIn0Kbxyuyl2jQKDrawBE5BsGAJGBMQCIDIwBQGRgDAAiA2MAEBkYA4DIwBgARAbGACAyMAYAkYExAIgMjAFAZGAMACIDYwAQGRgDgMjAGABEBsYAIDIwBgCRgTEAiAyMAUBkYAwAIgNjABAZGAOAyMAYAEQGxgAgMjBNdgbamJKC5i1aKBrbrl0c+vTtI7ij+tmyeTOKi4ul1Ka63TlxopS633z9NQ4dOqRorLvKLbgbMTTZG9AXw2+/HUtfelFK7SGDBiM7O1tKbaqbw+WUUvefC5/G22+9JaW2WvgVgHTFZDLJLC6vtkoYAKQrZrO8j6zM2moJvL8RBTaeAAjFACBdMUlMAKlfP1TCACBdkXkQMgCIJGMAiMUAIF2RGgAyL0CohAFAusLbgGIxAEhX+BVALAYA6QsDQCgGAOkKvwGIxQAgXeFzAGIxAEhXeA1ALL8PAK9X3suKMmtT7RgAYvl9AJSWlkqrXSKxNtWu7EwZqqurpdQuKQm8z4PfB0Bubq6Uuh6PB4UFBVJqU908bg+Kioqk1M6T9FlUk98HgKz/6YWFhfB4PFJq06XJ+kzI+sdITX4fAIWFhcjNydG87g8HDmhek+rngITfjcftwWGFy4H5M78PAABIT0/XvmZqmuY1qX4y0rT/POzduwenT5/WvK7a9BEAGh+MXq8XGRkZmtak+svKzERFRYWmNbd/sl3TelrRRQBkZWYi2+HQrN7WLVukfO2g+jlz5gzWrl6jWb1TRaeQ8uGHmtXTki4CwOPxYMkzizWpVVlZqVktUu6Vl17S7BbxKy+/hJKSEk1qaU0XAQAAaamp2L1rl+p1li9bhuPHjqleh3xTVFSEl154QfU62Q4HVq1YqXodWXQTAADw0AMP4Pjx46rNn5WZiReeX6ra/CTW8mVvYMvmzarNX1xcjJkzZqCqqkq1GrLpKgBOFZ3CvdNnqHI6lp2djQfv/yvv/evMY3Mfwf5vvxU+r9vtxoP3/xUup0v43P5EVwEAAAcPHsTY0WNw7OhRYXN+vns3xo+5g9uA6VB5eTkmT5yEj7dtEzZnUVERkidORFZmprA5/ZUlonnzBbKbaKiiwkJs+CgFHTt1gs1mUzyPx+PBO2+/jblz5uBM2RmBHZKW3FVV2LZ1K6qrPejarRssFoviub7dtw9Tk+/CwYMHBXbov/x+b8DL6dO3Dx59/HFce911DRqXkZ6BxYsWwXHkiEqdkQxXXnklHp47FyOSRjbo7b2fXD/h2SWLsW3LVhW78z+6DwCg5jXNG7t0weCEBAxOGAxb+/Z/2MbJ7Xbj++++Q3pqGtLS0njgB7jY2FgMShiMQYMHo1v37ggJCbnov3u9Xvx8/Dgy0jOQlpqKvXv3wOM23vWfgAiA37MEWdCyZRRiYqJRVeVGXm4uioqK+H6/gTVv3hzRMdEICwtHQX4+8vLyAvrqfn0FZAAQUf3o7i4AEYnDACAyMAYAkYExAIgMjAFAZGAMACIDYwAQGRgDgMjAGABEBsYAIDIwMwC37CaISAq3GUDgbXdCRPWRawZwQnYXRCTFCQYAkXExAIgMjAFAZGAnzADELa9LRHpy1AwgFQBXBSIyFi+AVLPD5TwJ4AvZ3RCRpr5wuJwnzz0JuEFqK0SktQ3Ab48CMwCIjGUDAJjOLZVtt9oOA+gosyMi0sQRh8vZCbj4ZaDA3QOZiC50/li/MACeB5CvfS9EpKF81BzrAC4IAIfL+SuAhTI6IiLNLDx7rAP443oA/wGQrW0/RKSRbNQc4+ddFAAOl7MKwN+07IiINPO3s8f4ebWtCLQOQJY2/RCRRrJQc2xfxFTbjrl2q60VgC8BxKrfFxGp7BiAHg6X8w+L/9S6JqDD5cwBkATgjMqNEZG6ygCMrO3gBy6xKKjD5fwawN1qdUVEqvMCmOJwOffV9QOXXBXY4XKuBfBv0V0RkSaecric6y/1A0H1mOTcXYF5vvdDRBrwAngK9Xiup9aLgLWxW20TALwFIMyn1ohITaWoOe3/oD4/XO8AAAC71dYNQAp4d4DIH/2Emgt+++s7oEE7A529MNgDfE6AyN/sQM2tvnof/EADzwDOsVttJgBjAfwTgL3BExCRKIcBzHO4nB8qGawoAM6xW22NAMwA8ASAGMUTEVFD5aDmQt9yh8upeHs/nwLgHLvV1hjALADJADr7PCER1eUQgBUAljpczlJfJxMSABeyW22dUfMU4UgA8eAOxES+8KJm0d4UACkOl/OgyMmFB8CF7FZbDIAEAHEA2lzwpzWAVgAaqVacSD/cqNmk98Tv/hwFkHp25W5V/D/Dc0OOqF5XvQAAAABJRU5ErkJggg==";

// source/GoogleMap.js
enyo.kind({name:"GoogleMap",kind:"Control",published:{zoom:16,center:null},events:{onMapCreated:""},constructor:function(){this.inherited(arguments),this.center={lat:37.787186,lng:-122.401037}},components:[{name:"map",classes:"enyo-google-map-map"},{name:"client"}],create:function(){this.inherited(arguments),this.load()},load:function(){},apiLoadHandler:function(){this.apiLoaded=!0,this.hasNode()&&this.createMap()},createMap:function(){this.$.map.hasNode()&&(this.map||(this.map=new google.maps.Map(this.$.map.node,{center:new google.maps.LatLng(this.center.lat,this.center.lng),zoom:this.zoom,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,modeDiagnostics:!1}),this.doMapCreated()))},destroyMap:function(){this.map=null},updateCenter:function(){this.latlng=new google.maps.LatLng(this.center.lat,this.center.lng),this.map.panTo(this.latlng)},setCenter:function(t,e){this.center.lat=t,this.center.lng=e,this.updateCenter()},dropPinAtCenter:function(){this.marker?this.marker.setPosition(this.latlng):this.marker=new google.maps.Marker({animation:google.maps.Animation.BOUNCE,map:this.map,position:this.latlng})},removePin:function(){}});

// source/NotificationTheme/Badged.js
enyo.kind({name:"notification.Badged",kind:"enyo.Control",published:{defaultDuration:2e3},events:{onTap:"",onClose:""},pending:[],fifo:!1,components:[{kind:"enyo.Control",ontap:"notifTap",name:"bubble",classes:"notification-badged-bubble",showing:!1,components:[{kind:"enyo.Control",name:"icon",classes:"notification-badged-icon"},{kind:"enyo.Control",name:"title",classes:"notification-badged-title"},{kind:"enyo.Control",name:"message",classes:"notification-badged-message"},{kind:"enyo.Control",name:"badge",classes:"notification-badged-badge",showing:!1}]}],create:function(){this.inherited(arguments),this.render()},newNotification:function(t,e){this.pending.push({uid:e,notification:t}),1==this.pending.length&&this.$.bubble.show(),this.displayNotification()},displayNotification:function(){if(0!=this.pending.length){var t=this.upNotif().notification;this.fifo||enyo.job.stop("hideNotification-Badged"),this.$.badge.setContent(this.pending.length),this.$.badge.setShowing(this.pending.length>1),this.$.title.setContent(t.title),this.$.message.setContent(t.message),this.$.icon.applyStyle("background-image","url('"+t.icon+"')"),t.stay||enyo.job("hideNotification-Badged",enyo.bind(this,"hideNotification"),t.duration?1e3*t.duration:this.defaultDuration)}},hideNotification:function(t){enyo.job.stop("hideNotification-Badged"),t||this.doClose({notification:this.upNotif().notification,uid:this.upNotif().uid}),enyo.remove(this.upNotif(),this.pending),this.pending.length>0?this.displayNotification():this.$.bubble.hide()},notifTap:function(){this.doTap({notification:this.upNotif().notification,uid:this.upNotif().uid}),this.hideNotification()},upNotif:function(){return this.fifo?this.pending[0]:this.pending[this.pending.length-1]},removeNotification:function(t){for(var e=0,i=this.pending.length;i>e;e++)this.upNotif().uid==t?this.hideNotification(!0):(enyo.remove(this.getNotificationFromUid(t),this.pending),this.$.badge.setContent(this.pending.length),this.$.badge.setShowing(this.pending.length>1))},getNotificationFromUid:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e]}});

// source/NotificationTheme/Bezel.js
enyo.kind({name:"notification.Bezel",kind:"enyo.Control",published:{defaultDuration:2e3},events:{onTap:"",onClose:""},pending:[],isShow:!0,components:[{kind:"enyo.Control",classes:"notification-bezel-main",name:"bubble",showing:!1,components:[{kind:"enyo.Control",name:"icon",classes:"notification-bezel-icon"},{kind:"enyo.Control",name:"title",classes:"notification-bezel-title"},{kind:"enyo.Control",name:"message",classes:"notification-bezel-message"}],ontap:"notifTap"},{kind:"enyo.Animator",duration:1e3,endValue:1,onStep:"fadeAnimation",onEnd:"animationEnd",name:"animator"}],create:function(){this.inherited(arguments),this.render(),this.$.bubble.applyStyle("opacity",0)},newNotification:function(t,e){this.pending.push({uid:e,notification:t}),1==this.pending.length&&(this.$.bubble.show(),this.displayNotification())},displayNotification:function(){if(0==this.pending.length)return this.$.bubble.hide(),void 0;var t=this.pending[0].notification;this.$.title.setContent(t.title),this.$.message.setContent(t.message),this.$.icon.applyStyle("background-image","url('"+t.icon+"')"),this.$.animator.stop(),this.isShow=!0,this.$.animator.play()},hideNotification:function(t){enyo.job.stop("hideNotification-Bezel"),t||this.doClose({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.$.animator.stop(),this.isShow=!1,this.$.animator.play()},notifTap:function(){this.doTap({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.hideNotification()},fadeAnimation:function(t){var e;e=this.isShow?t.value:1-t.value,this.$.bubble.applyStyle("opacity",e.toFixed(8))},animationEnd:function(){this.isShow?this.pending[0].notification.stay||enyo.job("hideNotification-Bezel",enyo.bind(this,"hideNotification"),this.pending[0].notification.duration?1e3*this.pending[0].notification.duration:this.defaultDuration):(this.pending.shift(),enyo.asyncMethod(this,"displayNotification"))},removeNotification:function(t){t==this.pending[0].uid&&this.hideNotification(!0),enyo.remove(this.getNotificationFromUid(t),this.pending)},getNotificationFromUid:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e]}});

// source/NotificationTheme/MessageBar.js
enyo.kind({name:"notification.MessageBar",kind:"enyo.Control",published:{defaultDuration:2e3},events:{onTap:"",onClose:""},pending:[],hasDisplayedNotif:!1,inShow:null,inHide:null,components:[{kind:"enyo.Animator",duration:1e3,endValue:1,onStep:"msgStep",onEnd:"animationEnd",name:"showNotif"},{kind:"enyo.Animator",duration:1e3,startValue:1,endValue:0,onStep:"msgStep",onEnd:"animationEnd",name:"hideNotif"},{kind:"enyo.Animator",duration:1e3,endValue:30,onStep:"barStep",onEnd:"animationEnd",name:"barAnimator"},{kind:"enyo.Control",name:"bar",classes:"notification-messagebar-bar"}],create:function(){this.inherited(arguments),this.render()},newNotification:function(t,e){this.pending.push({uid:e,notification:t,node:null}),1==this.pending.length&&this.$.barAnimator.play()},displayNotification:function(){if(0!=this.pending.length){var t=this.inShow.notification;this.inShow.node=this.$.bar.createComponent({kind:"enyo.Control",classes:"notification-messagebar-notification",components:[{kind:"enyo.Control",classes:"notification-messagebar-icon",style:"background-image: url('"+t.icon+"')"},{kind:"enyo.Control",classes:"notification-messagebar-title",content:t.title},{kind:"enyo.Control",classes:"notification-messagebar-message",content:t.message}],ontap:"notifTap"},{owner:this}),this.inShow.node.applyStyle("top","30px"),this.inShow.node.applyStyle("opacity","0"),this.inShow.node.render(),this.hasDisplayedNotif=!0,this.$.showNotif.play()}},hideNotification:function(t){enyo.job.stop("hideNotification-MessageBar"),t||this.doClose({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.pending.length>1?(this.inShow=this.pending[1],this.displayNotification()):this.hasDisplayedNotif=!1,this.inHide=this.pending[0],this.$.hideNotif.play()},notifTap:function(){this.doTap({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.hideNotification()},msgStep:function(t){var e,i;i="showNotif"==t.name?this.inShow.node:this.inHide.node,e=t.value,i.applyStyle("opacity",e.toFixed(8)),i.applyStyle("top",(30-30*e).toFixed(8)+"px")},barStep:function(t){var e;e=0==this.pending.length?-t.value:-30+t.value,this.$.bar.applyStyle("bottom",e.toFixed(8)+"px")},animationEnd:function(t){"hideNotif"==t.name?(this.inHide.node.destroy(),this.pending.shift(),this.inHide=null,0==this.pending.length?this.$.barAnimator.play():this.hasDisplayedNotif||(this.inShow=this.pending[0],this.displayNotification())):"barAnimator"==t.name&&this.pending.length?(this.inShow=this.pending[0],this.displayNotification()):"showNotif"==t.name&&(this.inShow.notification.stay||enyo.job("hideNotification-MessageBar",enyo.bind(this,"hideNotification"),this.inShow.notification.duration?1e3*this.inShow.notification.duration:this.defaultDuration))},removeNotification:function(t){t==this.pending[0].uid&&this.hideNotification(!0),enyo.remove(this.getNotificationFromUid(t),this.pending)},getNotificationFromUid:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e]}});

// source/NotificationTheme/Pop.js
enyo.kind({name:"notification.Pop",kind:"enyo.Control",published:{defaultDuration:2e3},events:{onTap:"",onClose:""},pending:[],components:[{kind:"enyo.Control",ontap:"notifTap",showing:!1,name:"bubble",classes:"notification-pop-bubble",components:[{kind:"enyo.Control",name:"master",components:[{kind:"enyo.Control",name:"title",classes:"notification-pop-title"},{kind:"enyo.Control",name:"message",classes:"notification-pop-message"},{kind:"enyo.Control",name:"icon",classes:"notification-pop-icon"}]}]},{kind:"enyo.Animator",easingFunction:enyo.easing.cubicIn,name:"popUp1",startValue:0,endValue:1.1,duration:900,onStep:"zoomEffect",onEnd:"endEffect"},{kind:"enyo.Animator",name:"popUp2",startValue:1.1,endValue:1,duration:300,onStep:"zoomEffect",onEnd:"endEffect"},{kind:"enyo.Animator",easingFunction:enyo.easing.cubicIn,name:"zoom",startValue:0,endValue:1,duration:750,onStep:"zoomOutEffect",onEnd:"endEffect"}],create:function(){this.inherited(arguments),this.render(),this.$.bubble.applyStyle("opacity",0)},newNotification:function(t,e){this.pending.push({uid:e,notification:t}),1==this.pending.length&&(this.$.bubble.show(),this.displayNotification())},displayNotification:function(){if(0!=this.pending.length){var t=this.pending[0].notification;this.$.title.setContent(t.title),this.$.message.setContent(t.message),this.$.icon.applyStyle("background-image","url('"+t.icon+"')"),this.$.popUp1.play()}},hideNotification:function(t){enyo.job.stop("hideNotification-Pop"),t||this.doClose({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.$.zoom.play()},zoomEffect:function(t){var e=t.value.toFixed(8);this.$.bubble.applyStyle("opacity",e),enyo.Layout.transform?enyo.Layout.transform(this.$.bubble,{scale:e}):enyo.dom.transformValue&&enyo.dom.transformValue(this.$.bubble,"scale",e)},zoomOutEffect:function(t){var e=t.value.toFixed(8);this.$.bubble.applyStyle("opacity",1-e),enyo.Layout.transform?enyo.Layout.transform(this.$.bubble,{scale:1+5*e}):enyo.dom.transformValue&&enyo.dom.transformValue(this.$.bubble,"scale",1+5*e);var i=1-2*e;0>i&&(i=0),this.$.master.applyStyle("opacity",i.toFixed(8))},notifTap:function(){this.doTap({notification:this.pending[0].notification,uid:this.pending[0].uid}),this.hideNotification()},endEffect:function(t){if("popUp1"==t.name)this.$.popUp2.play();else if("popUp2"==t.name){var e=this.pending[0].notification;e.stay||enyo.job("hideNotification-Pop",enyo.bind(this,"hideNotification"),e.duration?1e3*e.duration:this.defaultDuration)}else this.pending.shift(),this.$.master.applyStyle("opacity",1),0==this.pending.length?this.$.bubble.hide():this.displayNotification()},removeNotification:function(t){t==this.pending[0].uid&&this.hideNotification(!0),enyo.remove(this.getNotificationFromUid(t),this.pending)},getNotificationFromUid:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e]}});

// source/NotificationTheme/PageCurl.js
enyo.kind({name:"notification.PageCurl",kind:"enyo.Control",published:{defaultDuration:2e3},events:{onTap:"",onClose:""},pending:[],inShow:null,cornerVisible:!1,barVisible:!1,components:[{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:1,onStep:"stepCornerShow",onEnd:"animationEnd",name:"showCornerAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:1,onStep:"stepCornerHide",onEnd:"animationEnd",name:"hideCornerAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:1,onStep:"stepCornerAll",onEnd:"animationEnd",name:"allCornerAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:100,onStep:"stepBarShow",onEnd:"animationEnd",name:"showBarAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:80,onStep:"stepBarHide",onEnd:"animationEnd",name:"hideBarAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:0,endValue:1,onStep:"stepLiveShow",onEnd:"animationEnd",name:"showLiveAnimation"},{kind:"enyo.Animator",duration:1e3,startValue:1,endValue:0,onStep:"stepLiveHide",onEnd:"animationEnd",name:"hideLiveAnimation"},{kind:"enyo.Control",name:"curl",classes:"notification-pagecurl-curl",ontap:"curlTap",components:[{kind:"enyo.Control",name:"count",content:"0",classes:"notification-pagecurl-curl-count"}]},{kind:"enyo.Control",name:"bar",classes:"notification-pagecurl-messagebar",components:[{kind:"onyx.IconButton",classes:"notification-pagecurl-messagebar-close",ontap:"barCloseTap"},{kind:"enyo.Scroller",name:"scroller",classes:"notification-pagecurl-messagebar-scroller",vertical:"hidden",horizontal:"auto"}]},{kind:"enyo.Control",showing:!1,name:"message",classes:"notification-pagecurl-message",ontap:"liveClose",components:[{kind:"enyo.Image",name:"icon"},{kind:"enyo.Control",name:"title",content:"My title",classes:"notification-pagecurl-message-title"},{kind:"enyo.Control",name:"text",content:"My text",classes:"notification-pagecurl-message-text"}]}],create:function(){this.inherited(arguments),this.render()},newNotification:function(t,e){this.pending.push({uid:e,notification:t,node:null}),t.stay?this.newStayNotif(this.pending[this.pending.length-1]):this.newLiveNotif()},getStayCount:function(){for(var t=0,e=0;this.pending.length>e;e++)this.pending[e].notification.stay&&t++;return t},showCorner:function(){var t=this.getStayCount();this.$.count.setContent(t),t>0&&!this.cornerVisible&&!this.barVisible&&this.$.showCornerAnimation.play()},newStayNotif:function(t){t.node=this.$.scroller.createComponent({kind:"enyo.Control",classes:"notification-pagecurl-messagebar-message",ontap:"stayClose",refNotification:t,components:[{kind:"enyo.Image",attributes:{src:t.notification.icon}},{kind:"enyo.Control",content:t.notification.title,classes:"notification-pagecurl-messagebar-message-title"},{kind:"enyo.Control",content:t.notification.message,classes:"notification-pagecurl-messagebar-message-text"}]},{owner:this}),this.$.scroller.render(),this.showCorner()},newLiveNotif:function(){if(null==this.inShow){for(var t=0;this.pending.length>t;t++)null!=this.inShow||this.pending[t].notification.stay||(this.inShow=this.pending[t]);null!=this.inShow&&(this.$.title.setContent(this.inShow.notification.title),this.$.text.setContent(this.inShow.notification.message),this.$.icon.setAttribute("src",this.inShow.notification.icon),this.$.message.applyStyle("opacity",0),this.$.message.applyStyle("display","block"),this.$.message.applyStyle("top",this.barVisible?"80px":"0px"),this.$.showLiveAnimation.play())}},hideNotification:function(t){enyo.job.stop("hideNotification-PageCurl"),t||this.doClose({notification:this.inShow.notification,uid:this.inShow.uid}),this.$.showLiveAnimation.stop(),this.$.hideLiveAnimation.play()},stepCornerShow:function(t){var e={x:-150,y:-120},i={x:115,y:120};this.$.curl.applyStyle("right",e.x+i.x*t.value+"px"),this.$.curl.applyStyle("top",e.y+i.y*t.value+"px")},stepCornerHide:function(t){var e={x:-35,y:0},i={x:-115,y:-120};this.$.curl.applyStyle("right",e.x+i.x*t.value+"px"),this.$.curl.applyStyle("top",e.y+i.y*t.value+"px")},stepCornerAll:function(t){var e=-35,i=35;this.$.curl.applyStyle("right",e+i*t.value+"px")},stepBarShow:function(t){this.$.curl.applyStyle("right",t.value+"%"),this.$.bar.applyStyle("left",100-t.value+"%")},stepBarHide:function(t){this.$.bar.applyStyle("top",-t.value+"px")},stepLiveShow:function(t){this.$.message.applyStyle("opacity",t.value.toFixed(8))},stepLiveHide:function(t){this.$.message.applyStyle("opacity",t.value.toFixed(8))},animationEnd:function(t){t==this.$.allCornerAnimation?this.$.showBarAnimation.play():t==this.$.showBarAnimation?(this.cornerVisible=!1,this.barVisible=!0):t==this.$.hideBarAnimation?(this.barVisible=!1,this.$.bar.applyStyle("left","100%"),this.$.bar.applyStyle("top","0px"),this.showCorner()):t==this.$.showLiveAnimation?enyo.job("hideNotification-PageCurl",enyo.bind(this,"hideNotification"),this.inShow.notification.duration?1e3*this.inShow.notification.duration:this.defaultDuration):t==this.$.hideLiveAnimation?(enyo.remove(this.inShow,this.pending),this.inShow=null,this.$.message.applyStyle("display","none"),this.newLiveNotif()):t==this.$.showCornerAnimation?this.cornerVisible=!0:t==this.$.hideCornerAnimation&&(this.cornerVisible=!1,this.barVisible=!1)},curlTap:function(){this.$.showCornerAnimation.isAnimating()&&(this.$.showCornerAnimation.stop(),this.$.curl.applyStyle("top","0px")),this.$.showBarAnimation.play()},liveClose:function(){return this.doTap({notification:this.inShow.notification,uid:this.inShow.uid}),this.hideNotification(!0,this.inShow),!0},stayClose:function(t){var e=t.refNotification;return this.doTap({notification:e.notification,uid:e.uid}),enyo.remove(e,this.pending),t.destroy(),0==this.getStayCount()&&this.barCloseTap(),!0},barCloseTap:function(){this.$.allCornerAnimation.stop(),this.$.hideBarAnimation.play()},removeNotification:function(t){var e=this.getNotificationFromUid(t);e.notification.stay?e.node.destroy():e==this.inShow&&this.hideNotification(!0),enyo.remove(e,this.pending),this.showCorner(),this.barVisible?0==this.getStayCount()&&this.barCloseTap():0==this.getStayCount()&&this.cornerVisible&&this.$.hideCornerAnimation.play()},getNotificationFromUid:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e]}});

// source/Notification.js
enyo.kind({name:"enyo.Notification",kind:"enyo.Control",published:{defaultTheme:"notification.Bezel"},events:{onNotify:"",onTap:""},pending:[],themes:[],uid:0,sendNotification:function(t,e){var i=this.getTheme(t.theme||this.defaultTheme);return this.pending.push({theme:i,uid:this.uid,notification:t,callback:"function"!=typeof e?enyo.nop:e}),i.newNotification(t,this.uid),this.doNotify(t),this.uid++,this.uid-1},getTheme:function(t){for(var e=0,i=this.themes.length;i>e;e++)if(this.themes[e].name==t)return this.themes[e].component;var n=this.createComponent({kind:t,onTap:"notifTap",onClose:"notifClose"},{owner:this});return this.themes.push({name:t,component:n}),this.themes[this.themes.length-1].component},notifTap:function(t,e){for(var i=0,n=this.pending.length;n>i;i++)if(this.pending[i].uid==e.uid)return this.pending[i].callback(this.pending[i].notification),this.doTap(this.pending[i].notification),enyo.remove(this.pending[i],this.pending),!0},notifClose:function(t,e){for(var i=0,n=this.pending.length;n>i;i++)if(this.pending[i].uid==e.uid)return enyo.remove(this.pending[i],this.pending),void 0},removeAllNotifications:function(t){for(var e=this.pending.length-1;e>=0;e--)(!t||t&&this.pending[e].notification.stay)&&this.removeNotification(this.pending[e].uid)},removeNotification:function(t){for(var e=0,i=this.pending.length;i>e;e++)if(this.pending[e].uid==t)return this.pending[e].theme.removeNotification(this.pending[e].uid),enyo.remove(this.pending[e],this.pending),void 0},getPendingNotification:function(){for(var t={},e=0,i=this.pending.length;i>e;e)t[this.pending[e].uid]=this.pending[e].notification;return t}});

// source/jquery.js
(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=function(i){if(i=i||t,!i.document)throw Error("jQuery requires a window with a document");return e(i)}:e(t)})(this,function(t){function e(t){var e=t.length,i=F.type(t);return F.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,i){if(F.isFunction(e))return F.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return F.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(q.test(e))return F.filter(e,t,i);e=F.filter(e,t)}return F.grep(t,function(t){return I.call(e,t)>=0!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=Q[t]={};return F.each(t.match(Z)||[],function(t,i){e[i]=!0}),e}function s(){B.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),F.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=F.expando+Math.random()}function r(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(oe,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ne.test(i)?JSON.parse(i):i}catch(o){}ie.set(t,e,i)}else i=void 0;return i}function h(){return!0}function l(){return!1}function c(){try{return B.activeElement}catch(t){}}function d(t,e){return F.nodeName(t,"table")&&F.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function u(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=ye.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=t.length,n=0;i>n;n++)ee.set(t[n],"globalEval",!e||ee.get(e[n],"globalEval"))}function f(t,e){var i,n,o,s,a,r,h,l;if(1===e.nodeType){if(ee.hasData(t)&&(s=ee.access(t),a=ee.set(e,s),l=s.events)){delete a.handle,a.events={};for(o in l)for(i=0,n=l[o].length;n>i;i++)F.event.add(e,o,l[o][i])}ie.hasData(t)&&(r=ie.access(t),h=F.extend({},r),ie.set(e,h))}}function m(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&F.nodeName(t,e)?F.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&se.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function v(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(Z)||[];if(F.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function w(t,e,i,n){function o(r){var h;return s[r]=!0,F.each(t[r]||[],function(t,r){var l=r(e,i,n);return"string"!=typeof l||a||s[l]?a?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),h}var s={},a=t===Fe;return o(e.dataTypes[0])||!s["*"]&&o("*")}function C(t,e){var i,n,o=F.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&F.extend(!0,t,n),t}function b(t,e,i){for(var n,o,s,a,r=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in r)if(r[o]&&r[o].test(n)){h.unshift(o);break}if(h[0]in i)s=h[0];else{for(o in i){if(!h[0]||t.converters[o+" "+h[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==h[0]&&h.unshift(s),i[s]):void 0}function x(t,e,i,n){var o,s,a,r,h,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=c.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(a=l[h+" "+s]||l["* "+s],!a)for(o in l)if(r=o.split(" "),r[1]===s&&(a=l[h+" "+r[0]]||l["* "+r[0]])){a===!0?a=l[o]:l[o]!==!0&&(s=r[0],c.unshift(r[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}function S(t,e,i,n){var o;if(F.isArray(e))F.each(e,function(e,o){i||je.test(t)?n(t,o):S(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==F.type(e))n(t,e);else for(o in e)S(t+"["+o+"]",e[o],i,n)}var P=[],A=P.slice,k=P.concat,T=P.push,I=P.indexOf,R={},N=R.toString,D=R.hasOwnProperty,M="".trim,$={},B=t.document,H=t.jQuery,L=t.$,E="2.1.0-beta1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event/alias,-wrap",F=function(t,e){return new F.fn.init(t,e)},O=/^-ms-/,z=/-([\da-z])/gi,_=function(t,e){return e.toUpperCase()};F.fn=F.prototype={jquery:E,constructor:F,selector:"",length:0,toArray:function(){return A.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=F.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return F.each(this,t,e)},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(F.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:P.sort,splice:P.splice},F.extend=F.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},r=1,h=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},r=2),"object"==typeof a||F.isFunction(a)||(a={}),h===r&&(a=this,--r);h>r;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],n=t[e],a!==n&&(l&&n&&(F.isPlainObject(n)||(o=F.isArray(n)))?(o?(o=!1,s=i&&F.isArray(i)?i:[]):s=i&&F.isPlainObject(i)?i:{},a[e]=F.extend(l,s,n)):void 0!==n&&(a[e]=n));return a},F.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,noConflict:function(e){return t.$===F&&(t.$=L),e&&t.jQuery===F&&(t.jQuery=H),F},isFunction:function(t){return"function"===F.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return t-parseFloat(t)>=0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?R[N.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==F.type(t)||t.nodeType||F.isWindow(t))return!1;try{if(t.constructor&&!D.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},noop:function(){},globalEval:function(t){var e,i=eval;t=F.trim(t),t&&(1===t.indexOf("use strict")?(e=B.createElement("script"),e.text=t,B.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(O,"ms-").replace(z,_)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,i,n){var o,s=0,a=t.length,r=e(t);if(n){if(r)for(;a>s&&(o=i.apply(t[s],n),o!==!1);s++);else for(s in t)if(o=i.apply(t[s],n),o===!1)break}else if(r)for(;a>s&&(o=i.call(t[s],s,t[s]),o!==!1);s++);else for(s in t)if(o=i.call(t[s],s,t[s]),o===!1)break;return t},trim:function(t){return null==t?"":M.call(t)},makeArray:function(t,i){var n=i||[];return null!=t&&(e(Object(t))?F.merge(n,"string"==typeof t?[t]:t):T.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:I.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){var n,o=[],s=0,a=t.length;for(i=!!i;a>s;s++)n=!!e(t[s],s),i!==n&&o.push(t[s]);return o},map:function(t,i,n){var o,s=0,a=t.length,r=e(t),h=[];if(r)for(;a>s;s++)o=i(t[s],s,n),null!=o&&(h[h.length]=o);else for(s in t)o=i(t[s],s,n),null!=o&&(h[h.length]=o);return k.apply([],h)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),F.isFunction(t)?(n=A.call(arguments,2),o=function(){return t.apply(e||this,n.concat(A.call(arguments)))},o.guid=t.guid=t.guid||F.guid++,o):void 0},now:Date.now,support:$}),F.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){R["[object "+e+"]"]=e.toLowerCase()});var j=function(t){function e(t,e,i,n){var o,s,a,r,h,l,d,g,f,m;if((e?e.ownerDocument||e:_)!==$&&M(e),e=e||$,i=i||[],!t||"string"!=typeof t)return i;if(1!==(r=e.nodeType)&&9!==r)return[];if(H&&!n){if(o=we.exec(t))if(a=o[1]){if(9===r){if(s=e.getElementById(a),!s||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(a))&&O(e,s)&&s.id===a)return i.push(s),i}else{if(o[2])return te.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&S.getElementsByClassName&&e.getElementsByClassName)return te.apply(i,e.getElementsByClassName(a)),i}if(S.qsa&&(!L||!L.test(t))){if(g=d=z,f=e,m=9===r&&t,1===r&&"object"!==e.nodeName.toLowerCase()){for(l=u(t),(d=e.getAttribute("id"))?g=d.replace(be,"\\$&"):e.setAttribute("id",g),g="[id='"+g+"'] ",h=l.length;h--;)l[h]=g+p(l[h]);f=Ce.test(t)&&c(e.parentNode)||e,m=l.join(",")}if(m)try{return te.apply(i,f.querySelectorAll(m)),i}catch(y){}finally{d||e.removeAttribute("id")}}}return b(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>A.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[z]=!0,t}function o(t){var e=$.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=t.length;n--;)A.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function r(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var o,s=t([],i.length,e),a=s.length;a--;)i[o=s[a]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&typeof t.getElementsByTagName!==G&&t}function d(){}function u(t,i){var n,o,s,a,r,h,l,c=q[t+" "];if(c)return i?0:c.slice(0);for(r=t,h=[],l=A.preFilter;r;){(!n||(o=ce.exec(r)))&&(o&&(r=r.slice(o[0].length)||r),h.push(s=[])),n=!1,(o=de.exec(r))&&(n=o.shift(),s.push({value:n,type:o[0].replace(le," ")}),r=r.slice(n.length));for(a in A.filter)!(o=fe[a].exec(r))||l[a]&&!(o=l[a](o))||(n=o.shift(),s.push({value:n,type:a,matches:o}),r=r.slice(n.length));if(!n)break}return i?r.length:r?e.error(t):q(t,h).slice(0)}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function g(t,e,i){var n=e.dir,o=i&&"parentNode"===n,s=V++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s)}:function(e,i,a){var r,h,l,c=j+" "+s;if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(l=e[z]||(e[z]={}),(h=l[n])&&h[0]===c){if((r=h[1])===!0||r===P)return r===!0}else if(h=l[n]=[c],h[1]=t(e,i,a)||P,h[1]===!0)return!0}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,e,i,n,o){for(var s,a=[],r=0,h=t.length,l=null!=e;h>r;r++)(s=t[r])&&(!i||i(s,n,o))&&(a.push(s),l&&e.push(r));return a}function y(t,e,i,o,s,a){return o&&!o[z]&&(o=y(o)),s&&!s[z]&&(s=y(s,a)),n(function(n,a,r,h){var l,c,d,u=[],p=[],g=a.length,f=n||C(e||"*",r.nodeType?[r]:r,[]),y=!t||!n&&e?f:m(f,u,t,r,h),v=i?s||(n?t:g||o)?[]:a:y;if(i&&i(y,v,r,h),o)for(l=m(v,p),o(l,[],r,h),c=l.length;c--;)(d=l[c])&&(v[p[c]]=!(y[p[c]]=d));if(n){if(s||t){if(s){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(y[c]=d);s(null,v=[],l,h)}for(c=v.length;c--;)(d=v[c])&&(l=s?ie.call(n,d):u[c])>-1&&(n[l]=!(a[l]=d))}}else v=m(v===a?v.splice(g,v.length):v),s?s(null,a,v,h):te.apply(a,v)})}function v(t){for(var e,i,n,o=t.length,s=A.relative[t[0].type],a=s||A.relative[" "],r=s?1:0,h=g(function(t){return t===e},a,!0),l=g(function(t){return ie.call(e,t)>-1},a,!0),c=[function(t,i,n){return!s&&(n||i!==R)||((e=i).nodeType?h(t,i,n):l(t,i,n))}];o>r;r++)if(i=A.relative[t[r].type])c=[g(f(c),i)];else{if(i=A.filter[t[r].type].apply(null,t[r].matches),i[z]){for(n=++r;o>n&&!A.relative[t[n].type];n++);return y(r>1&&f(c),r>1&&p(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(le,"$1"),i,n>r&&v(t.slice(r,n)),o>n&&v(t=t.slice(n)),o>n&&p(t))}c.push(i)}return f(c)}function w(t,i){var o=0,s=i.length>0,a=t.length>0,r=function(n,r,h,l,c){var d,u,p,g=0,f="0",y=n&&[],v=[],w=R,C=n||a&&A.find.TAG("*",c),b=j+=null==w?1:Math.random()||.1,x=C.length;for(c&&(R=r!==$&&r,P=o);f!==x&&null!=(d=C[f]);f++){if(a&&d){for(u=0;p=t[u++];)if(p(d,r,h)){l.push(d);break}c&&(j=b,P=++o)}s&&((d=!p&&d)&&g--,n&&y.push(d))}if(g+=f,s&&f!==g){for(u=0;p=i[u++];)p(y,v,r,h);if(n){if(g>0)for(;f--;)y[f]||v[f]||(v[f]=Q.call(l));v=m(v)}te.apply(l,v),c&&!n&&v.length>0&&g+i.length>1&&e.uniqueSort(l)}return c&&(j=b,R=w),y};return s?n(r):r}function C(t,i,n){for(var o=0,s=i.length;s>o;o++)e(t,i[o],n);return n}function b(t,e,i,n){var o,s,a,r,h,l=u(t);if(!n&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&S.getById&&9===e.nodeType&&H&&A.relative[s[1].type]){if(e=(A.find.ID(a.matches[0].replace(xe,Se),e)||[])[0],!e)return i;t=t.slice(s.shift().value.length)}for(o=fe.needsContext.test(t)?0:s.length;o--&&(a=s[o],!A.relative[r=a.type]);)if((h=A.find[r])&&(n=h(a.matches[0].replace(xe,Se),Ce.test(s[0].type)&&c(e.parentNode)||e))){if(s.splice(o,1),t=n.length&&p(s),!t)return te.apply(i,n),i;break}}return I(t,l)(n,e,!H,i,Ce.test(t)&&c(e.parentNode)||e),i}var x,S,P,A,k,T,I,R,N,D,M,$,B,H,L,E,F,O,z="sizzle"+-new Date,_=t.document,j=0,V=0,W=i(),q=i(),K=i(),U=function(t,e){return t===e&&(D=!0),0},G="undefined",X=1<<31,Y={}.hasOwnProperty,Z=[],Q=Z.pop,J=Z.push,te=Z.push,ee=Z.slice,ie=Z.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),re="\\["+oe+"*("+se+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+oe+"*\\]",he=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",le=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ce=RegExp("^"+oe+"*,"+oe+"*"),de=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),ue=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),pe=RegExp(he),ge=RegExp("^"+ae+"$"),fe={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+re),PSEUDO:RegExp("^"+he),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,we=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/[+~]/,be=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),Se=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{te.apply(Z=ee.call(_.childNodes),_.childNodes),Z[_.childNodes.length].nodeType}catch(Pe){te={apply:Z.length?function(t,e){J.apply(t,ee.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}S=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=e.setDocument=function(t){var e=t?t.ownerDocument||t:_,i=e.defaultView;return e!==$&&9===e.nodeType&&e.documentElement?($=e,B=e.documentElement,H=!T(e),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){M()}),S.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),S.getById=o(function(t){return B.appendChild(t).id=z,!e.getElementsByName||!e.getElementsByName(z).length}),S.getById?(A.find.ID=function(t,e){if(typeof e.getElementById!==G&&H){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},A.filter.ID=function(t){var e=t.replace(xe,Se);return function(t){return t.getAttribute("id")===e}}):(delete A.find.ID,A.filter.ID=function(t){var e=t.replace(xe,Se);return function(t){var i=typeof t.getAttributeNode!==G&&t.getAttributeNode("id");return i&&i.value===e}}),A.find.TAG=S.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==G?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},A.find.CLASS=S.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==G&&H?e.getElementsByClassName(t):void 0},E=[],L=[],(S.qsa=ve.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||L.push("\\["+oe+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),o(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&L.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(S.matchesSelector=ve.test(F=B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&o(function(t){S.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),E.push("!=",he)}),L=L.length&&RegExp(L.join("|")),E=E.length&&RegExp(E.join("|")),O=ve.test(B.contains)||B.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=B.compareDocumentPosition?function(t,i){if(t===i)return D=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!S.sortDetached&&i.compareDocumentPosition(t)===n?t===e||O(_,t)?-1:i===e||O(_,i)?1:N?ie.call(N,t)-ie.call(N,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,o=0,s=t.parentNode,r=i.parentNode,h=[t],l=[i];if(t===i)return D=!0,0;if(!s||!r)return t===e?-1:i===e?1:s?-1:r?1:N?ie.call(N,t)-ie.call(N,i):0;if(s===r)return a(t,i);for(n=t;n=n.parentNode;)h.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;h[o]===l[o];)o++;return o?a(h[o],l[o]):h[o]===_?-1:l[o]===_?1:0},e):$},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==$&&M(t),i=i.replace(ue,"='$1']"),!(!S.matchesSelector||!H||E&&E.test(i)||L&&L.test(i)))try{var n=F.call(t,i);if(n||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,$,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==$&&M(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==$&&M(t);var i=A.attrHandle[e.toLowerCase()],n=i&&Y.call(A.attrHandle,e.toLowerCase())?i(t,e,!H):void 0;return void 0!==n?n:S.attributes||!H?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(D=!S.detectDuplicates,N=!S.sortStable&&t.slice(0),t.sort(U),D){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},A=e.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,Se),t[3]=(t[4]||t[5]||"").replace(xe,Se),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:i&&pe.test(i)&&(e=u(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,Se).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==G&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var s=e.attr(o,t);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,h){var l,c,d,u,p,g,f=s!==a?"nextSibling":"previousSibling",m=e.parentNode,y=r&&e.nodeName.toLowerCase(),v=!h&&!r;if(m){if(s){for(;f;){for(d=e;d=d[f];)if(r?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;g=f="only"===t&&!g&&"nextSibling"}return!0}if(g=[a?m.firstChild:m.lastChild],a&&v){for(c=m[z]||(m[z]={}),l=c[t]||[],p=l[0]===j&&l[1],u=l[0]===j&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[f]||(u=p=0)||g.pop();)if(1===d.nodeType&&++u&&d===e){c[t]=[j,p,u];break}}else if(v&&(l=(e[z]||(e[z]={}))[t])&&l[0]===j)u=l[1];else for(;(d=++p&&d&&d[f]||(u=p=0)||g.pop())&&((r?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++u||(v&&((d[z]||(d[z]={}))[t]=[j,u]),d!==e)););return u-=o,u===n||0===u%n&&u/n>=0}}},PSEUDO:function(t,i){var o,s=A.pseudos[t]||A.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[z]?s(i):s.length>1?(o=[t,t,"",i],A.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=s(t,i),a=o.length;a--;)n=ie.call(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return s(t,0,o)}):s}},pseudos:{not:n(function(t){var e=[],i=[],o=I(t.replace(le,"$1"));return o[z]?n(function(t,e,i,n){for(var s,a=o(t,null,n,[]),r=t.length;r--;)(s=a[r])&&(t[r]=!(e[r]=s))}):function(t,n,s){return e[0]=t,o(e,null,s,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ge.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,Se).toLowerCase(),function(e){var i;do if(i=H?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===B},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(6>t.nodeType)return!1;return!0},parent:function(t){return!A.pseudos.empty(t)},header:function(t){return ye.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;e>++n;)t.push(n);return t})}},A.pseudos.nth=A.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[x]=r(x);for(x in{submit:!0,reset:!0})A.pseudos[x]=h(x);return d.prototype=A.filters=A.pseudos,A.setFilters=new d,I=e.compile=function(t,e){var i,n=[],o=[],s=K[t+" "];if(!s){for(e||(e=u(t)),i=e.length;i--;)s=v(e[i]),s[z]?n.push(s):o.push(s);s=K(t,w(o,n))}return s},S.sortStable=z.split("").sort(U).join("")===z,S.detectDuplicates=!!D,M(),S.sortDetached=o(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(ne,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);F.find=j,F.expr=j.selectors,F.expr[":"]=F.expr.pseudos,F.unique=j.uniqueSort,F.text=j.getText,F.isXMLDoc=j.isXML,F.contains=j.contains;var V=F.expr.match.needsContext,W=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/^.[^:#\[\.,]*$/;F.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?F.find.matchesSelector(n,t)?[n]:[]:F.find.matches(t,F.grep(e,function(t){return 1===t.nodeType}))},F.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(F(t).filter(function(){for(e=0;o>e;e++)if(F.contains(n[e],this))return!0}));for(e=0;o>e;e++)F.find(t,n[e],i);return i=this.pushStack(o>1?F.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&V.test(t)?F(t):t||[],!1).length}});var K,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,G=F.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:U.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||K).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof F?e[0]:e,F.merge(this,F.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:B,!0)),W.test(i[1])&&F.isPlainObject(e))for(i in e)F.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=B.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=B,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):F.isFunction(t)?K.ready!==void 0?K.ready(t):t(F):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),F.makeArray(t,this))};G.prototype=F.fn,K=F(B);var X=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};F.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&F(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),F.fn.extend({has:function(t){var e=F(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(F.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,s=[],a=V.test(t)||"string"!=typeof t?F(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(11>i.nodeType&&(a?a.index(i)>-1:1===i.nodeType&&F.find.matchesSelector(i,t))){i=s.push(i);break}return this.pushStack(s.length>1?F.unique(s):s)},index:function(t){return t?"string"==typeof t?I.call(F(t),this[0]):I.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?F(t,e):F.makeArray(t&&t.nodeType?[t]:t),n=F.merge(this.get(),i);return this.pushStack(F.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),F.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return F.dir(t,"parentNode")},parentsUntil:function(t,e,i){return F.dir(t,"parentNode",i)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return F.dir(t,"nextSibling")},prevAll:function(t){return F.dir(t,"previousSibling")},nextUntil:function(t,e,i){return F.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return F.dir(t,"previousSibling",i)},siblings:function(t){return F.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return F.sibling(t.firstChild)},contents:function(t){return t.contentDocument||F.merge([],t.childNodes)}},function(t,e){F.fn[t]=function(i,n){var o=F.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=F.filter(n,o)),this.length>1&&(Y[t]||F.unique(o),X.test(t)&&o.reverse()),this.pushStack(o)}});var Z=/\S+/g,Q={};F.Callbacks=function(t){t="string"==typeof t?Q[t]||o(t):F.extend({},t);var e,i,n,s,a,r,h=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,i=!0,r=s||0,s=0,a=h.length,n=!0;h&&a>r;r++)if(h[r].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,h&&(l?l.length&&c(l.shift()):e?h=[]:d.disable())},d={add:function(){if(h){var i=h.length;(function o(e){F.each(e,function(e,i){var n=F.type(i);"function"===n?t.unique&&d.has(i)||h.push(i):i&&i.length&&"string"!==n&&o(i)})})(arguments),n?a=h.length:e&&(s=i,c(e))}return this},remove:function(){return h&&F.each(arguments,function(t,e){for(var i;(i=F.inArray(e,h,i))>-1;)h.splice(i,1),n&&(a>=i&&a--,r>=i&&r--)}),this},has:function(t){return t?F.inArray(t,h)>-1:!(!h||!h.length)},empty:function(){return h=[],a=0,this},disable:function(){return h=l=e=void 0,this},disabled:function(){return!h},lock:function(){return l=void 0,e||d.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!h||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],n?l.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},F.extend({Deferred:function(t){var e=[["resolve","done",F.Callbacks("once memory"),"resolved"],["reject","fail",F.Callbacks("once memory"),"rejected"],["notify","progress",F.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return F.Deferred(function(i){F.each(e,function(e,s){var a=F.isFunction(t[e])&&t[e];o[s[1]](function(){var t=a&&a.apply(this,arguments);t&&F.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?F.extend(t,n):n}},o={};return n.pipe=n.then,F.each(e,function(t,s){var a=s[2],r=s[3];n[s[1]]=a.add,r&&a.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this
},o[s[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=A.call(arguments),a=s.length,r=1!==a||t&&F.isFunction(t.promise)?a:0,h=1===r?t:F.Deferred(),l=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?A.call(arguments):o,n===e?h.notifyWith(i,n):--r||h.resolveWith(i,n)}};if(a>1)for(e=Array(a),i=Array(a),n=Array(a);a>o;o++)s[o]&&F.isFunction(s[o].promise)?s[o].promise().done(l(o,n,s)).fail(h.reject).progress(l(o,i,e)):--r;return r||h.resolveWith(n,s),h.promise()}});var J;F.fn.ready=function(t){return F.ready.promise().done(t),this},F.extend({isReady:!1,readyWait:1,holdReady:function(t){t?F.readyWait++:F.ready(!0)},ready:function(t){(t===!0?--F.readyWait:F.isReady)||(F.isReady=!0,t!==!0&&--F.readyWait>0||(J.resolveWith(B,[F]),F.fn.trigger&&F(B).trigger("ready").off("ready")))}}),F.ready.promise=function(e){return J||(J=F.Deferred(),"complete"===B.readyState?setTimeout(F.ready):(B.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),J.promise(e)},F.ready.promise();var te=F.access=function(t,e,i,n,o,s,a){var r=0,h=t.length,l=null==i;if("object"===F.type(i)){o=!0;for(r in i)F.access(t,e,r,i[r],!0,s,a)}else if(void 0!==n&&(o=!0,F.isFunction(n)||(a=!0),l&&(a?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(F(t),i)})),e))for(;h>r;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return o?t:l?e.call(t):h?e(t[0],i):s};F.acceptData=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},a.uid=1,a.accepts=F.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,F.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),s=this.cache[o];if("string"==typeof e)s[e]=i;else if(F.isEmptyObject(s))F.extend(this.cache[o],e);else for(n in e)s[n]=e[n];return s},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,F.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,s=this.key(t),a=this.cache[s];if(void 0===e)this.cache[s]={};else{F.isArray(e)?n=e.concat(e.map(F.camelCase)):(o=F.camelCase(e),e in a?n=[e,o]:(n=o,n=n in a?[n]:n.match(Z)||[])),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(t){return!F.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ee=new a,ie=new a,ne=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,oe=/([A-Z])/g;F.extend({hasData:function(t){return ie.hasData(t)||ee.hasData(t)},data:function(t,e,i){return ie.access(t,e,i)},removeData:function(t,e){ie.remove(t,e)},_data:function(t,e,i){return ee.access(t,e,i)},_removeData:function(t,e){ee.remove(t,e)}}),F.fn.extend({data:function(t,e){var i,n,o=this[0],s=0,a=null;if(void 0===t){if(this.length&&(a=ie.get(o),1===o.nodeType&&!ee.get(o,"hasDataAttrs"))){for(i=o.attributes;i.length>s;s++)n=i[s].name,0===n.indexOf("data-")&&(n=F.camelCase(n.slice(5)),r(o,n,a[n]));ee.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof t?this.each(function(){ie.set(this,t)}):te(this,function(e){var i,n=F.camelCase(t);if(o&&void 0===e){if(i=ie.get(o,t),void 0!==i)return i;if(i=ie.get(o,n),void 0!==i)return i;if(i=r(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=ie.get(this,n);ie.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&ie.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ie.remove(this,t)})}}),F.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ee.get(t,e),i&&(!n||F.isArray(i)?n=ee.access(t,e,F.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=F.queue(t,e),n=i.length,o=i.shift(),s=F._queueHooks(t,e),a=function(){F.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,a,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ee.get(t,i)||ee.access(t,i,{empty:F.Callbacks("once memory").add(function(){ee.remove(t,[e+"queue",i])})})}}),F.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),i>arguments.length?F.queue(this[0],t):void 0===e?this:this.each(function(){var i=F.queue(this,t,e);F._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&F.dequeue(this,t)})},dequeue:function(t){return this.each(function(){F.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=F.Deferred(),s=this,a=this.length,r=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=ee.get(s[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}}),/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var se=/^(?:checkbox|radio)$/i;(function(){var t,e=B.createDocumentFragment(),i=e.appendChild(B.createElement("div"));i.innerHTML="<input type='radio' checked name='t'/>",$.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t=B.createElement("input"),t.type="checkbox",t.checked=!0,$.noCloneChecked=t.cloneNode(!0).checked})();var ae="undefined";$.focusinBubbles="onfocusin"in t;var re=/^key/,he=/^(?:mouse|contextmenu)|click/,le=/^(?:focusinfocus|focusoutblur)$/,ce=/^([^.]*)(?:\.(.+)|)$/;F.event={global:{},add:function(t,e,i,n,o){var s,a,r,h,l,c,d,u,p,g,f,m=ee.get(t);if(m){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=F.guid++),(h=m.events)||(h=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof F===ae||t&&F.event.triggered===t.type?void 0:F.event.dispatch.apply(a.elem,arguments)},a.elem=t),e=(e||"").match(Z)||[""],l=e.length;l--;)r=ce.exec(e[l])||[],p=f=r[1],g=(r[2]||"").split(".").sort(),p&&(d=F.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=F.event.special[p]||{},c=F.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&F.expr.match.needsContext.test(o),namespace:g.join(".")},s),(u=h[p])||(u=h[p]=[],u.delegateCount=0,d.setup&&d.setup.call(t,n,g,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,c):u.push(c),F.event.global[p]=!0);t=null}},remove:function(t,e,i,n,o){var s,a,r,h,l,c,d,u,p,g,f,m=ee.hasData(t)&&ee.get(t);if(m&&(h=m.events)){for(e=(e||"").match(Z)||[""],l=e.length;l--;)if(r=ce.exec(e[l])||[],p=f=r[1],g=(r[2]||"").split(".").sort(),p){for(d=F.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,u=h[p]||[],r=r[2]&&RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=u.length;s--;)c=u[s],!o&&f!==c.origType||i&&i.guid!==c.guid||r&&!r.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(s,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(t,c));a&&!u.length&&(d.teardown&&d.teardown.call(t,g,m.handle)!==!1||F.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)F.event.remove(t,p+e[l],i,n,!0);F.isEmptyObject(h)&&(delete m.handle,ee.remove(t,"events"))}},trigger:function(e,i,n,o){var s,a,r,h,l,c,d,u=[n||B],p=D.call(e,"type")?e.type:e,g=D.call(e,"namespace")?e.namespace.split("."):[];if(a=r=n=n||B,3!==n.nodeType&&8!==n.nodeType&&!le.test(p+F.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),l=0>p.indexOf(":")&&"on"+p,e=e[F.expando]?e:new F.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:F.makeArray(i,[e]),d=F.event.special[p]||{},o||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!o&&!d.noBubble&&!F.isWindow(n)){for(h=d.delegateType||p,le.test(h+p)||(a=a.parentNode);a;a=a.parentNode)u.push(a),r=a;r===(n.ownerDocument||B)&&u.push(r.defaultView||r.parentWindow||t)}for(s=0;(a=u[s++])&&!e.isPropagationStopped();)e.type=s>1?h:d.bindType||p,c=(ee.get(a,"events")||{})[e.type]&&ee.get(a,"handle"),c&&c.apply(a,i),c=l&&a[l],c&&F.acceptData(a)&&c.apply&&c.apply(a,i)===!1&&e.preventDefault();return e.type=p,o||e.isDefaultPrevented()||d._default&&d._default.apply(u.pop(),i)!==!1||!F.acceptData(n)||l&&F.isFunction(n[p])&&!F.isWindow(n)&&(r=n[l],r&&(n[l]=null),F.event.triggered=p,n[p](),F.event.triggered=void 0,r&&(n[l]=r)),e.result}},dispatch:function(t){t=F.event.fix(t);var e,i,n,o,s,a=[],r=A.call(arguments),h=(ee.get(this,"events")||{})[t.type]||[],l=F.event.special[t.type]||{};if(r[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=F.event.handlers.call(this,t,h),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,n=((F.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,r),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,s,a=[],r=e.delegateCount,h=t.target;if(r&&h.nodeType&&(!t.button||"click"!==t.type))for(;h!==this;h=h.parentNode||this)if(h.disabled!==!0||"click"!==t.type){for(n=[],i=0;r>i;i++)s=e[i],o=s.selector+" ",void 0===n[o]&&(n[o]=s.needsContext?F(o,this).index(h)>=0:F.find(o,this,null,[h]).length),n[o]&&n.push(s);n.length&&a.push({elem:h,handlers:n})}return e.length>r&&a.push({elem:this,handlers:e.slice(r)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||B,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[F.expando])return t;var e,i,n,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=he.test(o)?this.mouseHooks:re.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new F.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=B),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&F.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return F.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=F.extend(new F.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?F.event.trigger(o,null,e):F.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},F.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},F.Event=function(t,e){return this instanceof F.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.getPreventDefault&&t.getPreventDefault()?h:l):this.type=t,e&&F.extend(this,e),this.timeStamp=t&&t.timeStamp||F.now(),this[F.expando]=!0,void 0):new F.Event(t,e)},F.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},F.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){F.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return(!o||o!==n&&!F.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),$.focusinBubbles||F.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){F.event.simulate(e,t.target,F.event.fix(t),!0)};F.event.special[e]={setup:function(){0===i++&&B.addEventListener(t,n,!0)},teardown:function(){0===--i&&B.removeEventListener(t,n,!0)}}}),F.fn.extend({on:function(t,e,i,n,o){var s,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=l;else if(!n)return this;return 1===o&&(s=n,n=function(t){return F().off(t),s.apply(this,arguments)},n.guid=s.guid||(s.guid=F.guid++)),this.each(function(){F.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,F(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=l),this.each(function(){F.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){F.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?F.event.trigger(t,e,i,!0):void 0}});var de=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ue=/<([\w:]+)/,pe=/<|&#?\w+;/,ge=/<(?:script|style|link)/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,me=/^$|\/(?:java|ecma)script/i,ye=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,we={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};we.optgroup=we.option,we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,F.extend({clone:function(t,e,i){var n,o,s,a,r=t.cloneNode(!0),h=F.contains(t.ownerDocument,t);if(!($.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||F.isXMLDoc(t)))for(a=m(r),s=m(t),n=0,o=s.length;o>n;n++)y(s[n],a[n]);if(e)if(i)for(s=s||m(t),a=a||m(r),n=0,o=s.length;o>n;n++)f(s[n],a[n]);else f(t,r);return a=m(r,"script"),a.length>0&&g(a,!h&&m(t,"script")),r},buildFragment:function(t,e,i,n){for(var o,s,a,r,h,l,c=0,d=t.length,u=e.createDocumentFragment(),p=[];d>c;c++)if(o=t[c],o||0===o)if("object"===F.type(o))F.merge(p,o.nodeType?[o]:o);else if(pe.test(o)){for(s=s||u.appendChild(e.createElement("div")),a=(ue.exec(o)||["",""])[1].toLowerCase(),r=we[a]||we._default,s.innerHTML=r[1]+o.replace(de,"<$1></$2>")+r[2],l=r[0];l--;)s=s.lastChild;F.merge(p,s.childNodes),s=u.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(u.textContent="",c=0;o=p[c++];)if((!n||-1===F.inArray(o,n))&&(h=F.contains(o.ownerDocument,o),s=m(u.appendChild(o),"script"),h&&g(s),i))for(l=0;o=s[l++];)me.test(o.type||"")&&i.push(o);return u},cleanData:function(t){for(var e,i,n,o,s,a,r=F.event.special,h=0;void 0!==(i=t[h]);h++){if(F.acceptData(i)&&(s=i[ee.expando],s&&(e=ee.cache[s]))){if(n=Object.keys(e.events||{}),n.length)for(a=0;void 0!==(o=n[a]);a++)r[o]?F.event.remove(i,o):F.removeEvent(i,o,e.handle);ee.cache[s]&&delete ee.cache[s]}delete ie.cache[i[ie.expando]]}}}),F.fn.extend({text:function(t){return te(this,function(t){return void 0===t?F.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?F.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||F.cleanData(m(i)),i.parentNode&&(e&&F.contains(i.ownerDocument,i)&&g(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(F.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return F.clone(this,t,e)})},html:function(t){return te(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ge.test(t)&&!we[(ue.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(de,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(F.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,F.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=k.apply([],t);var i,n,o,s,a,r,h=0,l=this.length,c=this,d=l-1,g=t[0],f=F.isFunction(g);if(f||l>1&&"string"==typeof g&&!$.checkClone&&fe.test(g))return this.each(function(i){var n=c.eq(i);f&&(t[0]=g.call(this,i,n.html())),n.domManip(t,e)});if(l&&(i=F.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=F.map(m(i,"script"),u),s=o.length;l>h;h++)a=i,h!==d&&(a=F.clone(a,!0,!0),s&&F.merge(o,m(a,"script"))),e.call(this[h],a,h);if(s)for(r=o[o.length-1].ownerDocument,F.map(o,p),h=0;s>h;h++)a=o[h],me.test(a.type||"")&&!ee.access(a,"globalEval")&&F.contains(r,a)&&(a.src?F._evalUrl&&F._evalUrl(a.src):F.globalEval(a.textContent.replace(ve,"")))}return this}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){F.fn[t]=function(t){for(var i,n=[],o=F(t),s=o.length-1,a=0;s>=a;a++)i=a===s?this:this.clone(!0),F(o[a])[e](i),T.apply(n,i.get());return this.pushStack(n)}}),F.fn.delay=function(t,e){return t=F.fx?F.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=B.createElement("input"),e=B.createElement("select"),i=e.appendChild(B.createElement("option"));t.type="checkbox",$.checkOn=""!==t.value,$.optSelected=i.selected,e.disabled=!0,$.optDisabled=!i.disabled,t=B.createElement("input"),t.value="t",t.type="radio",$.radioValue="t"===t.value}();var Ce,be,xe=F.expr.attrHandle;F.fn.extend({attr:function(t,e){return te(this,F.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){F.removeAttr(this,t)})}}),F.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===ae?F.prop(t,e,i):(1===s&&F.isXMLDoc(t)||(e=e.toLowerCase(),n=F.attrHooks[e]||(F.expr.match.bool.test(e)?be:Ce)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:(o=F.find.attr(t,e),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):(F.removeAttr(t,e),void 0))},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(Z);if(s&&1===t.nodeType)for(;i=s[o++];)n=F.propFix[i]||i,F.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!$.radioValue&&"radio"===e&&F.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),be={set:function(t,e,i){return e===!1?F.removeAttr(t,i):t.setAttribute(i,i),i}},F.each(F.expr.match.bool.source.match(/\w+/g),function(t,e){var i=xe[e]||F.find.attr;xe[e]=function(t,e,n){var o,s;return n||(s=xe[e],xe[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,xe[e]=s),o}});var Se=/^(?:input|select|textarea|button)$/i;F.fn.extend({prop:function(t,e){return te(this,F.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[F.propFix[t]||t]})}}),F.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!F.isXMLDoc(t),s&&(e=F.propFix[e]||e,o=F.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),$.optSelected||(F.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});var Pe=/[\t\r\n\f]/g;F.fn.extend({addClass:function(t){var e,i,n,o,s,a,r=0,h=this.length,l="string"==typeof t&&t;if(F.isFunction(t))return this.each(function(e){F(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(Z)||[];h>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):" ")){for(s=0;o=e[s++];)0>n.indexOf(" "+o+" ")&&(n+=o+" ");a=F.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,s,a,r=0,h=this.length,l=0===arguments.length||"string"==typeof t&&t;if(F.isFunction(t))return this.each(function(e){F(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(Z)||[];h>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):"")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?F.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):F.isFunction(t)?this.each(function(i){F(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=F(this),s=t.match(Z)||[];e=s[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===ae||"boolean"===i)&&(this.className&&ee.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ee.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pe," ").indexOf(e)>=0)return!0;return!1}});var Ae=/\r/g;F.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=F.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,F(this).val()):t,null==o?o="":"number"==typeof o?o+="":F.isArray(o)&&(o=F.map(o,function(t){return null==t?"":t+""})),e=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=F.valHooks[o.type]||F.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)}}}),F.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,a=s?null:[],r=s?o+1:n.length,h=0>o?r:s?o:0;r>h;h++)if(i=n[h],!(!i.selected&&h!==o||($.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&F.nodeName(i.parentNode,"optgroup"))){if(e=F(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,s=F.makeArray(e),a=o.length;a--;)n=o[a],(n.selected=F.inArray(F(n).val(),s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(t,e){return F.isArray(e)?t.checked=F.inArray(F(t).val(),e)>=0:void 0}},$.checkOn||(F.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke=F.now(),Te=/\?/;F.parseJSON=JSON.parse,F.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&F.error("Invalid XML: "+t),e};var Ie,Re,Ne=/#.*$/,De=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Be=/^(?:GET|HEAD)$/,He=/^\/\//,Le=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ee={},Fe={},Oe="*/".concat("*");try{Re=location.href}catch(ze){Re=B.createElement("a"),Re.href="",Re=Re.href}Ie=Le.exec(Re.toLowerCase())||[],F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re,type:"GET",isLocal:$e.test(Ie[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":F.parseJSON,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?C(C(t,F.ajaxSettings),e):C(F.ajaxSettings,t)},ajaxPrefilter:v(Ee),ajaxTransport:v(Fe),ajax:function(t,e){function i(t,e,i,a){var h,c,y,v,w,S=e;2!==C&&(C=2,r&&clearTimeout(r),n=void 0,s=a||"",P.readyState=t>0?4:0,h=t>=200&&300>t||304===t,i&&(v=b(d,P,i)),v=x(d,v,P,h),h?(d.ifModified&&(w=P.getResponseHeader("Last-Modified"),w&&(F.lastModified[o]=w),w=P.getResponseHeader("etag"),w&&(F.etag[o]=w)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=v.state,c=v.data,y=v.error,h=!y)):(y=S,(t||!S)&&(S="error",0>t&&(t=0))),P.status=t,P.statusText=(e||S)+"",h?g.resolveWith(u,[c,S,P]):g.rejectWith(u,[P,S,y]),P.statusCode(m),m=void 0,l&&p.trigger(h?"ajaxSuccess":"ajaxError",[P,d,h?c:y]),f.fireWith(u,[P,S]),l&&(p.trigger("ajaxComplete",[P,d]),--F.active||F.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,s,a,r,h,l,c,d=F.ajaxSetup({},e),u=d.context||d,p=d.context&&(u.nodeType||u.jquery)?F(u):F.event,g=F.Deferred(),f=F.Callbacks("once memory"),m=d.statusCode||{},y={},v={},C=0,S="canceled",P={readyState:0,getResponseHeader:function(t){var e;if(2===C){if(!a)for(a={};e=Me.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return C||(t=v[i]=v[i]||t,y[t]=e),this},overrideMimeType:function(t){return C||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>C)for(e in t)m[e]=[m[e],t[e]];else P.always(t[P.status]);return this},abort:function(t){var e=t||S;return n&&n.abort(e),i(0,e),this}};if(g.promise(P).complete=f.add,P.success=P.done,P.error=P.fail,d.url=((t||d.url||Re)+"").replace(Ne,"").replace(He,Ie[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=F.trim(d.dataType||"*").toLowerCase().match(Z)||[""],null==d.crossDomain&&(h=Le.exec(d.url.toLowerCase()),d.crossDomain=!(!h||h[1]===Ie[1]&&h[2]===Ie[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(Ie[3]||("http:"===Ie[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=F.param(d.data,d.traditional)),w(Ee,d,e,P),2===C)return P;l=d.global,l&&0===F.active++&&F.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Be.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Te.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=De.test(o)?o.replace(De,"$1_="+ke++):o+(Te.test(o)?"&":"?")+"_="+ke++)),d.ifModified&&(F.lastModified[o]&&P.setRequestHeader("If-Modified-Since",F.lastModified[o]),F.etag[o]&&P.setRequestHeader("If-None-Match",F.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&P.setRequestHeader("Content-Type",d.contentType),P.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Oe+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)P.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(u,P,d)===!1||2===C))return P.abort();S="abort";for(c in{success:1,error:1,complete:1})P[c](d[c]);if(n=w(Fe,d,e,P)){P.readyState=1,l&&p.trigger("ajaxSend",[P,d]),d.async&&d.timeout>0&&(r=setTimeout(function(){P.abort("timeout")},d.timeout));try{C=1,n.send(y,i)}catch(A){if(!(2>C))throw A;i(-1,A)}}else i(-1,"No Transport");return P},getJSON:function(t,e,i){return F.get(t,e,i,"json")},getScript:function(t,e){return F.get(t,void 0,e,"script")}}),F.each(["get","post"],function(t,e){F[e]=function(t,i,n,o){return F.isFunction(i)&&(o=o||n,n=i,i=void 0),F.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){F.fn[e]=function(t){return this.on(e,t)}}),F._evalUrl=function(t){return F.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};var _e=/%20/g,je=/\[\]$/,Ve=/\r?\n/g,We=/^(?:submit|button|image|reset|file)$/i,qe=/^(?:input|select|textarea|keygen)/i;F.param=function(t,e){var i,n=[],o=function(t,e){e=F.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=F.ajaxSettings&&F.ajaxSettings.traditional),F.isArray(t)||t.jquery&&!F.isPlainObject(t))F.each(t,function(){o(this.name,this.value)});else for(i in t)S(i,t[i],e,o);return n.join("&").replace(_e,"+")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=F.prop(this,"elements");return t?F.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!F(this).is(":disabled")&&qe.test(this.nodeName)&&!We.test(t)&&(this.checked||!se.test(t))}).map(function(t,e){var i=F(this).val();return null==i?null:F.isArray(i)?F.map(i,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:i.replace(Ve,"\r\n")}}).get()}}),F.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ke=F.ajaxSettings.xhr(),Ue={0:200,1223:204},Ge=0,Xe={};t.ActiveXObject&&F(t).on("unload",function(){for(var t in Xe)Xe[t]();Xe=void 0}),$.cors=!!Ke&&"withCredentials"in Ke,$.ajax=Ke=!!Ke,F.ajaxTransport(function(t){var e;return $.cors||Ke&&!t.crossDomain?{send:function(i,n){var o,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete Xe[s],e=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?n(a.status||404,a.statusText):n(Ue[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=e(),a.onerror=e("error"),e=Xe[s=Ge++]=e("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){e&&e()}}:void 0}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return F.globalEval(t),t}}}),F.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),F.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=F("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),B.head.appendChild(e[0])
},abort:function(){i&&i()}}}});var Ye=[],Ze=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||F.expando+"_"+ke++;return this[t]=!0,t}}),F.ajaxPrefilter("json jsonp",function(e,i,n){var o,s,a,r=e.jsonp!==!1&&(Ze.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=F.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Ze,"$1"+o):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||F.error(o+" was not called"),a[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},n.always(function(){t[o]=s,e[o]&&(e.jsonpCallback=i.jsonpCallback,Ye.push(o)),a&&F.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),F.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||B;var n=W.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=F.buildFragment([t],e,o),o&&o.length&&F(o).remove(),F.merge([],n.childNodes))};var Qe=F.fn.load;return F.fn.load=function(t,e,i){if("string"!=typeof t&&Qe)return Qe.apply(this,arguments);var n,o,s,a=this,r=t.indexOf(" ");return r>=0&&(n=t.slice(r),t=t.slice(0,r)),F.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&F.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,a.html(n?F("<div>").append(F.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},"function"==typeof define&&define.amd&&define("jquery",[],function(){return F}),t.jQuery=t.$=F});

// source/App.js
var _serverApi,user_data_str,user_data,cities_data,gParkingActive,uriOfImageOfCarToAdd,cars_data,done_with_cars_from_server,done_with_regions_from_server,use_geolocation=!1,geolocation_result,auto_login=!1,app_initialized=!1,car_assets_url=[],cities_array=[],suburbs_array=[],gimageURI,chosen_car,lastParkingPOIValid=!1;enyo.kind({name:"App",kind:"FittableRows",fit:!0,classes:"enyo-fit",handlers:{onload:"loadHandler",onbackbutton:"backButtonHandler"},baseUrl:"http://ozpark.com.au",components:[{kind:"Signals",ondeviceready:"deviceReady"},{kind:"Panels",name:"appPanels",fit:!0,realtimeFit:!1,draggable:!1,animate:!1,classes:"panels-sample-panels enyo-border-box",style:"background-image:  url(assets/1.png);	background-size: cover;	background-repeat: repeat;color:white;",components:[{content:0,name:"login_pannel",fit:!0,components:[{kind:"Panels",name:"loginPanels",style:"height:100%;",fit:!0,animate:!1,realtimeFit:!0,draggable:!1,classes:"panels-sample-panels enyo-border-box",components:[{content:0,name:"login_buttons_pannel",components:[{classes:"fittable-transparent",name:"logo_container",style:"height:50%;position:relative;top:0%;z-index:0;",components:[{kind:"Image",name:"logo",src:"assets/logo1.png",style:"height:100%; display: block;margin-left: auto;   margin-right: auto"}]},{classes:"fittable-transparent",fit:!0,name:"login_container",style:"height:50%;position:relative;z-index:0;",components:[{tag:"br"},{tag:"br"},{kind:"onyx.Button",content:"Login",style:"position:relative;left:10%;height:20%;width:80%;top:60%;background-color:purple;color:#F1F1F1;",ontap:"loginOnTap"},{tag:"br"},{tag:"br"},{kind:"onyx.Button",content:"Sign-Up",style:"position:relative;left:10%;height:20%;width:80%;top:10%;background-color:purple;color:#F1F1F1;",ontap:"signupOnTap"}]}]},{content:1,name:"login_inputs_pannel",components:[{tag:"br"},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"UserID"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"userid",placeholder:"User ID",style:"color:white;"}]}]},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"Password"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"userpass",type:"password",style:"width: 80%;color:white;",placeholder:"Password"}]}]},{tag:"br"},{style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.Button",content:"Login",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"loginButtonOnTap"},{kind:"onyx.Button",content:"Cancel",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"loginCancelOnTap"}]},{name:"spinnerPopup",classes:"onyx-spinner-popup",kind:"onyx.Popup",autoDismiss:!1,centered:!0,floating:!0,onHide:"popupHidden",scrim:!0,components:[{kind:"onyx.Spinner"},{name:"spinnerPopupContent",content:"Connecting..."}]}]},{content:2,name:"signup_inputs_pannel",components:[{tag:"br"},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"Name"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"firstname",style:"color:white;",placeholder:"First Name"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"lastname",style:"width: 80%;color:white;",placeholder:"Last Name"}]}]},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"Credit Card"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"credit_card_number",style:"width: 80%;color:white;",placeholder:"Creadit Card Number"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"id_card_number",style:"width: 80%;color:white;",placeholder:"ID Number"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"phone",style:"width: 80%;color:white;",placeholder:"Phone"}]}]},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"User"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"email_signup",style:"width: 80%;color:white;",placeholder:"Email"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"password_signup",type:"password",style:"width: 80%;color:white;",placeholder:"Password (8 chars min)"}]}]},{tag:"br"},{style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.Button",content:"Sign Up",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"signupButtonOnTap"},{kind:"onyx.Button",content:"Cancel",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"loginCancelOnTap"}]}]},{content:3,name:"update_account_inputs_pannel",components:[{tag:"br"},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"Name"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_firstname",style:"color:white;",placeholder:"First Name"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_lastname",style:"width: 80%;color:white;",placeholder:"Last Name"}]}]},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"Credit Card"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_credit_card_number",style:"width: 80%;color:white;",placeholder:"Creadit Card Number"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_id_card_number",style:"width: 80%;color:white;",placeholder:"ID Number"}]},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_phone",style:"width: 80%;color:white;",placeholder:"Phone"}]}]},{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.GroupboxHeader",content:"User"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"update_password_signup",type:"password",style:"width: 80%;color:white;",placeholder:"Password (8 chars min)"}]}]},{tag:"br"},{style:"position:relative;width:80%;left:10%;",components:[{kind:"onyx.Button",content:"Update",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"updateAcountButtonOnTap"},{kind:"onyx.Button",content:"Cancel",style:"width:50%;background-color:purple;color:#F1F1F1;",ontap:"updateAccountCancelOnTap"}]}]}]}]},{content:1,name:"home_pannel",components:[{kind:"onyx.Toolbar",name:"title",content:"ParkNPay",style:"height:5%;"},{kind:"FittableRows",fit:!0,classes:"fittable-transparent",components:[{classes:"fittable-transparent",name:"car_container",ontap:"CarSelectTap",style:"height:33%;position:relative;z-index:0;",components:[{kind:"Image",name:"car",src:"assets/car.png"},{name:"selected_car",content:"Parking car"}]},{classes:"fittable-transparent",name:"poi_container",ontap:"RegionSelectTap",style:"height:33%;position:relative;z-index:0;",components:[{kind:"Image",name:"poi",src:"assets/poi.png"},{name:"selected_poi",content:"Parking area"}]},{classes:"fittable-transparent",name:"action_container",ontap:"ActionSelectTap",style:"height:33%;position:relative;z-index:0;",components:[{kind:"Image",name:"action",src:"assets/p.png"},{name:"selected_action",content:"Press to start"}]}]},{kind:"Pullout",classes:"pullout"},{name:"homeSpinnerPopup",classes:"onyx-spinner-popup",kind:"onyx.Popup",autoDismiss:!1,centered:!0,floating:!0,onHide:"popupHidden",scrim:!0,components:[{kind:"onyx.Spinner"},{name:"homeSpinnerPopupContent",content:"Connecting..."}]},{kind:"Notification",name:"notif"}]},{content:2,name:"add_car_pannel",components:[{style:"position:relative;width:80%;left:10%;top:2%;",components:[{tag:"br"},{kind:"onyx.Groupbox",style:"position:relative;width:100%;",components:[{kind:"onyx.GroupboxHeader",content:"Registration number"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"regnum",placeholder:"Registration Number",style:"color:white;"}]}]},{kind:"onyx.Groupbox",style:"position:relative;width:100%;",components:[{kind:"onyx.GroupboxHeader",content:"Description"},{kind:"onyx.InputDecorator",style:"background-color:rgba(255, 255, 255, 0);",components:[{kind:"onyx.Input",name:"description",placeholder:"Description",style:"color:white;"}]}]},{tag:"br"},{kind:"Image",name:"carImage",style:"width:100%;height:50%;",src:"assets/car.png"},{tag:"br"},{kind:"onyx.Button",fit:!0,style:"width:100%;",content:"Photo",ontap:"takePhotoOnTap"},{tag:"br"},{kind:"onyx.Button",style:"width:50%;height:15%;margin-top:5%;",content:"Cancel",ontap:"cancelAddCarOnTap"},{kind:"onyx.Button",style:"width:50%;height:15%;margin-top:5%;",content:"Add",ontap:"addACarOnTap"}]}]},{content:3,name:"parking_poi_pannel",components:[{kind:"FittableRows",classes:"enyo-fit",components:[{kind:"onyx.Toolbar",layoutKind:"FittableColumnsLayout",components:[{content:"Parking place",fit:!0},{kind:"onyx.Button",content:"Done",ontap:"closePOIMap"}]},{name:"google_map",kind:"GoogleMap",fit:!0,onLoaded:"findCurrentLocation",options:{showDashboard:!1,showScalebar:!1},credentials:""}]}]},{content:4,name:"regions_selection_view",components:[{kind:"FittableRows",classes:"enyo-fit",components:[{kind:"onyx.Toolbar",layoutKind:"FittableColumnsLayout",components:[{content:"Parking place",fit:!0},{kind:"onyx.Button",content:"Done",ontap:"closePOIMap"}]},{name:"regionSelectorPopup",onShow:"regionsPannnelOnShow",components:[{classes:"onyx-toolbar-inline",style:"width:80%;height:45%;",components:[{content:"City",style:"width:100%;height:20%;",classes:"onyx-sample-divider"},{kind:"onyx.PickerDecorator",style:"width:100%;height:60%;",components:[{kind:"onyx.PickerButton",style:"width:120%;height:80%;color:white;background:transparent;text-align:left;",content:"Pick One..."},{kind:"onyx.Picker",name:"cities",onSelect:"citySelected",components:[]}]}]},{classes:"onyx-toolbar-inline",style:"width:80%;height:45%;top:8%;position:relative;",components:[{content:"Suburb",style:"width:100%;height:20%;",classes:"onyx-sample-divider"},{kind:"onyx.PickerDecorator",style:"width:100%;height:60%;",components:[{kind:"onyx.PickerButton",style:"width:120%;height:80%;color:white;background:transparent;text-align:left;",content:"Pick One..."},{kind:"onyx.Picker",name:"suburbs",onSelect:"suburbSelected",components:[]}]}]}]}]}]},{content:5,name:"cars_selection_view",components:[{kind:"FittableRows",classes:"enyo-fit",components:[{kind:"onyx.Toolbar",layoutKind:"FittableColumnsLayout",components:[{content:"Parking car",fit:!0},{kind:"onyx.Button",content:"Done",ontap:"closePOIMap"}]},{fit:!0},{name:"carSelector",style:"width:80%;left:10%;height:85%;top:5%;position:relative;",ontap:"carSelectorOnTap",components:[{style:"width:95%;height:5%;position:relative;",components:[{name:"carSelectorContentDescription",content:"Choose your car..."}]},{style:"width:95%;height:5%;position:relative;"},{name:"carousel",arrangerKind:"TopBottomArranger",kind:"ImageCarousel",lowMemory:!0,style:"width:95%;height:80%;position:relative;",onTransitionFinish:"transitionFinish"},{style:"width:95%;height:5%;position:relative;"},{style:"width:95%;height:5%;position:relative;",components:[{name:"carSelectorContentRegistrationPlate",content:"jhkj"}]}]}]}]}]},{kind:"CurrentLocation",onSuccess:"currentLocationSuccess"}],backButtonHandler:function(){console.log("back button pressed"),navigator.app.exitApp()},closePOIMap:function(){this.$.pullout.animateTo(100),this.$.appPanels.setIndex(1)},updateAccountCancelOnTap:function(){this.$.appPanels.setIndex(1)},callb:function(){alert("TBD!")},sendNotif:function(t,e,i,n,o){this.$.notif.sendNotification({title:n,message:o,icon:"assets/warning-4.png",theme:t,stay:e,duration:i},enyo.bind(this,"callb"))},citySelected:function(t,e){this.$.suburbs.destroyClientControls();var i=cities_array.indexOf(e.selected.content),n=localStorage.getItem("chosen_region_city");if(localStorage.getItem("chosen_region_suburb"),i!=n){for(localStorage.setItem("chosen_region_suburb",0),localStorage.setItem("chosen_region_city",i),j=0;suburbs_array[i].length>j;j++)0==j?this.$.suburbs.createComponent({content:suburbs_array[i][j],active:!0}):this.$.suburbs.createComponent({content:suburbs_array[i][j]});this.$.suburbs.render(),this.$.selected_poi.setContent(e.selected.content+",\n"+suburbs_array[i][0])}},suburbSelected:function(t,e){var i=localStorage.getItem("chosen_region_city"),n=suburbs_array[i].indexOf(e.selected.content);localStorage.setItem("chosen_region_suburb",n),this.$.selected_poi.setContent(cities_array[i]+",\n"+suburbs_array[i][n]),this.$.appPanels.setIndex(1)},transitionFinish:function(t,e){cars_data&&e.toIndex<cars_data.length&&(this.$.carSelectorContentRegistrationPlate.setContent(cars_data[e.toIndex].registration),this.$.carSelectorContentDescription.setContent(cars_data[e.toIndex].Name),this.$.selected_car.setContent(cars_data[e.toIndex].Name),localStorage.setItem("chosen_car",e.toIndex))},create:function(){this.inherited(arguments)},deviceReady:function(){console.log("enyo-onDeviceReady"),navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&onDeviceReadyCamera(),getLocation(this)},init_containers_size:function(e,i){home_height=.95*e,home_width=i,container_height=.33*home_height,bmin=Math.min(home_width,container_height),w=.75*bmin,h=w,t=.5*.125*bmin,l=.3*.1*home_width,this.$.car.setStyle("width:"+w+"px;height:"+h+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.car_container.setStyle("width:"+w+"px;height:"+bmin+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.selected_car.setStyle("position:relative;top:"+(-h+t)+"px;left:"+.5*home_width+"px;"),this.$.poi.setStyle("width:"+w+"px;height:"+h+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.poi_container.setStyle("width:"+w+"px;height:"+bmin+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.selected_poi.setStyle("position:relative;top:"+(-h+t)+"px;left:"+.5*home_width+"px;"),this.$.action.setStyle("width:"+w+"px;height:"+h+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.action_container.setStyle("width:"+w+"px;height:"+bmin+"px;position:relative;top:"+t+"px;left:"+l+"px;"),this.$.selected_action.setStyle("position:relative;top:"+(-h+t)+"px;left:"+.5*home_width+"px;")},update_user_data_from_storage:function(){user_data_str=window.localStorage.getItem("user_data"),user_data=null,""!=user_data_str&&(user_data=JSON.parse(user_data_str))},setWhereDidIParkOption:function(){var t=localStorage.getItem("last_parking_lat"),e=localStorage.getItem("last_parking_lon");0==t||0==e?this.$.pullout.$.whereDoIPark.setStyle("opacity:0.4"):(this.$.pullout.$.whereDoIPark.setStyle("opacity:1"),lastParkingPOIValid=!0)},loadHandler:function(){0==app_initialized&&(app_initialized=!0,prefill_local_storage(),use_geolocation=window.localStorage.getItem("use_geolocation"),1==use_geolocation?this.owner.$.currentLocation.go():this.findCurrentLocation(),this.setWhereDidIParkOption(),window.isphone=!1,navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)?window.isphone=!0:this.deviceReady(),_serverApi=new serverApi,cars_data=JSON.parse(localStorage.getItem("cars_data")),this.update_user_data_from_storage(),this.update_regions_and_rates_from_storage(),auto_login=window.localStorage.getItem("auto_login"),"true"==auto_login?""!=_serverApi.auth_token&&null!=_serverApi.auth_token&&(this.$.appPanels.setIndex(1),this.init_containers_size(this.$.appPanels.getBounds().height,this.$.appPanels.getBounds().width),this.set_up_regions_text(),this.set_up_cars_text(),this.set_up_parking_pannel()):null!=user_data&&(this.$.userid.setValue(user_data.user.email),this.$.userpass.setValue(user_data.user.password)))},loginCancelOnTap:function(){this.$.loginPanels.setIndex(0)},loginOnTap:function(){this.$.loginPanels.setIndex(1),this.init_containers_size(this.$.loginPanels.getBounds().height,this.$.loginPanels.getBounds().width)},loginButtonOnTap:function(){var t=this.$.userid.getValue(),e=this.$.userpass.getValue();user_data={user:{email:t,password:e}},user_data_str=JSON.stringify(user_data),window.localStorage.setItem("user_data",user_data_str),this.$.spinnerPopupContent.setContent("Login..."),this.$.spinnerPopup.show(),prefill_local_storage();var i=this;_serverApi.sign_in({data:user_data,success:function(){_serverApi.get_user({success:function(t){user_data=t,user_data_str=JSON.stringify(user_data);var e=new Date,n=e.getTime(),o=window.localStorage.getItem("last_server_update");null===o||""===o||n-o>1e3?(console.log("*** UPDATING FROM SERVER ***"),i.update_regions_and_rates_from_server(),i.update_cars_list_from_server(),window.localStorage.setItem("last_server_update",n)):(i.set_up_cars_text(),i.set_up_regions_text(),i.set_up_parking_pannel()),i.$.appPanels.setIndex(1),i.$.spinnerPopup.hide()},error:function(t){console.log("_serverApi.get_user failed: "+t),alert(t),i.$.spinnerPopup.hide()}})},error:function(t){i.$.spinnerPopup.hide(),alert("Login failed: "+t)}})},set_up_regions_text:function(){0==use_geolocation?(chosen_region_city=window.localStorage.getItem("chosen_region_city"),chosen_region_suburb=window.localStorage.getItem("chosen_region_suburb"),cities_array=JSON.parse(localStorage.getItem("cities_array")),suburbs_array=JSON.parse(localStorage.getItem("suburbs_array")),null!=cities_array&&cities_array.length>0&&null!=suburbs_array&&suburbs_array.length>0&&chosen_region_city>=0&&chosen_region_suburb>=0&&null!=chosen_region_city&&null!=chosen_region_suburb&&cities_data&&this.$.selected_poi.setContent(cities_array[chosen_region_city]+",\n"+suburbs_array[chosen_region_city][chosen_region_suburb])):this.$.selected_poi.setContent(localStorage.getItem("geolocation"))},set_up_regions_pannel:function(){for(chosen_region_city=window.localStorage.getItem("chosen_region_city"),chosen_region_suburb=window.localStorage.getItem("chosen_region_suburb"),cities_array=JSON.parse(localStorage.getItem("cities_array")),suburbs_array=JSON.parse(localStorage.getItem("suburbs_array")),cities_data=JSON.parse(localStorage.getItem("cities_data")),this.$.suburbs.destroyClientControls(),this.$.cities.destroyClientControls(),i=0;cities_array.length>i;i++)if(i==chosen_region_city)for(this.$.cities.createComponent({content:cities_array[i],active:!0}),j=0;suburbs_array[i].length>j;j++)j==chosen_region_suburb?this.$.suburbs.createComponent({content:suburbs_array[i][j],active:!0}):this.$.suburbs.createComponent({content:suburbs_array[i][j]});else this.$.cities.createComponent({content:cities_array[i]});this.$.suburbs.render(),this.$.cities.render(),this.set_up_regions_text()},set_up_parking_pannel:function(){var t=localStorage.getItem("ParkingActive");"true"==t?(gParkingActive=!0,this.digitized(),this.$.selected_action.setContent("Active")):(gParkingActive=!1,localStorage.setItem("ParkingActive",!1),console.log("parking stoped"),this.$.selected_action.setContent("Press to start"))},signupOnTap:function(){this.$.loginPanels.setIndex(2)},signupButtonOnTap:function(){var t=this.$.firstname.getValue(),e=this.$.lastname.getValue();this.$.phone.getValue(),this.$.credit_card_number.getValue(),this.$.id_card_number.getValue();var i=this.$.email_signup.getValue(),n=this.$.password_signup.getValue();this.$.spinnerPopupContent.setContent("Signing up..."),this.$.spinnerPopup.show();var o=this;user_data={user:{email:i,password:n,password_confirmation:n,firstname:t,lastname:e}},user_data_str=JSON.stringify(user_data),window.localStorage.setItem("user_data",user_data_str),_serverApi.sign_up({data:user_data,success:function(){o.$.spinnerPopup.hide(),alert("A verification link has been sent to you email. Please follow the instructions sent in that email and then login again"),o.$.appPanels.setIndex(0)},error:function(){o.$.spinnerPopup.hide(),alert("Signup Failed")}})},CarSelectTap:function(){cars_data?cars_data.length>0&&(this.set_up_cars_pannel(),this.$.appPanels.setIndex(5)):this.sendNotif("notification.MessageBar",void 0,1,"Error","No cars registered yet")},RegionSelectTap:function(){0==use_geolocation&&(this.$.appPanels.setIndex(4),this.set_up_regions_pannel())},regionsPannnelOnShow:function(){},carSelectorOnTap:function(){this.$.appPanels.setIndex(1)},cancelAddCarOnTap:function(){this.$.appPanels.setIndex(1)},delCarID:function(t){var e={car:{archive:!0}};this.$.spinnerPopupContent.setContent("Updating..."),this.$.spinnerPopup.show();var i=this;null!=t&&cars_data.length>0&&_serverApi.update_cars({id:cars_data[t].ID,data:e,success:function(){if(i.update_cars_list_from_server(),0==cars_data.length)localStorage.setItem("chosen_car",void 0);else if(1==cars_data.length)localStorage.setItem("chosen_car",0);else{var e=localStorage.getItem("chosen_car");e>t&&localStorage.setItem("chosen_car",e-1)}i.$.pullout.animateTo(100),i.$.appPanels.setIndex(1),i.$.spinnerPopup.hide()},error:function(t){console.log(t),i.$.spinnerPopup.hide()}})},addACarOnTap:function(){this.$.spinnerPopupContent.setContent("Updating..."),this.$.spinnerPopup.show();var t=this.$.regnum.getValue(),e=this.$.description.getValue();this.$.carImage.src;var i={car:{license_plate:t,car_description:e}},n=this;_serverApi.add_cars({data:i,success:function(t){console.log("success: function "+t);var e=t.id;void 0==gimageURI&&(gimageURI="assets/car.png"),console.log("uploading "+gimageURI),uploadPhoto(e,gimageURI),"undefined"==localStorage.getItem("chosen_car")&&localStorage.setItem("chosen_car",0),n.$.spinnerPopup.hide(),n.update_cars_list_from_server(),n.$.appPanels.setIndex(1)},error:function(t){console.log("uploadPhoto error:"+t),alert(format_error_string(t)),n.$.spinnerPopup.hide()}})},takePhotoOnTap:function(){function t(t){console.log("onSuccess - imageURI = "+t),window.resolveLocalFileSystemURI(t,i,e),gimageURI=t}function e(t){alert("Failed because: "+t)}function i(t){function e(t){console.log("navigator.camera.getPicture-onResolveSuccess - onSuccess");var e=new FileReader;e.onloadend=function(t){console.log("onloadend - read success"),n.$.carImage.setSrc(t.target.result)},e.readAsDataURL(t)}var i=function(){console.log("navigator.camera.getPicture-fail"),console.log(error.code)};t.file(e,i),console.log(t.name)}var n=this;console.log("calling navigator.camera.getPicture"),navigator.camera.getPicture(t,e,{quality:50,destinationType:Camera.DestinationType.FILE_URI})},set_up_cars_text:function(){chosen_car=window.localStorage.getItem("chosen_car"),cars_data=JSON.parse(localStorage.getItem("cars_data")),cars_data.length>0?(chosen_car>cars_data.length-1&&(chosen_car=0),this.$.selected_car.setContent(cars_data[chosen_car].Name)):this.$.selected_car.setContent("Please add a Car")},set_up_cars_pannel:function(){chosen_car=window.localStorage.getItem("chosen_car");var t=localStorage.getItem("cars_data");t?(cars_data=JSON.parse(localStorage.getItem("cars_data")),this.update_cars_list_from_storage(),this.$.carousel.setImages(car_assets_url),this.$.carousel.imagesChanged(),chosen_car&&cars_data&&(cars_data.length>0?(null==chosen_car&&(chosen_car=0),chosen_car>cars_data.length-1&&(chosen_car=0),this.$.carSelectorContentRegistrationPlate.setContent(cars_data[chosen_car].registration),this.$.carSelectorContentDescription.setContent(cars_data[chosen_car].Name),this.$.carousel.setIndex(chosen_car),this.$.selected_car.setContent(cars_data[chosen_car].Name)):this.$.selected_car.setContent("No car registered yet"))):this.update_cars_list_from_server()},update_regions_and_rates_from_storage:function(){for(cities_data=JSON.parse(localStorage.getItem("cities_data")),j=0;cities_data.length>j;j++)for(cities_array[j]=cities_data[j].name,suburbs_array[j]=[],k=0;cities_data[j].areas.length>k;k++)suburbs_array[j][k]=cities_data[j].areas[k].name;localStorage.setItem("cities_array",JSON.stringify(cities_array)),localStorage.setItem("suburbs_array",JSON.stringify(suburbs_array))},update_regions_and_rates_from_server:function(){var t=this,e=[],i=[];_serverApi.get_rates({success:function(n){if(null!=n){for(localStorage.setItem("cities_data",JSON.stringify(n)),cities_data=JSON.parse(localStorage.getItem("cities_data")),j=0;cities_data.length>j;j++)for(e[j]=cities_data[j].name,i[j]=[],k=0;cities_data[j].areas.length>k;k++)i[j][k]=cities_data[j].areas[k].name;localStorage.setItem("cities_array",JSON.stringify(e)),localStorage.setItem("suburbs_array",JSON.stringify(i)),0==use_geolocation&&t.set_up_regions_text()}else console.log("Empty rates list received")},error:function(e){console.log(e),t.sendNotif("notification.MessageBar",void 0,3,"Failed fetching rates: "+e)}})},update_cars_list_from_storage:function(){for(car_assets_url=[],cars_data=JSON.parse(localStorage.getItem("cars_data")),this.$.pullout.fillDeleteCarDrawer(cars_data),i=0;cars_data.length>i;i++){var t=localStorage.getItem("picture_for_car_"+i);t?car_assets_url.push(t):car_assets_url.push("http://ozpark.com.au/img/thumb/missing.png")}},delete_cars_pictures_from_storage:function(){for(i=0;localStorage.length-1>=i;i++)key=localStorage.key(i),0==key.indexOf("picture_for_car_")&&localStorage.removeItem(key)},update_cars_list_from_server:function(){var t=this;this.sendNotif("notification.MessageBar",void 0,1,"Info","Updating cars list from server"),_serverApi.get_cars({success:function(e){if(null!=e){t.delete_cars_pictures_from_storage(),_cars_data=e;var i=[],n=0,o=0;for(n=0;e.length>n;n++)0==e[n].archive&&(i.push({index:o,ID:e[n].id,registration:e[n].license_plate,PictureUrl:"http://"+e[n].image_url,Name:e[n].car_description}),asyncHttpGet("http://"+e[n].image_url,o,t),console.log("fetching http://"+e[n].image_url),o++);localStorage.setItem("cars_data",JSON.stringify(i)),cars_data=JSON.parse(localStorage.getItem("cars_data")),null==cars_data&&(cars_data=[]),t.$.pullout.fillDeleteCarDrawer(cars_data),t.set_up_cars_text()}else console.log("Empty car list received")},error:function(t){console.log("serverApi.get_cars error:"+t)}})},ActionSelectTap:function(){var t=localStorage.getItem("chosen_car");if(pid1=localStorage.getItem("chosen_region_city"),pid2=localStorage.getItem("chosen_region_suburb"),0==use_geolocation){if("undefined"==t||null==pid1||null==pid2)return this.sendNotif("notification.MessageBar",void 0,1,"Error","Please set the car and location first"),void 0}else{if("undefined"==t)return this.sendNotif("notification.MessageBar",void 0,1,"Please set the car first"),void 0;if(null==pid1||null==pid2)return this.sendNotif("notification.MessageBar",void 0,1,"Location not in database. Please call support"),void 0}if(0==cars_data.length)return this.sendNotif("notification.MessageBar",void 0,1,"Error","No cars registered yet"),void 0;pid=cars_data[t].ID,status=localStorage.getItem("ParkingActive");var e=new Date;"false"==status?this.start_payment(e):this.stop_payment(e)},start_payment:function(t){this.saveParkingLocation(),this.setWhereDidIParkOption();var e,i,n=localStorage.getItem("last_parking_lat"),o=localStorage.getItem("last_parking_lon"),s=this;this.$.homeSpinnerPopupContent.setContent("Starting Parking..."),this.$.homeSpinnerPopup.show(),use_geolocation?(geolocation=localStorage.getItem("geolocation"),e=0,i=0):(e=parseInt(localStorage.getItem("chosen_region_city"),10),i=parseInt(localStorage.getItem("chosen_region_suburb"),10));var a=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+"T"+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"Z",r=cities_data[e].areas[i].id,h=localStorage.getItem("chosen_car"),l=cars_data[h].ID;console.log("start_payment: st="+a+",area="+r+",user="+user_data.user.id+",car="+l);var c={payment:{car_id:l,x_pos:n,y_pos:o,area_id:r,user_id:user_data.user.id,start_time:a}};_serverApi.add_payment({data:c,success:function(e){localStorage.setItem("payment_id",e.id),console.log("payment_id="+e.id),gParkingActive=!0,localStorage.setItem("ParkingActive",!0),localStorage.setItem("ParkingStartTime",t),s.digitized(),console.log("parking started"),s.$.selected_action.setContent("Starting..."),s.$.homeSpinnerPopup.hide()},error:function(t){s.$.homeSpinnerPopup.hide(),console.log(t),s.sendNotif("notification.MessageBar",void 0,3,"Error",t),localStorage.setItem("payment_id",-1)}})},stop_payment:function(t){var e=this;this.$.homeSpinnerPopupContent.setContent("Stoping Parking..."),this.$.homeSpinnerPopup.show();var i=parseInt(localStorage.getItem("payment_id"),10),n=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+"T"+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"Z";console.log("stop_payment: et="+n+",payment_id="+i);var o={end_time:n};_serverApi.update_payment({id:i,data:o,success:function(){gParkingActive=!1,localStorage.setItem("ParkingActive",!1),console.log("parking stoped"),e.$.selected_action.setContent("Press to Start"),e.$.homeSpinnerPopup.hide()},error:function(t){console.log(t),e.$.homeSpinnerPopup.hide()}})},digitized:function(){var t=new Date,e=new Date(localStorage.getItem("ParkingStartTime")),i=t.getTime(),n=e.getTime();parseInt((i-n)/864e5);var o=parseInt((i-n)/36e5%24),s=parseInt((i-n)/6e4%60),a=parseInt((i-n)/1e3%60);if(s=Ticking(s),a=Ticking(a),document.getElementById("parking_selection_item-title"),gParkingActive){var r=o+":"+s+":"+a,h=localStorage.getItem("chosen_region_rate"),l=parseInt(a*h)+"$";this.$.selected_action.setContent(r+" - "+l)}gParkingActive&&enyo.job("digitized",enyo.bind(this,"digitized"),1e3)},debug:function(){for(i=0;localStorage.length-1>=i;i++)key=localStorage.key(i),console.log(key+" : "+localStorage.getItem(key))},findCurrentLocation:function(){var t=localStorage.getItem("geolocation_lat"),e=localStorage.getItem("geolocation_lon");t>-90&&90>t&&e>-180&&180>e&&0!=e&&0!=t||this.$.currentLocation.go()},currentLocationSuccess:function(t,e){var i=e.coords;if(localStorage.setItem("geolocation_lat",i.latitude),localStorage.setItem("geolocation_lon",i.longitude),console.log("onGeolocationSuccess = "+i.latitude+","+i.longitude),0==use_geolocation)t.stopTracking();else if(this.sendNotif("notification.MessageBar",void 0,1,"Current Location: "+i.latitude+","+i.longitude),"undefined"==typeof google);else{var n=this,o=new google.maps.Geocoder,s=new google.maps.LatLng(i.latitude,i.longitude);o.geocode({latLng:s},function(t,e){e==google.maps.GeocoderStatus.OK&&t.length>1&&t[1]&&(localStorage.setItem("geolocation",t[0].formatted_address),n.set_up_regions_text())})}},saveParkingLocation:function(){var t=localStorage.getItem("geolocation_lat"),e=localStorage.getItem("geolocation_lon");0==t||0==e||(localStorage.setItem("last_parking_lat",t),localStorage.setItem("last_parking_lon",e),lastParkingPOIValid=!0)}});
